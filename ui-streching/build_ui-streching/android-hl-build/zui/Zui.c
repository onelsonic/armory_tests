// Generated by HLC 4.0.0 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <zui/Zui.h>
extern zui__$Zui g$_zui_Zui;
extern hl_type t$_f64;
extern hl_type t$nul_f64;
extern hl_type t$_i32;
extern hl_type t$kha_Kravur;
double kha_Kravur_height(kha__Kravur,int);
void kha_Image_unload(kha__Image);
extern hl_type t$nul_i32;
kha__Image kha_Image_createRenderTarget(int,int,vdynamic*,int*,int*,int*);
kha__graphics2__Graphics kha_Image_get_g2(kha__Image);
int kha_Image_get_width(kha__Image);
int kha_Image_get_height(kha__Image);
#include <kha/input/Mouse.h>
#include <kha/input/Keyboard.h>
kha__input__Mouse kha_input_Mouse_get(int*);
void zui_Zui_onMouseDown(zui__Zui,int,int,int);
extern hl_type t$fun_149083c;
void zui_Zui_onMouseUp(zui__Zui,int,int,int);
void zui_Zui_onMouseMove(zui__Zui,int,int,int,int);
extern hl_type t$fun_f4d77dc;
void zui_Zui_onMouseWheel(zui__Zui,int);
extern hl_type t$fun_46cd1bc;
void kha_input_Mouse_notifyWindowed(kha__input__Mouse,int,vclosure*,vclosure*,vclosure*,vclosure*,vclosure*);
kha__input__Keyboard kha_input_Keyboard_get(int*);
void zui_Zui_onKeyDown(zui__Zui,int);
void zui_Zui_onKeyUp(zui__Zui,int);
void zui_Zui_onKeyPress(zui__Zui,String);
extern hl_type t$fun_161bd10;
void kha_input_Keyboard_notify(kha__input__Keyboard,vclosure*,vclosure*,vclosure*);
void zui_Zui_endWindow(zui__Zui,bool*);
void zui_Zui_drawCombo(zui__Zui);
extern String s$;
int String___compare(String,vdynamic*);
bool zui_Zui_inputChanged(zui__Zui);
double kha_Scheduler_time(void);
void zui_Zui_drawTooltip(zui__Zui);
void zui_Zui_drawTooltipImage(zui__Zui);
void zui_Zui_endInput(zui__Zui);
bool zui_Zui_getInputInRect(zui__Zui,double,double,double,double,double*);
void zui_Zui_resize(zui__Zui,zui__Handle,int,int,int*);
extern hl_type t$_bool;
void zui_Zui_drawTabs(zui__Zui);
#include <hl/natives.h>
double Math_max(double,double);
void zui_Zui_scroll(zui__Zui,double,double);
double kha_Kravur_width(kha__Kravur,int,String);
bool zui_Zui_getReleased(zui__Zui,double*);
bool zui_Zui_getPushed(zui__Zui,double*);
bool zui_Zui_getHover(zui__Zui,double*);
zui__Handle zui_Handle_nest(zui__Handle,int,vvirtual*);
void zui_Zui_fadeColor(zui__Zui);
void zui_Zui_drawString(zui__Zui,kha__graphics2__Graphics,String,vdynamic*,double*,int*);
bool zui_Zui_isVisible(zui__Zui,double);
void zui_Zui_endElement(zui__Zui,vdynamic*);
void zui_Zui_drawTree(zui__Zui,bool);
void zui_Zui_drawArrow(zui__Zui,bool);
double kha_graphics2_Graphics_set_opacity(kha__graphics2__Graphics,double);
double Math_min(double,double);
bool zui_Zui_getStarted(zui__Zui,double*);
void kha_graphics2_Graphics_drawScaledImage(kha__graphics2__Graphics,kha__Image,float,float,float,float);
void kha_input_Keyboard_show(kha__input__Keyboard);
String String_substr(String,int,vdynamic*);
String String___add__(String,String);
void zui_Zui_deselectText(zui__Zui);
vdynamic* String_charCodeAt(String,int);
String String_substring(String,int,vdynamic*);
void kha_input_Keyboard_hide(kha__input__Keyboard);
void zui_Zui_drawCheck(zui__Zui,bool,bool);
void zui_Zui_drawSlider(zui__Zui,double,double,double,bool,bool);
String String___alloc__(vbyte*,int);
double Std_parseFloat(String);
int kha_System_windowHeight(int*);
void zui_Zui_fill(zui__Zui,double,double,double,double,int);
extern String s$68b329d;
hl__types__ArrayObj String_split(String,String);
int kha_System_windowWidth(int*);
extern String s$58b9e70;
kha__graphics4__PipelineState kha_graphics2_Graphics_set_pipeline(kha__graphics2__Graphics,kha__graphics4__PipelineState);
int kha__Color_Color_Impl__fromFloats(float,float,float,float*);
bool zui_Zui_getInitialHover(zui__Zui,double*);
void zui_Zui_setInputPosition(zui__Zui,int,int);
extern String s$7215ee9;
String zui_Zui_onCopy(zui__Zui);
#include <zui/Themes.h>
#include <kha/graphics4/VertexStructure.h>
extern hl_type t$fun_715d8bf;
extern hl_type t$vrt_d94d4d4;
extern zui__$Themes g$_zui_Themes;
extern hl_type t$nul_bool;
extern hl_type t$fun_00f1036;
void kha_System_notifyOnCutCopyPaste(vclosure*,vclosure*,vclosure*);
void kha_System_notifyOnFrames(vclosure*);
kha__graphics4__VertexStructure kha_graphics4_Graphics2_createTextVertexStructure(void);
kha__graphics4__PipelineState kha_graphics4_Graphics2_createTextPipeline(kha__graphics4__VertexStructure);
void kha_graphics4_PipelineState_compile(kha__graphics4__PipelineState);

void zui_Zui_new__$1(hl__types__ArrayObj r0) {
	bool r2;
	zui__$Zui r3;
	int r4, r5;
	r3 = (zui__$Zui)g$_zui_Zui;
	r2 = r3->isCopy;
	if( r2 ) goto label$1577ae0_1_6;
	r3 = (zui__$Zui)g$_zui_Zui;
	r2 = r3->isPaste;
	if( !r2 ) goto label$1577ae0_1_22;
	label$1577ae0_1_6:
	r3 = (zui__$Zui)g$_zui_Zui;
	r4 = r3->copyFrame;
	++r4;
	r3->copyFrame = r4;
	r5 = 1;
	if( r5 >= r4 ) goto label$1577ae0_1_22;
	r2 = false;
	r3 = (zui__$Zui)g$_zui_Zui;
	r3->isPaste = r2;
	r3 = (zui__$Zui)g$_zui_Zui;
	r3->isCut = r2;
	r3 = (zui__$Zui)g$_zui_Zui;
	r3->isCopy = r2;
	r4 = 0;
	r3 = (zui__$Zui)g$_zui_Zui;
	r3->copyFrame = r4;
	label$1577ae0_1_22:
	return;
}

void zui_Zui_setScale(zui__Zui r0,double r1) {
	vvirtual *r2, *r6;
	bool r13;
	kha__Kravur r9;
	double r3, r7, r10, r11, r12;
	vdynamic *r4;
	int r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_alloc_dynamic(&t$_f64);
	r4->v.d = r1;
	if( hl_vfields(r2)[4] ) *(vdynamic**)(hl_vfields(r2)[4]) = (vdynamic*)r4; else hl_dyn_setp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64,r4);
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[18] ? (*(int*)(hl_vfields(r6)[18])) : (int)hl_dyn_geti(r6->value,-532812062/*FONT_SIZE*/,&t$_i32);
	r3 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r7 = r4 ? r4->v.d : 0;
	r3 = r3 * r7;
	r5 = (int)r3;
	r0->fontSize = r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r9 = hl_vfields(r2)[2] ? (*(kha__Kravur*)(hl_vfields(r2)[2])) : (kha__Kravur)hl_dyn_getp(r2->value,62938841/*font*/,&t$kha_Kravur);
	if( r9 == NULL ) hl_null_access();
	r5 = r0->fontSize;
	r7 = kha_Kravur_height(r9,r5);
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r10 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 * r11;
	r10 = r10 - r7;
	r11 = 2.;
	r10 = r10 / r11;
	r0->fontOffsetY = r10;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r10 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 * r11;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[3] ? (*(int*)(hl_vfields(r6)[3])) : (int)hl_dyn_geti(r6->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r11 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r4 ? r4->v.d : 0;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->arrowOffsetY = r10;
	r10 = r0->arrowOffsetY;
	r0->arrowOffsetX = r10;
	r10 = r0->arrowOffsetX;
	r11 = 2.;
	r10 = r10 * r11;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[3] ? (*(int*)(hl_vfields(r6)[3])) : (int)hl_dyn_geti(r6->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r11 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r4 ? r4->v.d : 0;
	r11 = r11 * r12;
	r10 = r10 + r11;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 / r11;
	r0->titleOffsetX = r10;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r10 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 * r11;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[5] ? (*(int*)(hl_vfields(r6)[5])) : (int)hl_dyn_geti(r6->value,-172474255/*BUTTON_H*/,&t$_i32);
	r11 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r4 ? r4->v.d : 0;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->buttonOffsetY = r10;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r10 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 * r11;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[10] ? (*(int*)(hl_vfields(r6)[10])) : (int)hl_dyn_geti(r6->value,-83668365/*CHECK_SIZE*/,&t$_i32);
	r11 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r4 ? r4->v.d : 0;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->checkOffsetY = r10;
	r10 = r0->checkOffsetY;
	r0->checkOffsetX = r10;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[10] ? (*(int*)(hl_vfields(r6)[10])) : (int)hl_dyn_geti(r6->value,-83668365/*CHECK_SIZE*/,&t$_i32);
	r10 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 * r11;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[9] ? (*(int*)(hl_vfields(r6)[9])) : (int)hl_dyn_geti(r6->value,78235607/*CHECK_SELECT_SIZE*/,&t$_i32);
	r11 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r4 ? r4->v.d : 0;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->checkSelectOffsetY = r10;
	r10 = r0->checkSelectOffsetY;
	r0->checkSelectOffsetX = r10;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r10 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 * r11;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[10] ? (*(int*)(hl_vfields(r6)[10])) : (int)hl_dyn_geti(r6->value,-83668365/*CHECK_SIZE*/,&t$_i32);
	r11 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r4 ? r4->v.d : 0;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->radioOffsetY = r10;
	r10 = r0->radioOffsetY;
	r0->radioOffsetX = r10;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[10] ? (*(int*)(hl_vfields(r6)[10])) : (int)hl_dyn_geti(r6->value,-83668365/*CHECK_SIZE*/,&t$_i32);
	r10 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r4 ? r4->v.d : 0;
	r10 = r10 * r11;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[9] ? (*(int*)(hl_vfields(r6)[9])) : (int)hl_dyn_geti(r6->value,78235607/*CHECK_SELECT_SIZE*/,&t$_i32);
	r11 = (double)r5;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r4 ? r4->v.d : 0;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->radioSelectOffsetY = r10;
	r10 = r0->radioSelectOffsetY;
	r0->radioSelectOffsetX = r10;
	r13 = false;
	r0->elementsBaked = r13;
	return;
}

void zui_Zui_bakeElements(zui__Zui r0) {
	bool *r22;
	kha__Image r2;
	vvirtual *r5, *r7;
	bool r21, r30;
	kha__graphics2__Graphics r20;
	double r3, r8, r10, r23, r24, r25, r26, r27, r29;
	double *r28;
	int *r14, *r16, *r18;
	vdynamic *r6, *r12, *r17;
	int r4, r9, r11, r13, r15, r19;
	r2 = r0->checkSelectImage;
	if( !r2 ) goto label$1577ae0_3_5;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	kha_Image_unload(r2);
	label$1577ae0_3_5:
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r4 = hl_vfields(r5)[9] ? (*(int*)(hl_vfields(r5)[9])) : (int)hl_dyn_geti(r5->value,78235607/*CHECK_SELECT_SIZE*/,&t$_i32);
	r3 = (double)r4;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[4] ? (*(vdynamic**)(hl_vfields(r7)[4])) : (vdynamic*)hl_dyn_getp(r7->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r8 = r6 ? r6->v.d : 0;
	r3 = r3 * r8;
	r4 = (int)r3;
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r9 = hl_vfields(r5)[9] ? (*(int*)(hl_vfields(r5)[9])) : (int)hl_dyn_geti(r5->value,78235607/*CHECK_SELECT_SIZE*/,&t$_i32);
	r8 = (double)r9;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[4] ? (*(vdynamic**)(hl_vfields(r7)[4])) : (vdynamic*)hl_dyn_getp(r7->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r10 = r6 ? r6->v.d : 0;
	r8 = r8 * r10;
	r11 = (int)r8;
	r12 = NULL;
	r13 = 0;
	r14 = &r13;
	r15 = 1;
	r16 = &r15;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r17 = hl_vfields(r7)[3] ? (*(vdynamic**)(hl_vfields(r7)[3])) : (vdynamic*)hl_dyn_getp(r7->value,3128633/*khaWindowId*/,&t$nul_i32);
	if( r17 ) goto label$1577ae0_3_36;
	r18 = NULL;
	goto label$1577ae0_3_38;
	label$1577ae0_3_36:
	r19 = r17 ? r17->v.i : 0;
	r18 = &r19;
	label$1577ae0_3_38:
	r2 = kha_Image_createRenderTarget(r4,r11,r12,r14,r16,r18);
	r0->checkSelectImage = r2;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r20 = kha_Image_get_g2(r2);
	if( r20 == NULL ) hl_null_access();
	r21 = true;
	r22 = &r21;
	r9 = 0;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r9;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r20->$type->vobj_proto[0])(r20,r22,r12);
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r9 = hl_vfields(r5)[2] ? (*(int*)(hl_vfields(r5)[2])) : (int)hl_dyn_geti(r5->value,136230716/*ACCENT_SELECT_COL*/,&t$_i32);
	r9 = ((int (*)(kha__graphics2__Graphics,int))r20->$type->vobj_proto[11])(r20,r9);
	r10 = 0.;
	r23 = 0.;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r9 = kha_Image_get_width(r2);
	r24 = (double)r9;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r9 = kha_Image_get_height(r2);
	r25 = (double)r9;
	r26 = 2.;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[4] ? (*(vdynamic**)(hl_vfields(r7)[4])) : (vdynamic*)hl_dyn_getp(r7->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r27 = r6 ? r6->v.d : 0;
	r26 = r26 * r27;
	r28 = &r26;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r20->$type->vobj_proto[7])(r20,r10,r23,r24,r25,r28);
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r9 = kha_Image_get_width(r2);
	r10 = (double)r9;
	r23 = 0.;
	r24 = 0.;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r9 = kha_Image_get_height(r2);
	r25 = (double)r9;
	r27 = 2.;
	r7 = r0->ops;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[4] ? (*(vdynamic**)(hl_vfields(r7)[4])) : (vdynamic*)hl_dyn_getp(r7->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r29 = r6 ? r6->v.d : 0;
	r27 = r27 * r29;
	r28 = &r27;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r20->$type->vobj_proto[7])(r20,r10,r23,r24,r25,r28);
	((void (*)(kha__graphics2__Graphics))r20->$type->vobj_proto[1])(r20);
	r30 = true;
	r0->elementsBaked = r30;
	return;
}

void zui_Zui_registerInput(zui__Zui r0) {
	vvirtual *r5;
	bool r15;
	kha__input__Mouse r2;
	vclosure *r7, *r8, *r9, *r10, *r11, *r13, *r14;
	vdynamic *r4;
	int *r3;
	kha__input__Keyboard r12;
	int r6;
	r3 = NULL;
	r2 = kha_input_Mouse_get(r3);
	if( r2 == NULL ) hl_null_access();
	r5 = r0->ops;
	if( r5 == NULL ) hl_null_access();
	r4 = hl_vfields(r5)[3] ? (*(vdynamic**)(hl_vfields(r5)[3])) : (vdynamic*)hl_dyn_getp(r5->value,3128633/*khaWindowId*/,&t$nul_i32);
	r6 = r4 ? r4->v.i : 0;
	r7 = hl_alloc_closure_ptr(&t$fun_149083c,zui_Zui_onMouseDown,r0);
	r8 = hl_alloc_closure_ptr(&t$fun_149083c,zui_Zui_onMouseUp,r0);
	r9 = hl_alloc_closure_ptr(&t$fun_f4d77dc,zui_Zui_onMouseMove,r0);
	r10 = hl_alloc_closure_ptr(&t$fun_46cd1bc,zui_Zui_onMouseWheel,r0);
	r11 = NULL;
	kha_input_Mouse_notifyWindowed(r2,r6,r7,r8,r9,r10,r11);
	r3 = NULL;
	r12 = kha_input_Keyboard_get(r3);
	if( r12 == NULL ) hl_null_access();
	r10 = hl_alloc_closure_ptr(&t$fun_46cd1bc,zui_Zui_onKeyDown,r0);
	r13 = hl_alloc_closure_ptr(&t$fun_46cd1bc,zui_Zui_onKeyUp,r0);
	r14 = hl_alloc_closure_ptr(&t$fun_161bd10,zui_Zui_onKeyPress,r0);
	kha_input_Keyboard_notify(r12,r10,r13,r14);
	r15 = true;
	r0->inputRegistered = r15;
	return;
}

void zui_Zui_begin(zui__Zui r0,kha__graphics2__Graphics r1) {
	bool r3;
	double r4;
	int r5;
	r3 = r0->elementsBaked;
	if( r3 ) goto label$1577ae0_5_3;
	zui_Zui_bakeElements(r0);
	label$1577ae0_5_3:
	r3 = false;
	r0->changed = r3;
	r0->globalG = r1;
	r4 = 0.;
	r0->_x = r4;
	r4 = 0.;
	r0->_y = r4;
	r5 = 0;
	r0->_w = r5;
	r5 = 0;
	r0->_h = r5;
	return;
}

void zui_Zui_end(zui__Zui r0,bool* r1) {
	String r6, r7;
	kha__Image r8;
	bool r2, r4;
	double r9, r10;
	zui__Handle r5;
	if( r1 ) goto label$1577ae0_6_3;
	r2 = true;
	goto label$1577ae0_6_4;
	label$1577ae0_6_3:
	r2 = *r1;
	label$1577ae0_6_4:
	r4 = r0->windowEnded;
	if( r4 ) goto label$1577ae0_6_8;
	r1 = NULL;
	zui_Zui_endWindow(r0,r1);
	label$1577ae0_6_8:
	r5 = r0->comboSelectedHandle;
	if( !r5 ) goto label$1577ae0_6_11;
	zui_Zui_drawCombo(r0);
	label$1577ae0_6_11:
	r6 = r0->tooltipText;
	r7 = (String)s$;
	if( r6 != r7 && (!r6 || !r7 || String___compare(r6,(vdynamic*)r7) != 0) ) goto label$1577ae0_6_16;
	r8 = r0->tooltipImg;
	if( !r8 ) goto label$1577ae0_6_52;
	label$1577ae0_6_16:
	r4 = zui_Zui_inputChanged(r0);
	if( !r4 ) goto label$1577ae0_6_30;
	r4 = false;
	r0->tooltipShown = r4;
	r9 = r0->inputDX;
	r10 = 0.;
	if( r9 != r10 ) goto label$1577ae0_6_28;
	r9 = r0->inputDY;
	r10 = 0.;
	if( r9 != r10 ) goto label$1577ae0_6_28;
	r4 = true;
	goto label$1577ae0_6_29;
	label$1577ae0_6_28:
	r4 = false;
	label$1577ae0_6_29:
	r0->tooltipWait = r4;
	label$1577ae0_6_30:
	r4 = r0->tooltipShown;
	if( r4 ) goto label$1577ae0_6_38;
	r4 = true;
	r0->tooltipShown = r4;
	r9 = r0->inputX;
	r0->tooltipX = r9;
	r9 = kha_Scheduler_time();
	r0->tooltipTime = r9;
	label$1577ae0_6_38:
	r4 = r0->tooltipWait;
	if( r4 ) goto label$1577ae0_6_51;
	r9 = kha_Scheduler_time();
	r10 = r0->tooltipTime;
	r9 = r9 - r10;
	r10 = 1.;
	if( !(r10 < r9) ) goto label$1577ae0_6_51;
	r6 = r0->tooltipText;
	r7 = (String)s$;
	if( r6 == r7 || (r6 && r7 && String___compare(r6,(vdynamic*)r7) == 0) ) goto label$1577ae0_6_50;
	zui_Zui_drawTooltip(r0);
	goto label$1577ae0_6_51;
	label$1577ae0_6_50:
	zui_Zui_drawTooltipImage(r0);
	label$1577ae0_6_51:
	goto label$1577ae0_6_54;
	label$1577ae0_6_52:
	r4 = false;
	r0->tooltipShown = r4;
	label$1577ae0_6_54:
	if( !r2 ) goto label$1577ae0_6_56;
	zui_Zui_endInput(r0);
	label$1577ae0_6_56:
	r5 = NULL;
	r0->tabPressedHandle = r5;
	return;
}

void zui_Zui_endInput(zui__Zui r0) {
	String r4;
	bool r1;
	zui__$Zui r5;
	double r2;
	int r3;
	r1 = false;
	r0->isKeyPressed = r1;
	r1 = false;
	r0->inputStarted = r1;
	r1 = false;
	r0->inputStartedR = r1;
	r1 = false;
	r0->inputReleased = r1;
	r1 = false;
	r0->inputReleasedR = r1;
	r2 = 0.;
	r0->inputDX = r2;
	r2 = 0.;
	r0->inputDY = r2;
	r3 = 0;
	r0->inputWheelDelta = r3;
	r4 = (String)s$;
	r5 = (zui__$Zui)g$_zui_Zui;
	r5->textToPaste = r4;
	return;
}

void zui_Zui_beginLayout(zui__Zui r0,kha__graphics2__Graphics r1,int r2,int r3,int r4) {
	bool r6;
	double r8;
	zui__Handle r7;
	r6 = r0->elementsBaked;
	if( r6 ) goto label$1577ae0_8_3;
	zui_Zui_bakeElements(r0);
	label$1577ae0_8_3:
	r7 = NULL;
	r0->currentWindow = r7;
	r0->g = r1;
	r8 = 0.;
	r0->_windowX = r8;
	r8 = 0.;
	r0->_windowY = r8;
	r8 = (double)r4;
	r0->_windowW = r8;
	r8 = (double)r2;
	r0->_x = r8;
	r8 = (double)r3;
	r0->_y = r8;
	r0->_w = r4;
	return;
}

void zui_Zui_endLayout(zui__Zui r0,bool* r1) {
	bool r2;
	if( r1 ) goto label$1577ae0_9_3;
	r2 = true;
	goto label$1577ae0_9_4;
	label$1577ae0_9_3:
	r2 = *r1;
	label$1577ae0_9_4:
	if( !r2 ) goto label$1577ae0_9_6;
	zui_Zui_endInput(r0);
	label$1577ae0_9_6:
	return;
}

bool zui_Zui_inputChanged(zui__Zui r0) {
	bool r5;
	double r1, r2;
	int r3, r4;
	r1 = r0->inputDX;
	r2 = 0.;
	if( r1 != r2 ) goto label$1577ae0_10_23;
	r1 = r0->inputDY;
	r2 = 0.;
	if( r1 != r2 ) goto label$1577ae0_10_23;
	r3 = r0->inputWheelDelta;
	r4 = 0;
	if( r3 != r4 ) goto label$1577ae0_10_23;
	r5 = r0->inputStarted;
	if( r5 ) goto label$1577ae0_10_23;
	r5 = r0->inputStartedR;
	if( r5 ) goto label$1577ae0_10_23;
	r5 = r0->inputReleased;
	if( r5 ) goto label$1577ae0_10_23;
	r5 = r0->inputReleasedR;
	if( r5 ) goto label$1577ae0_10_23;
	r5 = r0->inputDown;
	if( r5 ) goto label$1577ae0_10_23;
	r5 = r0->inputDownR;
	if( r5 ) goto label$1577ae0_10_23;
	r5 = r0->isKeyPressed;
	return r5;
	label$1577ae0_10_23:
	r5 = true;
	return r5;
}

bool zui_Zui_windowDirty(zui__Zui r0,zui__Handle r1,int r2,int r3,int r4,int r5) {
	bool r9, r15;
	double r10, r11, r12, r13;
	double *r14;
	int r6, r7, r8;
	if( r1 == NULL ) hl_null_access();
	r7 = r1->dragX;
	r6 = r2 + r7;
	r8 = r1->dragY;
	r7 = r3 + r8;
	r10 = (double)r6;
	r11 = (double)r7;
	r12 = (double)r4;
	r13 = (double)r5;
	r14 = NULL;
	r9 = zui_Zui_getInputInRect(r0,r10,r11,r12,r13,r14);
	if( !r9 ) goto label$1577ae0_11_16;
	r9 = zui_Zui_inputChanged(r0);
	if( !r9 ) goto label$1577ae0_11_16;
	r9 = true;
	goto label$1577ae0_11_17;
	label$1577ae0_11_16:
	r9 = false;
	label$1577ae0_11_17:
	r15 = r0->alwaysRedraw;
	if( r15 ) goto label$1577ae0_11_24;
	r15 = r0->isScrolling;
	if( r15 ) goto label$1577ae0_11_24;
	r15 = r0->isTyping;
	if( r15 ) goto label$1577ae0_11_24;
	return r9;
	label$1577ae0_11_24:
	r15 = true;
	return r15;
}

bool zui_Zui_window(zui__Zui r0,zui__Handle r1,int r2,int r3,int r4,int r5,bool* r6) {
	String r29;
	kha__Image r9;
	hl__types__ArrayObj r30;
	vvirtual *r14, *r27;
	bool r7, r17, r31, r32;
	kha__graphics2__Graphics r18;
	zui__$Zui r22;
	vclosure *r21;
	double r19, r23, r24, r25;
	double *r26;
	int *r15;
	vdynamic *r13, *r28;
	zui__Handle r10, r33;
	int r11, r12, r16, r20;
	if( r6 ) goto label$1577ae0_12_3;
	r7 = false;
	goto label$1577ae0_12_4;
	label$1577ae0_12_3:
	r7 = *r6;
	label$1577ae0_12_4:
	if( r1 == NULL ) hl_null_access();
	r9 = r1->texture;
	if( !r9 ) goto label$1577ae0_12_15;
	r9 = r1->texture;
	if( r9 == NULL ) hl_null_access();
	r12 = kha_Image_get_width(r9);
	if( r4 != r12 ) goto label$1577ae0_12_15;
	r9 = r1->texture;
	if( r9 == NULL ) hl_null_access();
	r12 = kha_Image_get_height(r9);
	if( r5 == r12 ) goto label$1577ae0_12_24;
	label$1577ae0_12_15:
	r14 = r0->ops;
	if( r14 == NULL ) hl_null_access();
	r13 = hl_vfields(r14)[3] ? (*(vdynamic**)(hl_vfields(r14)[3])) : (vdynamic*)hl_dyn_getp(r14->value,3128633/*khaWindowId*/,&t$nul_i32);
	if( r13 ) goto label$1577ae0_12_21;
	r15 = NULL;
	goto label$1577ae0_12_23;
	label$1577ae0_12_21:
	r16 = r13 ? r13->v.i : 0;
	r15 = &r16;
	label$1577ae0_12_23:
	zui_Zui_resize(r0,r1,r4,r5,r15);
	label$1577ae0_12_24:
	r17 = r0->windowEnded;
	if( r17 ) goto label$1577ae0_12_28;
	r6 = NULL;
	zui_Zui_endWindow(r0,r6);
	label$1577ae0_12_28:
	r17 = false;
	r0->windowEnded = r17;
	r9 = r1->texture;
	if( r9 == NULL ) hl_null_access();
	r18 = kha_Image_get_g2(r9);
	r0->g = r18;
	r0->currentWindow = r1;
	r12 = r1->dragX;
	r11 = r2 + r12;
	r19 = (double)r11;
	r0->_windowX = r19;
	r12 = r1->dragY;
	r11 = r3 + r12;
	r19 = (double)r11;
	r0->_windowY = r19;
	r19 = (double)r4;
	r0->_windowW = r19;
	r19 = (double)r5;
	r0->_windowH = r19;
	r19 = 0.;
	r0->windowHeader = r19;
	r17 = zui_Zui_windowDirty(r0,r1,r2,r3,r4,r5);
	if( !r17 ) goto label$1577ae0_12_53;
	r11 = 2;
	r1->redraws = r11;
	label$1577ae0_12_53:
	r22 = (zui__$Zui)g$_zui_Zui;
	r21 = r22->onBorderHover;
	if( !r21 ) goto label$1577ae0_12_119;
	r19 = r0->_windowX;
	r23 = 4.;
	r19 = r19 - r23;
	r23 = r0->_windowY;
	r24 = 8.;
	r25 = r0->_windowH;
	r26 = NULL;
	r17 = zui_Zui_getInputInRect(r0,r19,r23,r24,r25,r26);
	if( !r17 ) goto label$1577ae0_12_71;
	r22 = (zui__$Zui)g$_zui_Zui;
	r21 = r22->onBorderHover;
	if( r21 == NULL ) hl_null_access();
	r11 = 0;
	r21->hasValue ? ((void (*)(vdynamic*,zui__Handle,int))r21->fun)((vdynamic*)r21->value,r1,r11) : ((void (*)(zui__Handle,int))r21->fun)(r1,r11);
	goto label$1577ae0_12_119;
	label$1577ae0_12_71:
	r19 = r0->_windowX;
	r23 = r0->_windowW;
	r19 = r19 + r23;
	r23 = 4.;
	r19 = r19 - r23;
	r23 = r0->_windowY;
	r24 = 8.;
	r25 = r0->_windowH;
	r26 = NULL;
	r17 = zui_Zui_getInputInRect(r0,r19,r23,r24,r25,r26);
	if( !r17 ) goto label$1577ae0_12_88;
	r22 = (zui__$Zui)g$_zui_Zui;
	r21 = r22->onBorderHover;
	if( r21 == NULL ) hl_null_access();
	r11 = 1;
	r21->hasValue ? ((void (*)(vdynamic*,zui__Handle,int))r21->fun)((vdynamic*)r21->value,r1,r11) : ((void (*)(zui__Handle,int))r21->fun)(r1,r11);
	goto label$1577ae0_12_119;
	label$1577ae0_12_88:
	r19 = r0->_windowX;
	r23 = r0->_windowY;
	r24 = 4.;
	r23 = r23 - r24;
	r24 = r0->_windowW;
	r25 = 8.;
	r26 = NULL;
	r17 = zui_Zui_getInputInRect(r0,r19,r23,r24,r25,r26);
	if( !r17 ) goto label$1577ae0_12_103;
	r22 = (zui__$Zui)g$_zui_Zui;
	r21 = r22->onBorderHover;
	if( r21 == NULL ) hl_null_access();
	r11 = 2;
	r21->hasValue ? ((void (*)(vdynamic*,zui__Handle,int))r21->fun)((vdynamic*)r21->value,r1,r11) : ((void (*)(zui__Handle,int))r21->fun)(r1,r11);
	goto label$1577ae0_12_119;
	label$1577ae0_12_103:
	r19 = r0->_windowX;
	r23 = r0->_windowY;
	r24 = r0->_windowH;
	r23 = r23 + r24;
	r24 = 4.;
	r23 = r23 - r24;
	r24 = r0->_windowW;
	r25 = 8.;
	r26 = NULL;
	r17 = zui_Zui_getInputInRect(r0,r19,r23,r24,r25,r26);
	if( !r17 ) goto label$1577ae0_12_119;
	r22 = (zui__$Zui)g$_zui_Zui;
	r21 = r22->onBorderHover;
	if( r21 == NULL ) hl_null_access();
	r11 = 3;
	r21->hasValue ? ((void (*)(vdynamic*,zui__Handle,int))r21->fun)((vdynamic*)r21->value,r1,r11) : ((void (*)(zui__Handle,int))r21->fun)(r1,r11);
	label$1577ae0_12_119:
	r11 = r1->redraws;
	r12 = 0;
	if( r12 < r11 ) goto label$1577ae0_12_124;
	r17 = false;
	return r17;
	label$1577ae0_12_124:
	r19 = 0.;
	r0->_x = r19;
	r19 = r1->scrollOffset;
	r0->_y = r19;
	r11 = r1->layout;
	r12 = 1;
	if( r11 != r12 ) goto label$1577ae0_12_142;
	r27 = r0->_t;
	if( r27 == NULL ) hl_null_access();
	r11 = hl_vfields(r27)[14] ? (*(int*)(hl_vfields(r27)[14])) : (int)hl_dyn_geti(r27->value,-482102225/*ELEMENT_W*/,&t$_i32);
	r19 = (double)r11;
	r14 = r0->ops;
	if( r14 == NULL ) hl_null_access();
	r28 = hl_vfields(r14)[4] ? (*(vdynamic**)(hl_vfields(r14)[4])) : (vdynamic*)hl_dyn_getp(r14->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r23 = r28 ? r28->v.d : 0;
	r19 = r19 * r23;
	r11 = (int)r19;
	r4 = r11;
	label$1577ae0_12_142:
	r17 = r1->scrollEnabled;
	if( r17 ) goto label$1577ae0_12_146;
	r11 = r4;
	goto label$1577ae0_12_158;
	label$1577ae0_12_146:
	r27 = r0->_t;
	if( r27 == NULL ) hl_null_access();
	r12 = hl_vfields(r27)[21] ? (*(int*)(hl_vfields(r27)[21])) : (int)hl_dyn_geti(r27->value,-438651803/*SCROLL_W*/,&t$_i32);
	r19 = (double)r12;
	r14 = r0->ops;
	if( r14 == NULL ) hl_null_access();
	r28 = hl_vfields(r14)[4] ? (*(vdynamic**)(hl_vfields(r14)[4])) : (vdynamic*)hl_dyn_getp(r14->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r23 = r28 ? r28->v.d : 0;
	r19 = r19 * r23;
	r20 = (int)r19;
	r12 = r4 - r20;
	r11 = r12;
	label$1577ae0_12_158:
	r0->_w = r11;
	r0->_h = r5;
	r29 = (String)s$;
	r0->tooltipText = r29;
	r9 = NULL;
	r0->tooltipImg = r9;
	r30 = NULL;
	r0->tabNames = r30;
	r27 = r0->_t;
	if( r27 == NULL ) hl_null_access();
	r17 = hl_vfields(r27)[17] ? (*(bool*)(hl_vfields(r27)[17])) : (bool)hl_dyn_geti(r27->value,-210429581/*FILL_WINDOW_BG*/,&t$_bool);
	if( !r17 ) goto label$1577ae0_12_180;
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	r17 = true;
	r6 = &r17;
	r27 = r0->_t;
	if( r27 == NULL ) hl_null_access();
	r12 = hl_vfields(r27)[26] ? (*(int*)(hl_vfields(r27)[26])) : (int)hl_dyn_geti(r27->value,111677983/*WINDOW_BG_COL*/,&t$_i32);
	r13 = hl_alloc_dynamic(&t$_i32);
	r13->v.i = r12;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r18->$type->vobj_proto[0])(r18,r6,r13);
	goto label$1577ae0_12_202;
	label$1577ae0_12_180:
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	r31 = true;
	r6 = &r31;
	r12 = 0;
	r13 = hl_alloc_dynamic(&t$_i32);
	r13->v.i = r12;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r18->$type->vobj_proto[0])(r18,r6,r13);
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	r27 = r0->_t;
	if( r27 == NULL ) hl_null_access();
	r12 = hl_vfields(r27)[26] ? (*(int*)(hl_vfields(r27)[26])) : (int)hl_dyn_geti(r27->value,111677983/*WINDOW_BG_COL*/,&t$_i32);
	r12 = ((int (*)(kha__graphics2__Graphics,int))r18->$type->vobj_proto[11])(r18,r12);
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	r19 = r0->_x;
	r23 = r0->_y;
	r24 = r1->scrollOffset;
	r23 = r23 - r24;
	r24 = r1->lastMaxX;
	r25 = r1->lastMaxY;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r18->$type->vobj_proto[5])(r18,r19,r23,r24,r25);
	label$1577ae0_12_202:
	r1->dragEnabled = r7;
	if( !r7 ) goto label$1577ae0_12_241;
	r32 = r0->inputStarted;
	if( !r32 ) goto label$1577ae0_12_215;
	r19 = r0->_windowX;
	r23 = r0->_windowY;
	r24 = r0->_windowW;
	r25 = 15.;
	r26 = NULL;
	r32 = zui_Zui_getInputInRect(r0,r19,r23,r24,r25,r26);
	if( !r32 ) goto label$1577ae0_12_215;
	r0->dragHandle = r1;
	goto label$1577ae0_12_219;
	label$1577ae0_12_215:
	r32 = r0->inputReleased;
	if( !r32 ) goto label$1577ae0_12_219;
	r10 = NULL;
	r0->dragHandle = r10;
	label$1577ae0_12_219:
	r33 = r0->dragHandle;
	if( r1 != r33 ) goto label$1577ae0_12_233;
	r12 = 2;
	r1->redraws = r12;
	r19 = r0->inputDX;
	r12 = r1->dragX;
	r20 = (int)r19;
	r12 = r12 + r20;
	r1->dragX = r12;
	r23 = r0->inputDY;
	r12 = r1->dragY;
	r20 = (int)r23;
	r12 = r12 + r20;
	r1->dragY = r12;
	label$1577ae0_12_233:
	r19 = r0->_y;
	r23 = 15.;
	r19 = r19 + r23;
	r0->_y = r19;
	r19 = r0->windowHeader;
	r23 = 15.;
	r19 = r19 + r23;
	r0->windowHeader = r19;
	label$1577ae0_12_241:
	r32 = true;
	return r32;
}

void zui_Zui_endWindow(zui__Zui r0,bool* r1) {
	kha__Image r41;
	vvirtual *r11, *r20;
	hl__types__ArrayObj r9;
	bool r2, r8, r30;
	kha__graphics2__Graphics r10, r32;
	zui__$Zui r39;
	float r42, r43;
	double r12, r13, r14, r15, r16, r17, r18, r21, r22, r23, r24, r25, r26, r27, r28, r33, r34, r35, r36, r37, r38;
	double *r29;
	vdynamic *r19, *r40;
	zui__Handle r3, r5, r31;
	int r6, r7;
	if( r1 ) goto label$1577ae0_13_3;
	r2 = true;
	goto label$1577ae0_13_4;
	label$1577ae0_13_3:
	r2 = *r1;
	label$1577ae0_13_4:
	r3 = r0->currentWindow;
	if( r3 ) goto label$1577ae0_13_7;
	return;
	label$1577ae0_13_7:
	if( r3 == NULL ) hl_null_access();
	r6 = r3->redraws;
	r7 = 0;
	if( r7 < r6 ) goto label$1577ae0_13_15;
	r8 = r0->isScrolling;
	if( r8 ) goto label$1577ae0_13_15;
	r8 = r0->isTyping;
	if( !r8 ) goto label$1577ae0_13_292;
	label$1577ae0_13_15:
	r9 = r0->tabNames;
	if( !r9 ) goto label$1577ae0_13_18;
	zui_Zui_drawTabs(r0);
	label$1577ae0_13_18:
	r8 = r3->dragEnabled;
	if( !r8 ) goto label$1577ae0_13_33;
	r10 = r0->g;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[22] ? (*(int*)(hl_vfields(r11)[22])) : (int)hl_dyn_geti(r11->value,379861099/*SEPARATOR_COL*/,&t$_i32);
	r6 = ((int (*)(kha__graphics2__Graphics,int))r10->$type->vobj_proto[11])(r10,r6);
	r10 = r0->g;
	if( r10 == NULL ) hl_null_access();
	r12 = 0.;
	r13 = 0.;
	r14 = r0->_windowW;
	r15 = 15.;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r10->$type->vobj_proto[5])(r10,r12,r13,r14,r15);
	label$1577ae0_13_33:
	r12 = r0->_y;
	r13 = r3->scrollOffset;
	r12 = r12 - r13;
	r14 = r0->_windowH;
	if( r12 < r14 ) goto label$1577ae0_13_43;
	r6 = r3->layout;
	r7 = 1;
	if( r6 == r7 ) goto label$1577ae0_13_43;
	r8 = r0->scrollEnabled;
	if( r8 ) goto label$1577ae0_13_48;
	label$1577ae0_13_43:
	r8 = false;
	r3->scrollEnabled = r8;
	r13 = 0.;
	r3->scrollOffset = r13;
	goto label$1577ae0_13_270;
	label$1577ae0_13_48:
	r8 = true;
	r3->scrollEnabled = r8;
	r13 = r0->tabScroll;
	r14 = 0.;
	if( !(r13 < r14) ) goto label$1577ae0_13_57;
	r13 = r0->tabScroll;
	r3->scrollOffset = r13;
	r13 = 0.;
	r0->tabScroll = r13;
	label$1577ae0_13_57:
	r14 = r0->_windowH;
	r13 = r12 - r14;
	r14 = r3->scrollOffset;
	r14 = -r14;
	r15 = r14 / r13;
	r16 = r0->_windowH;
	r17 = r0->_windowH;
	r17 = r17 / r12;
	r17 = hl_math_abs(r17);
	r16 = r16 * r17;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[12] ? (*(int*)(hl_vfields(r11)[12])) : (int)hl_dyn_geti(r11->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r18 = (double)r6;
	r20 = r0->ops;
	if( r20 == NULL ) hl_null_access();
	r19 = hl_vfields(r20)[4] ? (*(vdynamic**)(hl_vfields(r20)[4])) : (vdynamic*)hl_dyn_getp(r20->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r21 = r19 ? r19->v.d : 0;
	r18 = r18 * r21;
	r17 = Math_max(r16,r18);
	r16 = r17;
	r17 = r0->_windowH;
	r17 = r17 - r16;
	r18 = r13 / r17;
	r21 = r17 * r15;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[21] ? (*(int*)(hl_vfields(r11)[21])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&t$_i32);
	r22 = (double)r6;
	r20 = r0->ops;
	if( r20 == NULL ) hl_null_access();
	r19 = hl_vfields(r20)[4] ? (*(vdynamic**)(hl_vfields(r20)[4])) : (vdynamic*)hl_dyn_getp(r20->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r23 = r19 ? r19->v.d : 0;
	r22 = r22 * r23;
	r23 = r0->_windowX;
	r24 = r0->_windowW;
	r23 = r23 + r24;
	r6 = (int)r22;
	r24 = (double)r6;
	r23 = r23 - r24;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[21] ? (*(int*)(hl_vfields(r11)[21])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&t$_i32);
	r24 = (double)r6;
	r20 = r0->ops;
	if( r20 == NULL ) hl_null_access();
	r19 = hl_vfields(r20)[4] ? (*(vdynamic**)(hl_vfields(r20)[4])) : (vdynamic*)hl_dyn_getp(r20->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r25 = r19 ? r19->v.d : 0;
	r24 = r24 * r25;
	r27 = r0->_windowY;
	r26 = r21 + r27;
	r6 = (int)r24;
	r27 = (double)r6;
	r29 = NULL;
	r8 = zui_Zui_getInputInRect(r0,r23,r26,r27,r16,r29);
	r30 = r0->inputStarted;
	if( !r30 ) goto label$1577ae0_13_118;
	if( !r8 ) goto label$1577ae0_13_118;
	r0->scrollHandle = r3;
	r30 = true;
	r0->isScrolling = r30;
	label$1577ae0_13_118:
	r31 = r0->scrollHandle;
	if( r3 != r31 ) goto label$1577ae0_13_124;
	r25 = r0->inputDY;
	r25 = r25 * r18;
	zui_Zui_scroll(r0,r25,r12);
	goto label$1577ae0_13_149;
	label$1577ae0_13_124:
	r6 = r0->inputWheelDelta;
	r7 = 0;
	if( r6 == r7 ) goto label$1577ae0_13_149;
	r5 = r0->comboSelectedHandle;
	if( r5 ) goto label$1577ae0_13_149;
	r25 = r0->_windowX;
	r26 = r0->_windowY;
	r27 = r0->_windowW;
	r28 = r0->_windowH;
	r29 = NULL;
	r30 = zui_Zui_getInputInRect(r0,r25,r26,r27,r28,r29);
	if( !r30 ) goto label$1577ae0_13_149;
	r6 = r0->inputWheelDelta;
	r25 = (double)r6;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[12] ? (*(int*)(hl_vfields(r11)[12])) : (int)hl_dyn_geti(r11->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r26 = (double)r6;
	r20 = r0->ops;
	if( r20 == NULL ) hl_null_access();
	r19 = hl_vfields(r20)[4] ? (*(vdynamic**)(hl_vfields(r20)[4])) : (vdynamic*)hl_dyn_getp(r20->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r27 = r19 ? r19->v.d : 0;
	r26 = r26 * r27;
	r25 = r25 * r26;
	zui_Zui_scroll(r0,r25,r12);
	label$1577ae0_13_149:
	r25 = r3->scrollOffset;
	r26 = 0.;
	if( !(r26 < r25) ) goto label$1577ae0_13_155;
	r25 = 0.;
	r3->scrollOffset = r25;
	goto label$1577ae0_13_162;
	label$1577ae0_13_155:
	r26 = r3->scrollOffset;
	r25 = r12 + r26;
	r26 = r0->_windowH;
	if( !(r25 < r26) ) goto label$1577ae0_13_162;
	r25 = r0->_windowH;
	r25 = r25 - r12;
	r3->scrollOffset = r25;
	label$1577ae0_13_162:
	r10 = r0->g;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[26] ? (*(int*)(hl_vfields(r11)[26])) : (int)hl_dyn_geti(r11->value,111677983/*WINDOW_BG_COL*/,&t$_i32);
	r6 = ((int (*)(kha__graphics2__Graphics,int))r10->$type->vobj_proto[11])(r10,r6);
	r10 = r0->g;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[21] ? (*(int*)(hl_vfields(r11)[21])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&t$_i32);
	r25 = (double)r6;
	r20 = r0->ops;
	if( r20 == NULL ) hl_null_access();
	r19 = hl_vfields(r20)[4] ? (*(vdynamic**)(hl_vfields(r20)[4])) : (vdynamic*)hl_dyn_getp(r20->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r26 = r19 ? r19->v.d : 0;
	r25 = r25 * r26;
	r26 = r0->_windowW;
	r6 = (int)r25;
	r27 = (double)r6;
	r26 = r26 - r27;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[21] ? (*(int*)(hl_vfields(r11)[21])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&t$_i32);
	r27 = (double)r6;
	r20 = r0->ops;
	if( r20 == NULL ) hl_null_access();
	r19 = hl_vfields(r20)[4] ? (*(vdynamic**)(hl_vfields(r20)[4])) : (vdynamic*)hl_dyn_getp(r20->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r28 = r19 ? r19->v.d : 0;
	r27 = r27 * r28;
	if( r10 == NULL ) hl_null_access();
	r33 = r0->_windowY;
	r6 = (int)r27;
	r34 = (double)r6;
	r35 = r0->_windowH;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r10->$type->vobj_proto[5])(r10,r26,r33,r34,r35);
	r32 = r0->g;
	if( r32 == NULL ) hl_null_access();
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[0] ? (*(int*)(hl_vfields(r11)[0])) : (int)hl_dyn_geti(r11->value,34671467/*ACCENT_COL*/,&t$_i32);
	r6 = ((int (*)(kha__graphics2__Graphics,int))r32->$type->vobj_proto[11])(r32,r6);
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[21] ? (*(int*)(hl_vfields(r11)[21])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&t$_i32);
	r28 = (double)r6;
	r20 = r0->ops;
	if( r20 == NULL ) hl_null_access();
	r19 = hl_vfields(r20)[4] ? (*(vdynamic**)(hl_vfields(r20)[4])) : (vdynamic*)hl_dyn_getp(r20->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r33 = r19 ? r19->v.d : 0;
	r28 = r28 * r33;
	r33 = r0->_windowX;
	r34 = r0->_windowW;
	r33 = r33 + r34;
	r6 = (int)r28;
	r34 = (double)r6;
	r33 = r33 - r34;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[21] ? (*(int*)(hl_vfields(r11)[21])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&t$_i32);
	r34 = (double)r6;
	r20 = r0->ops;
	if( r20 == NULL ) hl_null_access();
	r19 = hl_vfields(r20)[4] ? (*(vdynamic**)(hl_vfields(r20)[4])) : (vdynamic*)hl_dyn_getp(r20->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r35 = r19 ? r19->v.d : 0;
	r34 = r34 * r35;
	r36 = r0->_windowY;
	r6 = (int)r34;
	r37 = (double)r6;
	r38 = r0->_windowH;
	r29 = NULL;
	r30 = zui_Zui_getInputInRect(r0,r33,r36,r37,r38,r29);
	if( r30 ) goto label$1577ae0_13_236;
	r31 = r0->scrollHandle;
	if( r3 != r31 ) goto label$1577ae0_13_249;
	label$1577ae0_13_236:
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[21] ? (*(int*)(hl_vfields(r11)[21])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&t$_i32);
	r35 = (double)r6;
	r20 = r0->ops;
	if( r20 == NULL ) hl_null_access();
	r19 = hl_vfields(r20)[4] ? (*(vdynamic**)(hl_vfields(r20)[4])) : (vdynamic*)hl_dyn_getp(r20->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r36 = r19 ? r19->v.d : 0;
	r35 = r35 * r36;
	r6 = (int)r35;
	r37 = (double)r6;
	r36 = r37;
	goto label$1577ae0_13_263;
	label$1577ae0_13_249:
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[21] ? (*(int*)(hl_vfields(r11)[21])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&t$_i32);
	r35 = (double)r6;
	r20 = r0->ops;
	if( r20 == NULL ) hl_null_access();
	r19 = hl_vfields(r20)[4] ? (*(vdynamic**)(hl_vfields(r20)[4])) : (vdynamic*)hl_dyn_getp(r20->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r37 = r19 ? r19->v.d : 0;
	r35 = r35 * r37;
	r6 = (int)r35;
	r37 = (double)r6;
	r38 = 3.;
	r37 = r37 / r38;
	r36 = r37;
	label$1577ae0_13_263:
	r32 = r0->g;
	if( r32 == NULL ) hl_null_access();
	r35 = r0->_windowW;
	r35 = r35 - r37;
	r37 = r0->scrollAlign;
	r35 = r35 - r37;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r32->$type->vobj_proto[5])(r32,r35,r21,r36,r16);
	label$1577ae0_13_270:
	r13 = r0->_x;
	r3->lastMaxX = r13;
	r13 = r0->_y;
	r3->lastMaxY = r13;
	r6 = r3->layout;
	r7 = 0;
	if( r6 != r7 ) goto label$1577ae0_13_282;
	r13 = r3->lastMaxX;
	r14 = r0->_windowW;
	r13 = r13 + r14;
	r3->lastMaxX = r13;
	goto label$1577ae0_13_286;
	label$1577ae0_13_282:
	r13 = r3->lastMaxY;
	r14 = r0->_windowH;
	r13 = r13 + r14;
	r3->lastMaxY = r13;
	label$1577ae0_13_286:
	r6 = r3->redraws;
	--r6;
	r3->redraws = r6;
	r10 = r0->g;
	if( r10 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r10->$type->vobj_proto[1])(r10);
	label$1577ae0_13_292:
	r8 = true;
	r0->windowEnded = r8;
	r39 = (zui__$Zui)g$_zui_Zui;
	r8 = r39->alwaysRedrawWindow;
	if( r8 ) goto label$1577ae0_13_300;
	r6 = r3->redraws;
	r7 = -4;
	if( r7 >= r6 ) goto label$1577ae0_13_331;
	label$1577ae0_13_300:
	if( !r2 ) goto label$1577ae0_13_307;
	r10 = r0->globalG;
	if( r10 == NULL ) hl_null_access();
	r8 = false;
	r1 = &r8;
	r40 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r10->$type->vobj_proto[0])(r10,r1,r40);
	label$1577ae0_13_307:
	r10 = r0->globalG;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[27] ? (*(int*)(hl_vfields(r11)[27])) : (int)hl_dyn_geti(r11->value,-291452927/*WINDOW_TINT_COL*/,&t$_i32);
	r6 = ((int (*)(kha__graphics2__Graphics,int))r10->$type->vobj_proto[11])(r10,r6);
	r10 = r0->globalG;
	if( r10 == NULL ) hl_null_access();
	r41 = r3->texture;
	r12 = r0->_windowX;
	r42 = (float)r12;
	r12 = r0->_windowY;
	r43 = (float)r12;
	((void (*)(kha__graphics2__Graphics,kha__Image,float,float))r10->$type->vobj_proto[2])(r10,r41,r42,r43);
	if( !r2 ) goto label$1577ae0_13_325;
	r10 = r0->globalG;
	if( r10 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r10->$type->vobj_proto[1])(r10);
	label$1577ae0_13_325:
	r6 = r3->redraws;
	r7 = 0;
	if( r7 < r6 ) goto label$1577ae0_13_331;
	r6 = r3->redraws;
	--r6;
	r3->redraws = r6;
	label$1577ae0_13_331:
	return;
}

void zui_Zui_scroll(zui__Zui r0,double r1,double r2) {
	double r4;
	zui__Handle r3;
	r3 = r0->currentWindow;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->scrollOffset;
	r4 = r4 - r1;
	r3->scrollOffset = r4;
	return;
}

void zui_Zui_drawTabs(zui__Zui r0) {
	String r26;
	hl__types__ArrayObj r20;
	vvirtual *r7, *r9, *r33;
	bool r12, r29, r30, r31, r35;
	kha__Kravur r23;
	kha__graphics2__Graphics r14;
	double r1, r5, r10, r11, r15, r16, r17, r18, r36, r37, r38, r39, r40;
	int *r41;
	double *r28;
	vdynamic *r4, *r8;
	zui__Handle r3, r32, r34;
	varray *r27;
	int r6, r13, r19, r21, r22, r24, r25;
	r1 = r0->restoreX;
	r0->inputX = r1;
	r1 = r0->restoreY;
	r0->inputY = r1;
	r3 = r0->currentWindow;
	if( r3 ) goto label$1577ae0_15_7;
	return;
	label$1577ae0_15_7:
	r1 = 0.;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[5] ? (*(int*)(hl_vfields(r7)[5])) : (int)hl_dyn_geti(r7->value,-172474255/*BUTTON_H*/,&t$_i32);
	r5 = (double)r6;
	r9 = r0->ops;
	if( r9 == NULL ) hl_null_access();
	r8 = hl_vfields(r9)[4] ? (*(vdynamic**)(hl_vfields(r9)[4])) : (vdynamic*)hl_dyn_getp(r9->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r10 = r8 ? r8->v.d : 0;
	r5 = r5 * r10;
	r10 = 1.1000000000000001;
	r5 = r5 * r10;
	r6 = (int)r5;
	r10 = r0->_y;
	r3 = r0->currentWindow;
	if( r3 == NULL ) hl_null_access();
	r12 = r3->dragEnabled;
	if( !r12 ) goto label$1577ae0_15_27;
	r11 = 15.;
	goto label$1577ae0_15_28;
	label$1577ae0_15_27:
	r11 = 0.;
	label$1577ae0_15_28:
	r0->_y = r11;
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r12 = false;
	r3->changed = r12;
	r14 = r0->g;
	if( r14 == NULL ) hl_null_access();
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r13 = hl_vfields(r7)[22] ? (*(int*)(hl_vfields(r7)[22])) : (int)hl_dyn_geti(r7->value,379861099/*SEPARATOR_COL*/,&t$_i32);
	r13 = ((int (*)(kha__graphics2__Graphics,int))r14->$type->vobj_proto[11])(r14,r13);
	r14 = r0->g;
	if( r14 == NULL ) hl_null_access();
	r11 = 0.;
	r15 = r0->_y;
	r16 = r0->_windowW;
	r17 = r0->buttonOffsetY;
	r18 = (double)r6;
	r17 = r17 + r18;
	r18 = 2.;
	r17 = r17 + r18;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r14->$type->vobj_proto[5])(r14,r11,r15,r16,r17);
	r14 = r0->g;
	if( r14 == NULL ) hl_null_access();
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r13 = hl_vfields(r7)[0] ? (*(int*)(hl_vfields(r7)[0])) : (int)hl_dyn_geti(r7->value,34671467/*ACCENT_COL*/,&t$_i32);
	r13 = ((int (*)(kha__graphics2__Graphics,int))r14->$type->vobj_proto[11])(r14,r13);
	r14 = r0->g;
	if( r14 == NULL ) hl_null_access();
	r11 = r0->buttonOffsetY;
	r15 = r0->_y;
	r16 = r0->buttonOffsetY;
	r15 = r15 + r16;
	r16 = (double)r6;
	r15 = r15 + r16;
	r16 = 2.;
	r15 = r15 + r16;
	r16 = r0->_windowW;
	r17 = r0->buttonOffsetY;
	r18 = 2.;
	r17 = r17 * r18;
	r16 = r16 - r17;
	r17 = 1.;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r14->$type->vobj_proto[5])(r14,r11,r15,r16,r17);
	r11 = r0->_y;
	r15 = 2.;
	r11 = r11 + r15;
	r0->_y = r11;
	r13 = 0;
	r20 = r0->tabNames;
	if( r20 == NULL ) hl_null_access();
	r19 = r20->length;
	label$1577ae0_15_81:
	if( r13 >= r19 ) goto label$1577ae0_15_262;
	r21 = r13;
	++r13;
	r0->_x = r1;
	r9 = r0->ops;
	if( r9 == NULL ) hl_null_access();
	r23 = hl_vfields(r9)[2] ? (*(kha__Kravur*)(hl_vfields(r9)[2])) : (kha__Kravur)hl_dyn_getp(r9->value,62938841/*font*/,&t$kha_Kravur);
	if( r23 == NULL ) hl_null_access();
	r22 = r0->fontSize;
	r20 = r0->tabNames;
	if( r20 == NULL ) hl_null_access();
	r25 = r20->length;
	if( ((unsigned)r21) < ((unsigned)r25) ) goto label$1577ae0_15_97;
	r26 = NULL;
	goto label$1577ae0_15_100;
	label$1577ae0_15_97:
	r27 = r20->array;
	r4 = ((vdynamic**)(r27 + 1))[r21];
	r26 = (String)r4;
	label$1577ae0_15_100:
	r11 = kha_Kravur_width(r23,r22,r26);
	r15 = r0->buttonOffsetY;
	r16 = 2.;
	r15 = r15 * r16;
	r11 = r11 + r15;
	r15 = 18.;
	r9 = r0->ops;
	if( r9 == NULL ) hl_null_access();
	r8 = hl_vfields(r9)[4] ? (*(vdynamic**)(hl_vfields(r9)[4])) : (vdynamic*)hl_dyn_getp(r9->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r16 = r8 ? r8->v.d : 0;
	r15 = r15 * r16;
	r11 = r11 + r15;
	r22 = (int)r11;
	r0->_w = r22;
	r28 = NULL;
	r12 = zui_Zui_getReleased(r0,r28);
	r28 = NULL;
	r29 = zui_Zui_getPushed(r0,r28);
	r28 = NULL;
	r30 = zui_Zui_getHover(r0,r28);
	if( !r12 ) goto label$1577ae0_15_151;
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r32 = r0->tabHandle;
	if( r32 == NULL ) hl_null_access();
	r22 = r32->position;
	r33 = NULL;
	r3 = zui_Handle_nest(r3,r22,r33);
	if( r3 == NULL ) hl_null_access();
	r34 = r0->currentWindow;
	if( r34 == NULL ) hl_null_access();
	r15 = r34->scrollOffset;
	r3->scrollOffset = r15;
	r32 = r0->tabHandle;
	if( r32 == NULL ) hl_null_access();
	r33 = NULL;
	r32 = zui_Handle_nest(r32,r21,r33);
	if( r32 == NULL ) hl_null_access();
	r15 = r32->scrollOffset;
	r0->tabScroll = r15;
	r32 = r0->tabHandle;
	if( r32 == NULL ) hl_null_access();
	r32->position = r21;
	r32 = r0->currentWindow;
	if( r32 == NULL ) hl_null_access();
	r22 = 3;
	r32->redraws = r22;
	r32 = r0->tabHandle;
	if( r32 == NULL ) hl_null_access();
	r31 = true;
	r32->changed = r31;
	label$1577ae0_15_151:
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r22 = r3->position;
	if( r22 == r21 ) goto label$1577ae0_15_157;
	r31 = false;
	goto label$1577ae0_15_158;
	label$1577ae0_15_157:
	r31 = true;
	label$1577ae0_15_158:
	r14 = r0->g;
	if( r14 == NULL ) hl_null_access();
	if( !r31 ) goto label$1577ae0_15_165;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r22 = hl_vfields(r7)[26] ? (*(int*)(hl_vfields(r7)[26])) : (int)hl_dyn_geti(r7->value,111677983/*WINDOW_BG_COL*/,&t$_i32);
	goto label$1577ae0_15_174;
	label$1577ae0_15_165:
	if( r29 ) goto label$1577ae0_15_167;
	if( !r30 ) goto label$1577ae0_15_171;
	label$1577ae0_15_167:
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r22 = hl_vfields(r7)[6] ? (*(int*)(hl_vfields(r7)[6])) : (int)hl_dyn_geti(r7->value,513780351/*BUTTON_HOVER_COL*/,&t$_i32);
	goto label$1577ae0_15_174;
	label$1577ae0_15_171:
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r22 = hl_vfields(r7)[22] ? (*(int*)(hl_vfields(r7)[22])) : (int)hl_dyn_geti(r7->value,379861099/*SEPARATOR_COL*/,&t$_i32);
	label$1577ae0_15_174:
	r22 = ((int (*)(kha__graphics2__Graphics,int))r14->$type->vobj_proto[11])(r14,r22);
	r22 = r0->_w;
	r24 = 1;
	r22 = r22 + r24;
	r16 = (double)r22;
	r15 = r1 + r16;
	r1 = r15;
	r14 = r0->g;
	r15 = r0->_x;
	r16 = r0->buttonOffsetY;
	r15 = r15 + r16;
	r16 = r0->_y;
	r17 = r0->buttonOffsetY;
	r16 = r16 + r17;
	r22 = r0->_w;
	r17 = (double)r22;
	r18 = 0.;
	r37 = 0.;
	if( r18 != r37 ) goto label$1577ae0_15_194;
	r36 = 1.;
	label$1577ae0_15_194:
	r35 = r0->enabled;
	if( r35 ) goto label$1577ae0_15_197;
	zui_Zui_fadeColor(r0);
	label$1577ae0_15_197:
	if( r14 == NULL ) hl_null_access();
	r38 = 1.;
	r37 = r16 - r38;
	r39 = (double)r6;
	r40 = 1.;
	r39 = r39 + r40;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r14->$type->vobj_proto[5])(r14,r15,r37,r17,r39);
	r14 = r0->g;
	if( r14 == NULL ) hl_null_access();
	if( !r31 ) goto label$1577ae0_15_211;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r22 = hl_vfields(r7)[8] ? (*(int*)(hl_vfields(r7)[8])) : (int)hl_dyn_geti(r7->value,-348918917/*BUTTON_TEXT_COL*/,&t$_i32);
	goto label$1577ae0_15_214;
	label$1577ae0_15_211:
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r22 = hl_vfields(r7)[20] ? (*(int*)(hl_vfields(r7)[20])) : (int)hl_dyn_geti(r7->value,370483844/*LABEL_COL*/,&t$_i32);
	label$1577ae0_15_214:
	r22 = ((int (*)(kha__graphics2__Graphics,int))r14->$type->vobj_proto[11])(r14,r22);
	r14 = r0->g;
	r20 = r0->tabNames;
	if( r20 == NULL ) hl_null_access();
	r24 = r20->length;
	if( ((unsigned)r21) < ((unsigned)r24) ) goto label$1577ae0_15_222;
	r26 = NULL;
	goto label$1577ae0_15_225;
	label$1577ae0_15_222:
	r27 = r20->array;
	r4 = ((vdynamic**)(r27 + 1))[r21];
	r26 = (String)r4;
	label$1577ae0_15_225:
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r22 = hl_vfields(r7)[25] ? (*(int*)(hl_vfields(r7)[25])) : (int)hl_dyn_geti(r7->value,-439328731/*TEXT_OFFSET*/,&t$_i32);
	r15 = (double)r22;
	r8 = hl_alloc_dynamic(&t$_f64);
	r8->v.d = r15;
	r22 = 0;
	r15 = (double)r22;
	r28 = &r15;
	r22 = 0;
	r41 = &r22;
	zui_Zui_drawString(r0,r14,r26,r8,r28,r41);
	if( !r31 ) goto label$1577ae0_15_261;
	r14 = r0->g;
	if( r14 == NULL ) hl_null_access();
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r24 = hl_vfields(r7)[26] ? (*(int*)(hl_vfields(r7)[26])) : (int)hl_dyn_geti(r7->value,111677983/*WINDOW_BG_COL*/,&t$_i32);
	r24 = ((int (*)(kha__graphics2__Graphics,int))r14->$type->vobj_proto[11])(r14,r24);
	r14 = r0->g;
	if( r14 == NULL ) hl_null_access();
	r16 = r0->_x;
	r17 = r0->buttonOffsetY;
	r16 = r16 + r17;
	r17 = 1.;
	r16 = r16 + r17;
	r17 = r0->_y;
	r18 = r0->buttonOffsetY;
	r17 = r17 + r18;
	r18 = (double)r6;
	r17 = r17 + r18;
	r24 = r0->_w;
	r25 = 1;
	r24 = r24 - r25;
	r18 = (double)r24;
	r36 = 1.;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r14->$type->vobj_proto[5])(r14,r16,r17,r18,r36);
	label$1577ae0_15_261:
	goto label$1577ae0_15_81;
	label$1577ae0_15_262:
	r11 = 0.;
	r0->_x = r11;
	r0->_y = r10;
	r3 = r0->currentWindow;
	if( r3 == NULL ) hl_null_access();
	r12 = r3->scrollEnabled;
	if( r12 ) goto label$1577ae0_15_272;
	r16 = r0->_windowW;
	r11 = r16;
	goto label$1577ae0_15_286;
	label$1577ae0_15_272:
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r13 = hl_vfields(r7)[21] ? (*(int*)(hl_vfields(r7)[21])) : (int)hl_dyn_geti(r7->value,-438651803/*SCROLL_W*/,&t$_i32);
	r16 = (double)r13;
	r9 = r0->ops;
	if( r9 == NULL ) hl_null_access();
	r8 = hl_vfields(r9)[4] ? (*(vdynamic**)(hl_vfields(r9)[4])) : (vdynamic*)hl_dyn_getp(r9->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r17 = r8 ? r8->v.d : 0;
	r16 = r16 * r17;
	r17 = r0->_windowW;
	r13 = (int)r16;
	r18 = (double)r13;
	r17 = r17 - r18;
	r11 = r17;
	label$1577ae0_15_286:
	r13 = (int)r11;
	r0->_w = r13;
	return;
}

bool zui_Zui_panel(zui__Zui r0,zui__Handle r1,String r2,bool* r3) {
	vvirtual *r9, *r11;
	bool r4, r6;
	kha__graphics2__Graphics r14;
	double r7, r12;
	int *r15;
	double *r13;
	vdynamic *r10;
	int r8;
	if( r3 ) goto label$1577ae0_16_3;
	r4 = false;
	goto label$1577ae0_16_4;
	label$1577ae0_16_3:
	r4 = *r3;
	label$1577ae0_16_4:
	r9 = r0->_t;
	if( r9 == NULL ) hl_null_access();
	r8 = hl_vfields(r9)[12] ? (*(int*)(hl_vfields(r9)[12])) : (int)hl_dyn_geti(r9->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r7 = (double)r8;
	r11 = r0->ops;
	if( r11 == NULL ) hl_null_access();
	r10 = hl_vfields(r11)[4] ? (*(vdynamic**)(hl_vfields(r11)[4])) : (vdynamic*)hl_dyn_getp(r11->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r10 ? r10->v.d : 0;
	r7 = r7 * r12;
	r6 = zui_Zui_isVisible(r0,r7);
	if( r6 ) goto label$1577ae0_16_20;
	r10 = NULL;
	zui_Zui_endElement(r0,r10);
	if( r1 == NULL ) hl_null_access();
	r6 = r1->selected;
	return r6;
	label$1577ae0_16_20:
	r13 = NULL;
	r6 = zui_Zui_getReleased(r0,r13);
	if( !r6 ) goto label$1577ae0_16_27;
	if( r1 == NULL ) hl_null_access();
	r6 = r1->selected;
	r6 = !r6;
	r1->selected = r6;
	label$1577ae0_16_27:
	if( !r4 ) goto label$1577ae0_16_32;
	if( r1 == NULL ) hl_null_access();
	r6 = r1->selected;
	zui_Zui_drawTree(r0,r6);
	goto label$1577ae0_16_35;
	label$1577ae0_16_32:
	if( r1 == NULL ) hl_null_access();
	r6 = r1->selected;
	zui_Zui_drawArrow(r0,r6);
	label$1577ae0_16_35:
	r14 = r0->g;
	if( r14 == NULL ) hl_null_access();
	r9 = r0->_t;
	if( r9 == NULL ) hl_null_access();
	r8 = hl_vfields(r9)[20] ? (*(int*)(hl_vfields(r9)[20])) : (int)hl_dyn_geti(r9->value,370483844/*LABEL_COL*/,&t$_i32);
	r8 = ((int (*)(kha__graphics2__Graphics,int))r14->$type->vobj_proto[11])(r14,r8);
	r14 = r0->g;
	if( r14 == NULL ) hl_null_access();
	r7 = 1.;
	r7 = kha_graphics2_Graphics_set_opacity(r14,r7);
	r14 = r0->g;
	r7 = r0->titleOffsetX;
	r10 = hl_alloc_dynamic(&t$_f64);
	r10->v.d = r7;
	r8 = 0;
	r7 = (double)r8;
	r13 = &r7;
	r15 = NULL;
	zui_Zui_drawString(r0,r14,r2,r10,r13,r15);
	r10 = NULL;
	zui_Zui_endElement(r0,r10);
	r6 = r1->selected;
	return r6;
}

int zui_Zui_image(zui__Zui r0,kha__Image r1,int* r2,vdynamic* r3,int* r4,int* r5,int* r6,int* r7) {
	vvirtual *r17, *r31;
	bool r22, r28, r35, r36, r38;
	kha__graphics2__Graphics r37;
	float r39, r40, r41, r42, r44, r45, r46, r47;
	hl__types__ArrayBytes_Float r29;
	double r13, r18, r20, r21, r23, r24, r25, r26, r32, r33, r43;
	double *r34;
	zui__Handle r27;
	vdynamic *r16;
	vbyte *r30;
	int r8, r9, r10, r11, r12, r14, r15;
	if( r2 ) goto label$1577ae0_17_3;
	r8 = -1;
	goto label$1577ae0_17_4;
	label$1577ae0_17_3:
	r8 = *r2;
	label$1577ae0_17_4:
	if( r4 ) goto label$1577ae0_17_7;
	r9 = 0;
	goto label$1577ae0_17_8;
	label$1577ae0_17_7:
	r9 = *r4;
	label$1577ae0_17_8:
	if( r5 ) goto label$1577ae0_17_11;
	r10 = 0;
	goto label$1577ae0_17_12;
	label$1577ae0_17_11:
	r10 = *r5;
	label$1577ae0_17_12:
	if( r6 ) goto label$1577ae0_17_15;
	r11 = 0;
	goto label$1577ae0_17_16;
	label$1577ae0_17_15:
	r11 = *r6;
	label$1577ae0_17_16:
	if( r7 ) goto label$1577ae0_17_19;
	r12 = 0;
	goto label$1577ae0_17_20;
	label$1577ae0_17_19:
	r12 = *r7;
	label$1577ae0_17_20:
	r15 = 0;
	if( r15 >= r11 ) goto label$1577ae0_17_24;
	r14 = r11;
	goto label$1577ae0_17_26;
	label$1577ae0_17_24:
	if( r1 == NULL ) hl_null_access();
	r14 = kha_Image_get_width(r1);
	label$1577ae0_17_26:
	r13 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[4] ? (*(vdynamic**)(hl_vfields(r17)[4])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r18 = r16 ? r16->v.d : 0;
	r13 = r13 * r18;
	r15 = 0;
	if( r15 >= r12 ) goto label$1577ae0_17_36;
	r14 = r12;
	goto label$1577ae0_17_38;
	label$1577ae0_17_36:
	if( r1 == NULL ) hl_null_access();
	r14 = kha_Image_get_height(r1);
	label$1577ae0_17_38:
	r18 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[4] ? (*(vdynamic**)(hl_vfields(r17)[4])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r20 = r16 ? r16->v.d : 0;
	r18 = r18 * r20;
	r14 = r0->_w;
	r21 = (double)r14;
	r20 = Math_min(r13,r21);
	r21 = r0->_x;
	r22 = r0->imageScrollAlign;
	if( !r22 ) goto label$1577ae0_17_117;
	r14 = r0->_w;
	r24 = (double)r14;
	r25 = r0->buttonOffsetY;
	r26 = 2.;
	r25 = r25 * r26;
	r24 = r24 - r25;
	r23 = Math_min(r13,r24);
	r20 = r23;
	r24 = r0->buttonOffsetY;
	r23 = r21 + r24;
	r21 = r23;
	r27 = r0->currentWindow;
	if( !r27 ) goto label$1577ae0_17_69;
	r27 = r0->currentWindow;
	if( r27 == NULL ) hl_null_access();
	r22 = r27->scrollEnabled;
	if( !r22 ) goto label$1577ae0_17_69;
	r22 = true;
	goto label$1577ae0_17_70;
	label$1577ae0_17_69:
	r22 = false;
	label$1577ae0_17_70:
	if( r22 ) goto label$1577ae0_17_117;
	r14 = r0->curRatio;
	r15 = -1;
	if( r14 != r15 ) goto label$1577ae0_17_76;
	r23 = 1.;
	goto label$1577ae0_17_87;
	label$1577ae0_17_76:
	r29 = r0->ratios;
	if( r29 == NULL ) hl_null_access();
	r14 = r0->curRatio;
	r15 = r29->length;
	if( ((unsigned)r14) < ((unsigned)r15) ) goto label$1577ae0_17_83;
	r23 = 0.;
	goto label$1577ae0_17_87;
	label$1577ae0_17_83:
	r30 = r29->bytes;
	r15 = 3;
	r15 = r14 << r15;
	r23 = *(double*)(r30 + r15);
	label$1577ae0_17_87:
	r31 = r0->_t;
	if( r31 == NULL ) hl_null_access();
	r14 = hl_vfields(r31)[21] ? (*(int*)(hl_vfields(r31)[21])) : (int)hl_dyn_geti(r31->value,-438651803/*SCROLL_W*/,&t$_i32);
	r24 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[4] ? (*(vdynamic**)(hl_vfields(r17)[4])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r25 = r16 ? r16->v.d : 0;
	r24 = r24 * r25;
	r14 = (int)r24;
	r26 = (double)r14;
	r26 = r26 * r23;
	r25 = r20 - r26;
	r20 = r25;
	r31 = r0->_t;
	if( r31 == NULL ) hl_null_access();
	r14 = hl_vfields(r31)[21] ? (*(int*)(hl_vfields(r31)[21])) : (int)hl_dyn_geti(r31->value,-438651803/*SCROLL_W*/,&t$_i32);
	r25 = (double)r14;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[4] ? (*(vdynamic**)(hl_vfields(r17)[4])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r26 = r16 ? r16->v.d : 0;
	r25 = r25 * r26;
	r14 = (int)r25;
	r32 = (double)r14;
	r32 = r32 * r23;
	r33 = 2.;
	r32 = r32 / r33;
	r26 = r21 + r32;
	r21 = r26;
	label$1577ae0_17_117:
	if( r3 ) goto label$1577ae0_17_120;
	r23 = r20 / r13;
	goto label$1577ae0_17_122;
	label$1577ae0_17_120:
	r23 = r3 ? r3->v.d : 0;
	r23 = r23 / r18;
	label$1577ae0_17_122:
	if( r3 ) goto label$1577ae0_17_127;
	r24 = r18 * r23;
	r16 = hl_alloc_dynamic(&t$_f64);
	r16->v.d = r24;
	r3 = r16;
	goto label$1577ae0_17_129;
	label$1577ae0_17_127:
	r24 = r13 * r23;
	r20 = r24;
	label$1577ae0_17_129:
	r24 = r3 ? r3->v.d : 0;
	r22 = zui_Zui_isVisible(r0,r24);
	if( r22 ) goto label$1577ae0_17_135;
	zui_Zui_endElement(r0,r3);
	r14 = 0;
	return r14;
	label$1577ae0_17_135:
	if( r3 ) goto label$1577ae0_17_138;
	r34 = NULL;
	goto label$1577ae0_17_140;
	label$1577ae0_17_138:
	r24 = r3 ? r3->v.d : 0;
	r34 = &r24;
	label$1577ae0_17_140:
	r22 = zui_Zui_getStarted(r0,r34);
	if( r3 ) goto label$1577ae0_17_144;
	r34 = NULL;
	goto label$1577ae0_17_146;
	label$1577ae0_17_144:
	r25 = r3 ? r3->v.d : 0;
	r34 = &r25;
	label$1577ae0_17_146:
	r28 = zui_Zui_getPushed(r0,r34);
	if( r3 ) goto label$1577ae0_17_150;
	r34 = NULL;
	goto label$1577ae0_17_152;
	label$1577ae0_17_150:
	r26 = r3 ? r3->v.d : 0;
	r34 = &r26;
	label$1577ae0_17_152:
	r35 = zui_Zui_getReleased(r0,r34);
	if( r3 ) goto label$1577ae0_17_156;
	r34 = NULL;
	goto label$1577ae0_17_158;
	label$1577ae0_17_156:
	r32 = r3 ? r3->v.d : 0;
	r34 = &r32;
	label$1577ae0_17_158:
	r36 = zui_Zui_getHover(r0,r34);
	r37 = r0->g;
	if( r37 == NULL ) hl_null_access();
	r14 = ((int (*)(kha__graphics2__Graphics,int))r37->$type->vobj_proto[11])(r37,r8);
	r38 = r0->enabled;
	if( r38 ) goto label$1577ae0_17_165;
	zui_Zui_fadeColor(r0);
	label$1577ae0_17_165:
	r33 = r3 ? r3->v.d : 0;
	r15 = 0;
	if( r15 >= r11 ) goto label$1577ae0_17_198;
	r38 = r0->imageInvertY;
	if( !r38 ) goto label$1577ae0_17_185;
	r37 = r0->g;
	if( r37 == NULL ) hl_null_access();
	r39 = (float)r9;
	r40 = (float)r10;
	r41 = (float)r11;
	r42 = (float)r12;
	r44 = (float)r21;
	r43 = r0->_y;
	r43 = r43 + r33;
	r45 = (float)r43;
	r46 = (float)r20;
	r43 = -r33;
	r47 = (float)r43;
	((void (*)(kha__graphics2__Graphics,kha__Image,float,float,float,float,float,float,float,float))r37->$type->vobj_proto[3])(r37,r1,r39,r40,r41,r42,r44,r45,r46,r47);
	goto label$1577ae0_17_197;
	label$1577ae0_17_185:
	r37 = r0->g;
	if( r37 == NULL ) hl_null_access();
	r39 = (float)r9;
	r40 = (float)r10;
	r41 = (float)r11;
	r42 = (float)r12;
	r44 = (float)r21;
	r43 = r0->_y;
	r45 = (float)r43;
	r46 = (float)r20;
	r47 = (float)r33;
	((void (*)(kha__graphics2__Graphics,kha__Image,float,float,float,float,float,float,float,float))r37->$type->vobj_proto[3])(r37,r1,r39,r40,r41,r42,r44,r45,r46,r47);
	label$1577ae0_17_197:
	goto label$1577ae0_17_219;
	label$1577ae0_17_198:
	r38 = r0->imageInvertY;
	if( !r38 ) goto label$1577ae0_17_211;
	r37 = r0->g;
	if( r37 == NULL ) hl_null_access();
	r39 = (float)r21;
	r43 = r0->_y;
	r43 = r43 + r33;
	r40 = (float)r43;
	r41 = (float)r20;
	r43 = -r33;
	r42 = (float)r43;
	kha_graphics2_Graphics_drawScaledImage(r37,r1,r39,r40,r41,r42);
	goto label$1577ae0_17_219;
	label$1577ae0_17_211:
	r37 = r0->g;
	if( r37 == NULL ) hl_null_access();
	r39 = (float)r21;
	r43 = r0->_y;
	r40 = (float)r43;
	r41 = (float)r20;
	r42 = (float)r33;
	kha_graphics2_Graphics_drawScaledImage(r37,r1,r39,r40,r41,r42);
	label$1577ae0_17_219:
	zui_Zui_endElement(r0,r3);
	if( !r22 ) goto label$1577ae0_17_223;
	r14 = 1;
	return r14;
	label$1577ae0_17_223:
	if( !r35 ) goto label$1577ae0_17_226;
	r14 = 3;
	return r14;
	label$1577ae0_17_226:
	if( !r28 ) goto label$1577ae0_17_229;
	r14 = 2;
	return r14;
	label$1577ae0_17_229:
	r14 = 0;
	return r14;
}

int zui_Zui_text(zui__Zui r0,String r1,int* r2,int* r3) {
	vvirtual *r10, *r12;
	bool r7, r15, r16, r17;
	kha__graphics2__Graphics r19;
	double r8, r13, r20, r21, r22;
	double *r14;
	vdynamic *r11;
	int r4, r5, r9, r18;
	if( r2 ) goto label$1577ae0_18_3;
	r4 = 0;
	goto label$1577ae0_18_4;
	label$1577ae0_18_3:
	r4 = *r2;
	label$1577ae0_18_4:
	if( r3 ) goto label$1577ae0_18_7;
	r5 = 0;
	goto label$1577ae0_18_8;
	label$1577ae0_18_7:
	r5 = *r3;
	label$1577ae0_18_8:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[12] ? (*(int*)(hl_vfields(r10)[12])) : (int)hl_dyn_geti(r10->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r8 = (double)r9;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r13 = r11 ? r11->v.d : 0;
	r8 = r8 * r13;
	r7 = zui_Zui_isVisible(r0,r8);
	if( r7 ) goto label$1577ae0_18_23;
	r11 = NULL;
	zui_Zui_endElement(r0,r11);
	r9 = 0;
	return r9;
	label$1577ae0_18_23:
	r14 = NULL;
	r7 = zui_Zui_getStarted(r0,r14);
	r14 = NULL;
	r15 = zui_Zui_getPushed(r0,r14);
	r14 = NULL;
	r16 = zui_Zui_getReleased(r0,r14);
	r14 = NULL;
	r17 = zui_Zui_getHover(r0,r14);
	r18 = 0;
	if( r5 == r18 ) goto label$1577ae0_18_60;
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r9 = ((int (*)(kha__graphics2__Graphics,int))r19->$type->vobj_proto[11])(r19,r5);
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r8 = r0->_x;
	r13 = r0->buttonOffsetY;
	r8 = r8 + r13;
	r13 = r0->_y;
	r20 = r0->buttonOffsetY;
	r13 = r13 + r20;
	r9 = r0->_w;
	r20 = (double)r9;
	r21 = r0->buttonOffsetY;
	r22 = 2.;
	r21 = r21 * r22;
	r20 = r20 - r21;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(int*)(hl_vfields(r10)[5])) : (int)hl_dyn_geti(r10->value,-172474255/*BUTTON_H*/,&t$_i32);
	r21 = (double)r9;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r22 = r11 ? r11->v.d : 0;
	r21 = r21 * r22;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r19->$type->vobj_proto[5])(r19,r8,r13,r20,r21);
	label$1577ae0_18_60:
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[24] ? (*(int*)(hl_vfields(r10)[24])) : (int)hl_dyn_geti(r10->value,-437956663/*TEXT_COL*/,&t$_i32);
	r9 = ((int (*)(kha__graphics2__Graphics,int))r19->$type->vobj_proto[11])(r19,r9);
	r19 = r0->g;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[25] ? (*(int*)(hl_vfields(r10)[25])) : (int)hl_dyn_geti(r10->value,-439328731/*TEXT_OFFSET*/,&t$_i32);
	r8 = (double)r9;
	r11 = hl_alloc_dynamic(&t$_f64);
	r11->v.d = r8;
	r9 = 0;
	r8 = (double)r9;
	r14 = &r8;
	r9 = r4;
	r2 = &r9;
	zui_Zui_drawString(r0,r19,r1,r11,r14,r2);
	r11 = NULL;
	zui_Zui_endElement(r0,r11);
	if( !r7 ) goto label$1577ae0_18_83;
	r18 = 1;
	return r18;
	label$1577ae0_18_83:
	if( !r16 ) goto label$1577ae0_18_86;
	r18 = 3;
	return r18;
	label$1577ae0_18_86:
	if( !r15 ) goto label$1577ae0_18_89;
	r18 = 2;
	return r18;
	label$1577ae0_18_89:
	r18 = 0;
	return r18;
}

void zui_Zui_startTextEdit(zui__Zui r0,zui__Handle r1) {
	String r4;
	bool r2;
	int *r8;
	zui__Handle r3;
	kha__input__Keyboard r7;
	int r6;
	r2 = true;
	r0->isTyping = r2;
	r3 = r0->textSelectedHandle;
	r0->submitTextHandle = r3;
	r4 = r0->textSelectedCurrentText;
	r0->textToSubmit = r4;
	r0->textSelectedHandle = r1;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->text;
	r0->textSelectedCurrentText = r4;
	r2 = r0->tabPressed;
	if( !r2 ) goto label$1577ae0_19_16;
	r2 = false;
	r0->tabPressed = r2;
	r2 = false;
	r0->isKeyPressed = r2;
	label$1577ae0_19_16:
	r0->tabPressedHandle = r1;
	r4 = r1->text;
	if( r4 == NULL ) hl_null_access();
	r6 = r4->length;
	r0->cursorX = r6;
	r6 = 0;
	r0->cursorY = r6;
	r6 = 0;
	r0->highlightAnchor = r6;
	r8 = NULL;
	r7 = kha_input_Keyboard_get(r8);
	if( !r7 ) goto label$1577ae0_19_32;
	r8 = NULL;
	r7 = kha_input_Keyboard_get(r8);
	if( r7 == NULL ) hl_null_access();
	kha_input_Keyboard_show(r7);
	label$1577ae0_19_32:
	return;
}

void zui_Zui_submitTextEdit(zui__Zui r0) {
	String r2;
	bool r3;
	zui__Handle r1;
	r1 = r0->submitTextHandle;
	if( r1 == NULL ) hl_null_access();
	r2 = r0->textToSubmit;
	r1->text = r2;
	r1 = r0->submitTextHandle;
	if( r1 == NULL ) hl_null_access();
	r3 = true;
	r0->changed = r3;
	r1->changed = r3;
	r1 = NULL;
	r0->submitTextHandle = r1;
	r2 = (String)s$;
	r0->textToSubmit = r2;
	r2 = (String)s$;
	r0->textSelectedCurrentText = r2;
	return;
}

void zui_Zui_updateTextEdit(zui__Zui r0,int* r1) {
	String r3, r10, r12;
	vvirtual *r16, *r19;
	bool r5, r14;
	kha__graphics2__Graphics r30;
	kha__Kravur r26;
	zui__$Zui r15;
	double r17, r20, r21, r22, r27, r28, r29, r31, r32;
	zui__Handle r13;
	vdynamic *r6, *r8, *r18;
	int r2, r7, r9, r11, r23, r24, r25;
	if( r1 ) goto label$1577ae0_21_3;
	r2 = 0;
	goto label$1577ae0_21_4;
	label$1577ae0_21_3:
	r2 = *r1;
	label$1577ae0_21_4:
	r3 = r0->textSelectedCurrentText;
	r5 = r0->isKeyPressed;
	if( !r5 ) goto label$1577ae0_21_258;
	r6 = r0->key;
	r7 = 37;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_21_18;
	r7 = r0->cursorX;
	r9 = 0;
	if( r9 >= r7 ) goto label$1577ae0_21_17;
	r7 = r0->cursorX;
	--r7;
	r0->cursorX = r7;
	label$1577ae0_21_17:
	goto label$1577ae0_21_236;
	label$1577ae0_21_18:
	r6 = r0->key;
	r7 = 39;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_21_30;
	r7 = r0->cursorX;
	if( r3 == NULL ) hl_null_access();
	r9 = r3->length;
	if( r7 >= r9 ) goto label$1577ae0_21_29;
	r7 = r0->cursorX;
	++r7;
	r0->cursorX = r7;
	label$1577ae0_21_29:
	goto label$1577ae0_21_236;
	label$1577ae0_21_30:
	r6 = r0->key;
	r7 = 8;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_21_86;
	r7 = r0->cursorX;
	r9 = 0;
	if( r9 >= r7 ) goto label$1577ae0_21_57;
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 != r9 ) goto label$1577ae0_21_57;
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->cursorX;
	r11 = 1;
	r9 = r9 - r11;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->cursorX;
	r9 = r3->length;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	r7 = r0->cursorX;
	--r7;
	r0->cursorX = r7;
	goto label$1577ae0_21_85;
	label$1577ae0_21_57:
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 >= r9 ) goto label$1577ae0_21_74;
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->highlightAnchor;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->cursorX;
	r9 = r3->length;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	r7 = r0->highlightAnchor;
	r0->cursorX = r7;
	goto label$1577ae0_21_85;
	label$1577ae0_21_74:
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->cursorX;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->highlightAnchor;
	r9 = r3->length;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	label$1577ae0_21_85:
	goto label$1577ae0_21_236;
	label$1577ae0_21_86:
	r6 = r0->key;
	r7 = 46;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_21_135;
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 != r9 ) goto label$1577ae0_21_106;
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->cursorX;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->cursorX;
	r9 = 1;
	r7 = r7 + r9;
	r6 = NULL;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	goto label$1577ae0_21_134;
	label$1577ae0_21_106:
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 >= r9 ) goto label$1577ae0_21_123;
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->highlightAnchor;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->cursorX;
	r9 = r3->length;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	r7 = r0->highlightAnchor;
	r0->cursorX = r7;
	goto label$1577ae0_21_134;
	label$1577ae0_21_123:
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->cursorX;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->highlightAnchor;
	r9 = r3->length;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	label$1577ae0_21_134:
	goto label$1577ae0_21_236;
	label$1577ae0_21_135:
	r6 = r0->key;
	r7 = 13;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_21_141;
	zui_Zui_deselectText(r0);
	goto label$1577ae0_21_236;
	label$1577ae0_21_141:
	r6 = r0->key;
	r7 = 27;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_21_151;
	r13 = r0->textSelectedHandle;
	if( r13 == NULL ) hl_null_access();
	r10 = r13->text;
	r0->textSelectedCurrentText = r10;
	zui_Zui_deselectText(r0);
	goto label$1577ae0_21_236;
	label$1577ae0_21_151:
	r6 = r0->key;
	r7 = 9;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_21_161;
	r5 = true;
	r0->tabPressed = r5;
	zui_Zui_deselectText(r0);
	r6 = NULL;
	r0->key = r6;
	goto label$1577ae0_21_236;
	label$1577ae0_21_161:
	r6 = r0->key;
	r7 = 36;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_21_168;
	r7 = 0;
	r0->cursorX = r7;
	goto label$1577ae0_21_236;
	label$1577ae0_21_168:
	r6 = r0->key;
	r7 = 35;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_21_176;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->length;
	r0->cursorX = r7;
	goto label$1577ae0_21_236;
	label$1577ae0_21_176:
	r6 = r0->key;
	r7 = 16;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_21_236;
	r6 = r0->key;
	r7 = 20;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_21_236;
	r6 = r0->key;
	r7 = 17;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_21_236;
	r6 = r0->key;
	r7 = 18;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_21_236;
	r6 = r0->key;
	r7 = 38;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_21_236;
	r6 = r0->key;
	r7 = 40;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_21_236;
	r10 = r0->_char;
	if( !r10 ) goto label$1577ae0_21_236;
	r10 = r0->_char;
	r12 = (String)s$;
	if( r10 == r12 || (r10 && r12 && String___compare(r10,(vdynamic*)r12) == 0) ) goto label$1577ae0_21_236;
	r10 = r0->_char;
	if( r10 == NULL ) hl_null_access();
	r7 = 0;
	r6 = String_charCodeAt(r10,r7);
	r7 = r6 ? r6->v.i : 0;
	r9 = 32;
	if( r7 < r9 ) goto label$1577ae0_21_236;
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->highlightAnchor;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r12 = r0->_char;
	r10 = String___add__(r10,r12);
	r7 = r0->cursorX;
	r6 = NULL;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	r7 = r0->cursorX;
	r9 = 1;
	r7 = r7 + r9;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->length;
	if( r9 >= r7 ) goto label$1577ae0_21_232;
	r7 = r10->length;
	goto label$1577ae0_21_235;
	label$1577ae0_21_232:
	r7 = r0->cursorX;
	r9 = 1;
	r7 = r7 + r9;
	label$1577ae0_21_235:
	r0->cursorX = r7;
	label$1577ae0_21_236:
	r5 = r0->isShiftDown;
	if( !r5 ) goto label$1577ae0_21_252;
	r6 = r0->key;
	r7 = 37;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_21_250;
	r6 = r0->key;
	r7 = 39;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_21_250;
	r6 = r0->key;
	r7 = 16;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_21_252;
	label$1577ae0_21_250:
	r5 = true;
	goto label$1577ae0_21_253;
	label$1577ae0_21_252:
	r5 = false;
	label$1577ae0_21_253:
	if( r5 ) goto label$1577ae0_21_258;
	r14 = r0->isCtrlDown;
	if( r14 ) goto label$1577ae0_21_258;
	r7 = r0->cursorX;
	r0->highlightAnchor = r7;
	label$1577ae0_21_258:
	r15 = (zui__$Zui)g$_zui_Zui;
	r10 = r15->textToPaste;
	r12 = (String)s$;
	if( r10 == r12 || (r10 && r12 && String___compare(r10,(vdynamic*)r12) == 0) ) goto label$1577ae0_21_287;
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->highlightAnchor;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r15 = (zui__$Zui)g$_zui_Zui;
	r12 = r15->textToPaste;
	r10 = String___add__(r10,r12);
	r7 = r0->cursorX;
	r6 = NULL;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	r7 = r0->cursorX;
	r15 = (zui__$Zui)g$_zui_Zui;
	r10 = r15->textToPaste;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->length;
	r7 = r7 + r9;
	r0->cursorX = r7;
	r7 = r0->cursorX;
	r0->highlightAnchor = r7;
	r10 = (String)s$;
	r15 = (zui__$Zui)g$_zui_Zui;
	r15->textToPaste = r10;
	label$1577ae0_21_287:
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 != r9 ) goto label$1577ae0_21_293;
	r15 = (zui__$Zui)g$_zui_Zui;
	r15->textToCopy = r3;
	goto label$1577ae0_21_311;
	label$1577ae0_21_293:
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 >= r9 ) goto label$1577ae0_21_304;
	if( r3 == NULL ) hl_null_access();
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r10 = String_substring(r3,r7,r6);
	r15 = (zui__$Zui)g$_zui_Zui;
	r15->textToCopy = r10;
	goto label$1577ae0_21_311;
	label$1577ae0_21_304:
	if( r3 == NULL ) hl_null_access();
	r7 = r0->cursorX;
	r9 = r0->highlightAnchor;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r10 = String_substring(r3,r7,r6);
	r15 = (zui__$Zui)g$_zui_Zui;
	r15->textToCopy = r10;
	label$1577ae0_21_311:
	r15 = (zui__$Zui)g$_zui_Zui;
	r5 = r15->isCut;
	if( !r5 ) goto label$1577ae0_21_348;
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 != r9 ) goto label$1577ae0_21_320;
	r10 = (String)s$;
	r3 = r10;
	goto label$1577ae0_21_348;
	label$1577ae0_21_320:
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 >= r9 ) goto label$1577ae0_21_337;
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->highlightAnchor;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->cursorX;
	r9 = r3->length;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	r7 = r0->highlightAnchor;
	r0->cursorX = r7;
	goto label$1577ae0_21_348;
	label$1577ae0_21_337:
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->cursorX;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->highlightAnchor;
	r9 = r3->length;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	label$1577ae0_21_348:
	r16 = r0->_t;
	if( r16 == NULL ) hl_null_access();
	r7 = hl_vfields(r16)[25] ? (*(int*)(hl_vfields(r16)[25])) : (int)hl_dyn_geti(r16->value,-439328731/*TEXT_OFFSET*/,&t$_i32);
	r16 = r0->_t;
	if( r16 == NULL ) hl_null_access();
	r9 = hl_vfields(r16)[12] ? (*(int*)(hl_vfields(r16)[12])) : (int)hl_dyn_geti(r16->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r17 = (double)r9;
	r19 = r0->ops;
	if( r19 == NULL ) hl_null_access();
	r18 = hl_vfields(r19)[4] ? (*(vdynamic**)(hl_vfields(r19)[4])) : (vdynamic*)hl_dyn_getp(r19->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r20 = r18 ? r18->v.d : 0;
	r17 = r17 * r20;
	r21 = r0->buttonOffsetY;
	r22 = 3.;
	r21 = r21 * r22;
	r20 = r17 - r21;
	r9 = r0->highlightAnchor;
	r11 = r0->cursorX;
	if( r9 == r11 ) goto label$1577ae0_21_445;
	r9 = r0->cursorX;
	r11 = r0->highlightAnchor;
	r23 = r0->highlightAnchor;
	r24 = r0->cursorX;
	if( r23 >= r24 ) goto label$1577ae0_21_376;
	r23 = r0->highlightAnchor;
	r9 = r23;
	r23 = r0->cursorX;
	r11 = r23;
	label$1577ae0_21_376:
	if( r3 == NULL ) hl_null_access();
	r24 = r11 - r9;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r24;
	r10 = String_substr(r3,r9,r6);
	r19 = r0->ops;
	if( r19 == NULL ) hl_null_access();
	r26 = hl_vfields(r19)[2] ? (*(kha__Kravur*)(hl_vfields(r19)[2])) : (kha__Kravur)hl_dyn_getp(r19->value,62938841/*font*/,&t$kha_Kravur);
	if( r26 == NULL ) hl_null_access();
	r23 = r0->fontSize;
	r21 = kha_Kravur_width(r26,r23,r10);
	r19 = r0->ops;
	if( r19 == NULL ) hl_null_access();
	r26 = hl_vfields(r19)[2] ? (*(kha__Kravur*)(hl_vfields(r19)[2])) : (kha__Kravur)hl_dyn_getp(r19->value,62938841/*font*/,&t$kha_Kravur);
	if( r26 == NULL ) hl_null_access();
	r23 = r0->fontSize;
	r24 = 0;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r24,r6);
	r22 = kha_Kravur_width(r26,r23,r12);
	r24 = 0;
	if( r2 != r24 ) goto label$1577ae0_21_402;
	r27 = r0->_x;
	r27 = r27 + r22;
	r28 = (double)r7;
	r27 = r27 + r28;
	goto label$1577ae0_21_409;
	label$1577ae0_21_402:
	r27 = r0->_x;
	r23 = r0->_w;
	r28 = (double)r23;
	r27 = r27 + r28;
	r27 = r27 - r21;
	r28 = (double)r7;
	r27 = r27 - r28;
	label$1577ae0_21_409:
	r24 = 2;
	if( r2 != r24 ) goto label$1577ae0_21_422;
	r19 = r0->ops;
	if( r19 == NULL ) hl_null_access();
	r26 = hl_vfields(r19)[2] ? (*(kha__Kravur*)(hl_vfields(r19)[2])) : (kha__Kravur)hl_dyn_getp(r19->value,62938841/*font*/,&t$kha_Kravur);
	if( r26 == NULL ) hl_null_access();
	r23 = r0->fontSize;
	r25 = r3->length;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r25;
	r12 = String_substr(r3,r11,r6);
	r29 = kha_Kravur_width(r26,r23,r12);
	r28 = r27 - r29;
	r27 = r28;
	label$1577ae0_21_422:
	r30 = r0->g;
	if( r30 == NULL ) hl_null_access();
	r16 = r0->_t;
	if( r16 == NULL ) hl_null_access();
	r23 = hl_vfields(r16)[2] ? (*(int*)(hl_vfields(r16)[2])) : (int)hl_dyn_geti(r16->value,136230716/*ACCENT_SELECT_COL*/,&t$_i32);
	r23 = ((int (*)(kha__graphics2__Graphics,int))r30->$type->vobj_proto[11])(r30,r23);
	r30 = r0->g;
	if( r30 == NULL ) hl_null_access();
	r29 = r0->_y;
	r23 = r0->cursorY;
	r31 = (double)r23;
	r31 = r31 * r17;
	r29 = r29 + r31;
	r31 = r0->buttonOffsetY;
	r32 = 1.5;
	r31 = r31 * r32;
	r29 = r29 + r31;
	r19 = r0->ops;
	if( r19 == NULL ) hl_null_access();
	r18 = hl_vfields(r19)[4] ? (*(vdynamic**)(hl_vfields(r19)[4])) : (vdynamic*)hl_dyn_getp(r19->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r32 = r18 ? r18->v.d : 0;
	r31 = r21 * r32;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r30->$type->vobj_proto[5])(r30,r27,r29,r31,r20);
	label$1577ae0_21_445:
	r21 = kha_Scheduler_time();
	r27 = 1.;
	r22 = fmod(r21,r27);
	r27 = 0.5;
	if( !(r22 < r27) ) goto label$1577ae0_21_505;
	r11 = 0;
	if( r2 != r11 ) goto label$1577ae0_21_458;
	if( r3 == NULL ) hl_null_access();
	r9 = 0;
	r11 = r0->cursorX;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r11;
	r10 = String_substr(r3,r9,r6);
	goto label$1577ae0_21_463;
	label$1577ae0_21_458:
	if( r3 == NULL ) hl_null_access();
	r9 = r0->cursorX;
	r11 = r3->length;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r11;
	r10 = String_substring(r3,r9,r6);
	label$1577ae0_21_463:
	r19 = r0->ops;
	if( r19 == NULL ) hl_null_access();
	r26 = hl_vfields(r19)[2] ? (*(kha__Kravur*)(hl_vfields(r19)[2])) : (kha__Kravur)hl_dyn_getp(r19->value,62938841/*font*/,&t$kha_Kravur);
	if( r26 == NULL ) hl_null_access();
	r9 = r0->fontSize;
	r22 = kha_Kravur_width(r26,r9,r10);
	r11 = 0;
	if( r2 != r11 ) goto label$1577ae0_21_476;
	r27 = r0->_x;
	r27 = r27 + r22;
	r28 = (double)r7;
	r27 = r27 + r28;
	goto label$1577ae0_21_483;
	label$1577ae0_21_476:
	r27 = r0->_x;
	r9 = r0->_w;
	r28 = (double)r9;
	r27 = r27 + r28;
	r27 = r27 - r22;
	r28 = (double)r7;
	r27 = r27 - r28;
	label$1577ae0_21_483:
	r30 = r0->g;
	if( r30 == NULL ) hl_null_access();
	r16 = r0->_t;
	if( r16 == NULL ) hl_null_access();
	r9 = hl_vfields(r16)[24] ? (*(int*)(hl_vfields(r16)[24])) : (int)hl_dyn_geti(r16->value,-437956663/*TEXT_COL*/,&t$_i32);
	r9 = ((int (*)(kha__graphics2__Graphics,int))r30->$type->vobj_proto[11])(r30,r9);
	r30 = r0->g;
	if( r30 == NULL ) hl_null_access();
	r29 = r0->_y;
	r9 = r0->cursorY;
	r31 = (double)r9;
	r31 = r31 * r17;
	r29 = r29 + r31;
	r31 = r0->buttonOffsetY;
	r32 = 1.5;
	r31 = r31 * r32;
	r29 = r29 + r31;
	r19 = r0->ops;
	if( r19 == NULL ) hl_null_access();
	r18 = hl_vfields(r19)[4] ? (*(vdynamic**)(hl_vfields(r19)[4])) : (vdynamic*)hl_dyn_getp(r19->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r31 = r18 ? r18->v.d : 0;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r30->$type->vobj_proto[5])(r30,r27,r29,r31,r20);
	label$1577ae0_21_505:
	r0->textSelectedCurrentText = r3;
	return;
}

String zui_Zui_textInput(zui__Zui r0,zui__Handle r1,String r2,int* r3) {
	String r4, r29;
	vvirtual *r10, *r12;
	bool r7, r16, r25;
	kha__graphics2__Graphics r19;
	zui__$Zui r18;
	vclosure *r17;
	double r8, r13, r20, r21, r22, r23, r24, r26, r27, r28;
	double *r15;
	zui__Handle r14;
	vdynamic *r11;
	int r5, r9, r30, r31, r32;
	if( r2 ) goto label$1577ae0_22_3;
	r4 = (String)s$;
	r2 = r4;
	label$1577ae0_22_3:
	if( r3 ) goto label$1577ae0_22_6;
	r5 = 0;
	goto label$1577ae0_22_7;
	label$1577ae0_22_6:
	r5 = *r3;
	label$1577ae0_22_7:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[12] ? (*(int*)(hl_vfields(r10)[12])) : (int)hl_dyn_geti(r10->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r8 = (double)r9;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r13 = r11 ? r11->v.d : 0;
	r8 = r8 * r13;
	r7 = zui_Zui_isVisible(r0,r8);
	if( r7 ) goto label$1577ae0_22_23;
	r11 = NULL;
	zui_Zui_endElement(r0,r11);
	if( r1 == NULL ) hl_null_access();
	r4 = r1->text;
	return r4;
	label$1577ae0_22_23:
	r15 = NULL;
	r7 = zui_Zui_getHover(r0,r15);
	if( !r7 ) goto label$1577ae0_22_33;
	r18 = (zui__$Zui)g$_zui_Zui;
	r17 = r18->onTextHover;
	if( !r17 ) goto label$1577ae0_22_33;
	r18 = (zui__$Zui)g$_zui_Zui;
	r17 = r18->onTextHover;
	if( r17 == NULL ) hl_null_access();
	r17->hasValue ? ((void (*)(vdynamic*))r17->fun)((vdynamic*)r17->value) : ((void (*)(void))r17->fun)();
	label$1577ae0_22_33:
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	if( !r7 ) goto label$1577ae0_22_40;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[1] ? (*(int*)(hl_vfields(r10)[1])) : (int)hl_dyn_geti(r10->value,-43289016/*ACCENT_HOVER_COL*/,&t$_i32);
	goto label$1577ae0_22_43;
	label$1577ae0_22_40:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[0] ? (*(int*)(hl_vfields(r10)[0])) : (int)hl_dyn_geti(r10->value,34671467/*ACCENT_COL*/,&t$_i32);
	label$1577ae0_22_43:
	r9 = ((int (*)(kha__graphics2__Graphics,int))r19->$type->vobj_proto[11])(r19,r9);
	r19 = r0->g;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r16 = hl_vfields(r10)[15] ? (*(bool*)(hl_vfields(r10)[15])) : (bool)hl_dyn_geti(r10->value,51671661/*FILL_ACCENT_BG*/,&t$_bool);
	r8 = r0->_x;
	r13 = r0->buttonOffsetY;
	r8 = r8 + r13;
	r13 = r0->_y;
	r20 = r0->buttonOffsetY;
	r13 = r13 + r20;
	r9 = r0->_w;
	r20 = (double)r9;
	r21 = r0->buttonOffsetY;
	r22 = 2.;
	r21 = r21 * r22;
	r20 = r20 - r21;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(int*)(hl_vfields(r10)[5])) : (int)hl_dyn_geti(r10->value,-172474255/*BUTTON_H*/,&t$_i32);
	r21 = (double)r9;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r22 = r11 ? r11->v.d : 0;
	r21 = r21 * r22;
	r22 = 0.;
	r24 = 0.;
	if( r22 != r24 ) goto label$1577ae0_22_74;
	r23 = 1.;
	r22 = r23;
	label$1577ae0_22_74:
	r25 = r0->enabled;
	if( r25 ) goto label$1577ae0_22_77;
	zui_Zui_fadeColor(r0);
	label$1577ae0_22_77:
	if( !r16 ) goto label$1577ae0_22_85;
	if( r19 == NULL ) hl_null_access();
	r26 = 1.;
	r24 = r13 - r26;
	r28 = 1.;
	r27 = r21 + r28;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r19->$type->vobj_proto[5])(r19,r8,r24,r20,r27);
	goto label$1577ae0_22_89;
	label$1577ae0_22_85:
	if( r19 == NULL ) hl_null_access();
	r28 = r22;
	r15 = &r28;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r19->$type->vobj_proto[4])(r19,r8,r13,r20,r21,r15);
	label$1577ae0_22_89:
	r15 = NULL;
	r16 = zui_Zui_getReleased(r0,r15);
	if( r16 ) goto label$1577ae0_22_96;
	r16 = r0->tabPressed;
	if( r16 ) goto label$1577ae0_22_96;
	r16 = false;
	goto label$1577ae0_22_97;
	label$1577ae0_22_96:
	r16 = true;
	label$1577ae0_22_97:
	r14 = r0->textSelectedHandle;
	if( r14 == r1 ) goto label$1577ae0_22_101;
	if( !r16 ) goto label$1577ae0_22_101;
	zui_Zui_startTextEdit(r0,r1);
	label$1577ae0_22_101:
	r14 = r0->textSelectedHandle;
	if( r14 != r1 ) goto label$1577ae0_22_106;
	r9 = r5;
	r3 = &r9;
	zui_Zui_updateTextEdit(r0,r3);
	label$1577ae0_22_106:
	r14 = r0->submitTextHandle;
	if( r14 != r1 ) goto label$1577ae0_22_110;
	zui_Zui_submitTextEdit(r0);
	goto label$1577ae0_22_113;
	label$1577ae0_22_110:
	if( r1 == NULL ) hl_null_access();
	r25 = false;
	r1->changed = r25;
	label$1577ae0_22_113:
	r29 = (String)s$;
	if( r2 == r29 || (r2 && r29 && String___compare(r2,(vdynamic*)r29) == 0) ) goto label$1577ae0_22_140;
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r30 = hl_vfields(r10)[20] ? (*(int*)(hl_vfields(r10)[20])) : (int)hl_dyn_geti(r10->value,370483844/*LABEL_COL*/,&t$_i32);
	r30 = ((int (*)(kha__graphics2__Graphics,int))r19->$type->vobj_proto[11])(r19,r30);
	r31 = 2;
	if( r5 != r31 ) goto label$1577ae0_22_125;
	r30 = 0;
	goto label$1577ae0_22_126;
	label$1577ae0_22_125:
	r30 = 2;
	label$1577ae0_22_126:
	r32 = 0;
	if( r30 != r32 ) goto label$1577ae0_22_130;
	r31 = 7;
	goto label$1577ae0_22_131;
	label$1577ae0_22_130:
	r31 = 0;
	label$1577ae0_22_131:
	r19 = r0->g;
	r8 = (double)r31;
	r11 = hl_alloc_dynamic(&t$_f64);
	r11->v.d = r8;
	r32 = 0;
	r8 = (double)r32;
	r15 = &r8;
	r32 = r30;
	r3 = &r32;
	zui_Zui_drawString(r0,r19,r2,r11,r15,r3);
	label$1577ae0_22_140:
	r19 = r0->g;
	if( r19 == NULL ) hl_null_access();
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r30 = hl_vfields(r10)[24] ? (*(int*)(hl_vfields(r10)[24])) : (int)hl_dyn_geti(r10->value,-437956663/*TEXT_COL*/,&t$_i32);
	r30 = ((int (*)(kha__graphics2__Graphics,int))r19->$type->vobj_proto[11])(r19,r30);
	r14 = r0->textSelectedHandle;
	if( r14 == r1 ) goto label$1577ae0_22_159;
	r19 = r0->g;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->text;
	r11 = NULL;
	r30 = 0;
	r13 = (double)r30;
	r15 = &r13;
	r30 = r5;
	r3 = &r30;
	zui_Zui_drawString(r0,r19,r4,r11,r15,r3);
	goto label$1577ae0_22_168;
	label$1577ae0_22_159:
	r19 = r0->g;
	r4 = r0->textSelectedCurrentText;
	r11 = NULL;
	r31 = 0;
	r20 = (double)r31;
	r15 = &r20;
	r31 = r5;
	r3 = &r31;
	zui_Zui_drawString(r0,r19,r4,r11,r15,r3);
	label$1577ae0_22_168:
	r11 = NULL;
	zui_Zui_endElement(r0,r11);
	if( r1 == NULL ) hl_null_access();
	r4 = r1->text;
	return r4;
}

void zui_Zui_deselectText(zui__Zui r0) {
	String r2;
	bool r3;
	int *r7;
	zui__Handle r1;
	kha__input__Keyboard r6;
	int r5;
	r1 = r0->textSelectedHandle;
	r0->submitTextHandle = r1;
	r2 = r0->textSelectedCurrentText;
	r0->textToSubmit = r2;
	r1 = NULL;
	r0->textSelectedHandle = r1;
	r3 = false;
	r0->isTyping = r3;
	r1 = r0->currentWindow;
	if( !r1 ) goto label$1577ae0_23_14;
	r1 = r0->currentWindow;
	if( r1 == NULL ) hl_null_access();
	r5 = 2;
	r1->redraws = r5;
	label$1577ae0_23_14:
	r7 = NULL;
	r6 = kha_input_Keyboard_get(r7);
	if( !r6 ) goto label$1577ae0_23_21;
	r7 = NULL;
	r6 = kha_input_Keyboard_get(r7);
	if( r6 == NULL ) hl_null_access();
	kha_input_Keyboard_hide(r6);
	label$1577ae0_23_21:
	r5 = r0->cursorX;
	r0->highlightAnchor = r5;
	return;
}

bool zui_Zui_button(zui__Zui r0,String r1,int* r2,String r3) {
	String r5, r28;
	vvirtual *r10, *r12;
	bool r7, r15, r16, r17, r24;
	kha__graphics2__Graphics r18;
	double r8, r13, r19, r20, r21, r22, r23, r25, r26, r27;
	double *r14;
	vdynamic *r11;
	int r4, r9, r29, r30;
	if( r2 ) goto label$1577ae0_24_3;
	r4 = 1;
	goto label$1577ae0_24_4;
	label$1577ae0_24_3:
	r4 = *r2;
	label$1577ae0_24_4:
	if( r3 ) goto label$1577ae0_24_7;
	r5 = (String)s$;
	r3 = r5;
	label$1577ae0_24_7:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[12] ? (*(int*)(hl_vfields(r10)[12])) : (int)hl_dyn_geti(r10->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r8 = (double)r9;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r13 = r11 ? r11->v.d : 0;
	r8 = r8 * r13;
	r7 = zui_Zui_isVisible(r0,r8);
	if( r7 ) goto label$1577ae0_24_22;
	r11 = NULL;
	zui_Zui_endElement(r0,r11);
	r7 = false;
	return r7;
	label$1577ae0_24_22:
	r14 = NULL;
	r7 = zui_Zui_getReleased(r0,r14);
	r14 = NULL;
	r15 = zui_Zui_getPushed(r0,r14);
	r14 = NULL;
	r16 = zui_Zui_getHover(r0,r14);
	if( !r7 ) goto label$1577ae0_24_31;
	r17 = true;
	r0->changed = r17;
	label$1577ae0_24_31:
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	if( !r15 ) goto label$1577ae0_24_38;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[7] ? (*(int*)(hl_vfields(r10)[7])) : (int)hl_dyn_geti(r10->value,-312586346/*BUTTON_PRESSED_COL*/,&t$_i32);
	goto label$1577ae0_24_46;
	label$1577ae0_24_38:
	if( !r16 ) goto label$1577ae0_24_43;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[6] ? (*(int*)(hl_vfields(r10)[6])) : (int)hl_dyn_geti(r10->value,513780351/*BUTTON_HOVER_COL*/,&t$_i32);
	goto label$1577ae0_24_46;
	label$1577ae0_24_43:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[4] ? (*(int*)(hl_vfields(r10)[4])) : (int)hl_dyn_geti(r10->value,-446410866/*BUTTON_COL*/,&t$_i32);
	label$1577ae0_24_46:
	r9 = ((int (*)(kha__graphics2__Graphics,int))r18->$type->vobj_proto[11])(r18,r9);
	r18 = r0->g;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r17 = hl_vfields(r10)[16] ? (*(bool*)(hl_vfields(r10)[16])) : (bool)hl_dyn_geti(r10->value,-314017881/*FILL_BUTTON_BG*/,&t$_bool);
	r8 = r0->_x;
	r13 = r0->buttonOffsetY;
	r8 = r8 + r13;
	r13 = r0->_y;
	r19 = r0->buttonOffsetY;
	r13 = r13 + r19;
	r9 = r0->_w;
	r19 = (double)r9;
	r20 = r0->buttonOffsetY;
	r21 = 2.;
	r20 = r20 * r21;
	r19 = r19 - r20;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(int*)(hl_vfields(r10)[5])) : (int)hl_dyn_geti(r10->value,-172474255/*BUTTON_H*/,&t$_i32);
	r20 = (double)r9;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r21 = r11 ? r11->v.d : 0;
	r20 = r20 * r21;
	r21 = 0.;
	r23 = 0.;
	if( r21 != r23 ) goto label$1577ae0_24_77;
	r22 = 1.;
	r21 = r22;
	label$1577ae0_24_77:
	r24 = r0->enabled;
	if( r24 ) goto label$1577ae0_24_80;
	zui_Zui_fadeColor(r0);
	label$1577ae0_24_80:
	if( !r17 ) goto label$1577ae0_24_88;
	if( r18 == NULL ) hl_null_access();
	r25 = 1.;
	r23 = r13 - r25;
	r27 = 1.;
	r26 = r20 + r27;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r18->$type->vobj_proto[5])(r18,r8,r23,r19,r26);
	goto label$1577ae0_24_92;
	label$1577ae0_24_88:
	if( r18 == NULL ) hl_null_access();
	r27 = r21;
	r14 = &r27;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r18->$type->vobj_proto[4])(r18,r8,r13,r19,r20,r14);
	label$1577ae0_24_92:
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[8] ? (*(int*)(hl_vfields(r10)[8])) : (int)hl_dyn_geti(r10->value,-348918917/*BUTTON_TEXT_COL*/,&t$_i32);
	r9 = ((int (*)(kha__graphics2__Graphics,int))r18->$type->vobj_proto[11])(r18,r9);
	r18 = r0->g;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[25] ? (*(int*)(hl_vfields(r10)[25])) : (int)hl_dyn_geti(r10->value,-439328731/*TEXT_OFFSET*/,&t$_i32);
	r8 = (double)r9;
	r11 = hl_alloc_dynamic(&t$_f64);
	r11->v.d = r8;
	r9 = 0;
	r8 = (double)r9;
	r14 = &r8;
	r9 = r4;
	r2 = &r9;
	zui_Zui_drawString(r0,r18,r1,r11,r14,r2);
	r28 = (String)s$;
	if( r3 == r28 || (r3 && r28 && String___compare(r3,(vdynamic*)r28) == 0) ) goto label$1577ae0_24_134;
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r29 = hl_vfields(r10)[20] ? (*(int*)(hl_vfields(r10)[20])) : (int)hl_dyn_geti(r10->value,370483844/*LABEL_COL*/,&t$_i32);
	r29 = ((int (*)(kha__graphics2__Graphics,int))r18->$type->vobj_proto[11])(r18,r29);
	r18 = r0->g;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r29 = hl_vfields(r10)[25] ? (*(int*)(hl_vfields(r10)[25])) : (int)hl_dyn_geti(r10->value,-439328731/*TEXT_OFFSET*/,&t$_i32);
	r13 = (double)r29;
	r11 = hl_alloc_dynamic(&t$_f64);
	r11->v.d = r13;
	r29 = 0;
	r13 = (double)r29;
	r14 = &r13;
	r30 = 2;
	if( r4 != r30 ) goto label$1577ae0_24_131;
	r29 = 0;
	goto label$1577ae0_24_132;
	label$1577ae0_24_131:
	r29 = 2;
	label$1577ae0_24_132:
	r2 = &r29;
	zui_Zui_drawString(r0,r18,r3,r11,r14,r2);
	label$1577ae0_24_134:
	r11 = NULL;
	zui_Zui_endElement(r0,r11);
	return r7;
}

bool zui_Zui_check(zui__Zui r0,zui__Handle r1,String r2) {
	vvirtual *r7, *r9;
	bool r4, r12;
	kha__graphics2__Graphics r13;
	double r5, r10;
	int *r14;
	double *r11;
	vdynamic *r8;
	int r6;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r5 = (double)r6;
	r9 = r0->ops;
	if( r9 == NULL ) hl_null_access();
	r8 = hl_vfields(r9)[4] ? (*(vdynamic**)(hl_vfields(r9)[4])) : (vdynamic*)hl_dyn_getp(r9->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r10 = r8 ? r8->v.d : 0;
	r5 = r5 * r10;
	r4 = zui_Zui_isVisible(r0,r5);
	if( r4 ) goto label$1577ae0_25_16;
	r8 = NULL;
	zui_Zui_endElement(r0,r8);
	if( r1 == NULL ) hl_null_access();
	r4 = r1->selected;
	return r4;
	label$1577ae0_25_16:
	r11 = NULL;
	r4 = zui_Zui_getReleased(r0,r11);
	if( !r4 ) goto label$1577ae0_25_27;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->selected;
	r4 = !r4;
	r1->selected = r4;
	r4 = true;
	r0->changed = r4;
	r1->changed = r4;
	goto label$1577ae0_25_30;
	label$1577ae0_25_27:
	if( r1 == NULL ) hl_null_access();
	r4 = false;
	r1->changed = r4;
	label$1577ae0_25_30:
	r11 = NULL;
	r4 = zui_Zui_getHover(r0,r11);
	r12 = r1->selected;
	zui_Zui_drawCheck(r0,r12,r4);
	r13 = r0->g;
	if( r13 == NULL ) hl_null_access();
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[24] ? (*(int*)(hl_vfields(r7)[24])) : (int)hl_dyn_geti(r7->value,-437956663/*TEXT_COL*/,&t$_i32);
	r6 = ((int (*)(kha__graphics2__Graphics,int))r13->$type->vobj_proto[11])(r13,r6);
	r13 = r0->g;
	r5 = r0->titleOffsetX;
	r8 = hl_alloc_dynamic(&t$_f64);
	r8->v.d = r5;
	r6 = 0;
	r5 = (double)r6;
	r11 = &r5;
	r6 = 0;
	r14 = &r6;
	zui_Zui_drawString(r0,r13,r2,r8,r11,r14);
	r8 = NULL;
	zui_Zui_endElement(r0,r8);
	r12 = r1->selected;
	return r12;
}

int zui_Zui_combo(zui__Zui r0,zui__Handle r1,hl__types__ArrayObj r2,String r3,bool* r4,int* r5) {
	String r6, r34;
	vvirtual *r13, *r15;
	bool r7, r10, r23, r28;
	kha__graphics2__Graphics r24;
	double r11, r16, r20, r21, r25, r26, r27, r29, r30, r31, r32, r33;
	double *r19;
	zui__Handle r17, r22;
	vdynamic *r14, *r18;
	varray *r37;
	int r8, r12, r35, r36, r38;
	if( r3 ) goto label$1577ae0_26_3;
	r6 = (String)s$;
	r3 = r6;
	label$1577ae0_26_3:
	if( r4 ) goto label$1577ae0_26_6;
	r7 = false;
	goto label$1577ae0_26_7;
	label$1577ae0_26_6:
	r7 = *r4;
	label$1577ae0_26_7:
	if( r5 ) goto label$1577ae0_26_10;
	r8 = 0;
	goto label$1577ae0_26_11;
	label$1577ae0_26_10:
	r8 = *r5;
	label$1577ae0_26_11:
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[12] ? (*(int*)(hl_vfields(r13)[12])) : (int)hl_dyn_geti(r13->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r11 = (double)r12;
	r15 = r0->ops;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[4] ? (*(vdynamic**)(hl_vfields(r15)[4])) : (vdynamic*)hl_dyn_getp(r15->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r16 = r14 ? r14->v.d : 0;
	r11 = r11 * r16;
	r10 = zui_Zui_isVisible(r0,r11);
	if( r10 ) goto label$1577ae0_26_27;
	r14 = NULL;
	zui_Zui_endElement(r0,r14);
	if( r1 == NULL ) hl_null_access();
	r12 = r1->position;
	return r12;
	label$1577ae0_26_27:
	r19 = NULL;
	r10 = zui_Zui_getReleased(r0,r19);
	if( !r10 ) goto label$1577ae0_26_64;
	r17 = r0->comboSelectedHandle;
	if( r17 ) goto label$1577ae0_26_64;
	r10 = false;
	r0->inputEnabled = r10;
	r0->comboSelectedHandle = r1;
	r17 = r0->currentWindow;
	r0->comboSelectedWindow = r17;
	r0->comboSelectedAlign = r8;
	r0->comboSelectedTexts = r2;
	r0->comboSelectedLabel = r3;
	r11 = r0->_x;
	r16 = r0->_windowX;
	r11 = r11 + r16;
	r12 = (int)r11;
	r0->comboSelectedX = r12;
	r16 = r0->_y;
	r20 = r0->_windowY;
	r16 = r16 + r20;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[12] ? (*(int*)(hl_vfields(r13)[12])) : (int)hl_dyn_geti(r13->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r20 = (double)r12;
	r15 = r0->ops;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[4] ? (*(vdynamic**)(hl_vfields(r15)[4])) : (vdynamic*)hl_dyn_getp(r15->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r21 = r14 ? r14->v.d : 0;
	r20 = r20 * r21;
	r16 = r16 + r20;
	r12 = (int)r16;
	r0->comboSelectedY = r12;
	r12 = r0->_w;
	r20 = (double)r12;
	r12 = (int)r20;
	r0->comboSelectedW = r12;
	label$1577ae0_26_64:
	r22 = r0->submitComboHandle;
	if( r1 != r22 ) goto label$1577ae0_26_75;
	if( r1 == NULL ) hl_null_access();
	r12 = r0->comboToSubmit;
	r1->position = r12;
	r17 = NULL;
	r0->submitComboHandle = r17;
	r10 = true;
	r0->changed = r10;
	r1->changed = r10;
	goto label$1577ae0_26_78;
	label$1577ae0_26_75:
	if( r1 == NULL ) hl_null_access();
	r10 = false;
	r1->changed = r10;
	label$1577ae0_26_78:
	r19 = NULL;
	r10 = zui_Zui_getHover(r0,r19);
	if( !r10 ) goto label$1577ae0_26_133;
	r24 = r0->g;
	if( r24 == NULL ) hl_null_access();
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[1] ? (*(int*)(hl_vfields(r13)[1])) : (int)hl_dyn_geti(r13->value,-43289016/*ACCENT_HOVER_COL*/,&t$_i32);
	r12 = ((int (*)(kha__graphics2__Graphics,int))r24->$type->vobj_proto[11])(r24,r12);
	r24 = r0->g;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r23 = hl_vfields(r13)[15] ? (*(bool*)(hl_vfields(r13)[15])) : (bool)hl_dyn_geti(r13->value,51671661/*FILL_ACCENT_BG*/,&t$_bool);
	r11 = r0->_x;
	r16 = r0->buttonOffsetY;
	r11 = r11 + r16;
	r16 = r0->_y;
	r20 = r0->buttonOffsetY;
	r16 = r16 + r20;
	r12 = r0->_w;
	r20 = (double)r12;
	r21 = r0->buttonOffsetY;
	r25 = 2.;
	r21 = r21 * r25;
	r20 = r20 - r21;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(int*)(hl_vfields(r13)[5])) : (int)hl_dyn_geti(r13->value,-172474255/*BUTTON_H*/,&t$_i32);
	r21 = (double)r12;
	r15 = r0->ops;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[4] ? (*(vdynamic**)(hl_vfields(r15)[4])) : (vdynamic*)hl_dyn_getp(r15->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r25 = r14 ? r14->v.d : 0;
	r21 = r21 * r25;
	r25 = 0.;
	r27 = 0.;
	if( r25 != r27 ) goto label$1577ae0_26_117;
	r26 = 1.;
	r25 = r26;
	label$1577ae0_26_117:
	r28 = r0->enabled;
	if( r28 ) goto label$1577ae0_26_120;
	zui_Zui_fadeColor(r0);
	label$1577ae0_26_120:
	if( !r23 ) goto label$1577ae0_26_128;
	if( r24 == NULL ) hl_null_access();
	r29 = 1.;
	r27 = r16 - r29;
	r31 = 1.;
	r30 = r21 + r31;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r24->$type->vobj_proto[5])(r24,r11,r27,r20,r30);
	goto label$1577ae0_26_132;
	label$1577ae0_26_128:
	if( r24 == NULL ) hl_null_access();
	r31 = r25;
	r19 = &r31;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r24->$type->vobj_proto[4])(r24,r11,r16,r20,r21,r19);
	label$1577ae0_26_132:
	goto label$1577ae0_26_184;
	label$1577ae0_26_133:
	r24 = r0->g;
	if( r24 == NULL ) hl_null_access();
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[0] ? (*(int*)(hl_vfields(r13)[0])) : (int)hl_dyn_geti(r13->value,34671467/*ACCENT_COL*/,&t$_i32);
	r12 = ((int (*)(kha__graphics2__Graphics,int))r24->$type->vobj_proto[11])(r24,r12);
	r24 = r0->g;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r23 = hl_vfields(r13)[15] ? (*(bool*)(hl_vfields(r13)[15])) : (bool)hl_dyn_geti(r13->value,51671661/*FILL_ACCENT_BG*/,&t$_bool);
	r11 = r0->_x;
	r16 = r0->buttonOffsetY;
	r11 = r11 + r16;
	r16 = r0->_y;
	r20 = r0->buttonOffsetY;
	r16 = r16 + r20;
	r12 = r0->_w;
	r20 = (double)r12;
	r21 = r0->buttonOffsetY;
	r25 = 2.;
	r21 = r21 * r25;
	r20 = r20 - r21;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[5] ? (*(int*)(hl_vfields(r13)[5])) : (int)hl_dyn_geti(r13->value,-172474255/*BUTTON_H*/,&t$_i32);
	r21 = (double)r12;
	r15 = r0->ops;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[4] ? (*(vdynamic**)(hl_vfields(r15)[4])) : (vdynamic*)hl_dyn_getp(r15->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r25 = r14 ? r14->v.d : 0;
	r21 = r21 * r25;
	r25 = 0.;
	r27 = 0.;
	if( r25 != r27 ) goto label$1577ae0_26_169;
	r26 = 1.;
	r25 = r26;
	label$1577ae0_26_169:
	r28 = r0->enabled;
	if( r28 ) goto label$1577ae0_26_172;
	zui_Zui_fadeColor(r0);
	label$1577ae0_26_172:
	if( !r23 ) goto label$1577ae0_26_180;
	if( r24 == NULL ) hl_null_access();
	r29 = 1.;
	r27 = r16 - r29;
	r32 = 1.;
	r30 = r21 + r32;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r24->$type->vobj_proto[5])(r24,r11,r27,r20,r30);
	goto label$1577ae0_26_184;
	label$1577ae0_26_180:
	if( r24 == NULL ) hl_null_access();
	r32 = r25;
	r19 = &r32;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r24->$type->vobj_proto[4])(r24,r11,r16,r20,r21,r19);
	label$1577ae0_26_184:
	r11 = r0->_x;
	r12 = r0->_w;
	r16 = (double)r12;
	r11 = r11 + r16;
	r16 = r0->arrowOffsetX;
	r11 = r11 - r16;
	r16 = 8.;
	r11 = r11 - r16;
	r16 = r0->_y;
	r20 = r0->arrowOffsetY;
	r16 = r16 + r20;
	r20 = 3.;
	r16 = r16 + r20;
	r24 = r0->g;
	if( r24 == NULL ) hl_null_access();
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[3] ? (*(int*)(hl_vfields(r13)[3])) : (int)hl_dyn_geti(r13->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r26 = (double)r12;
	r15 = r0->ops;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[4] ? (*(vdynamic**)(hl_vfields(r15)[4])) : (vdynamic*)hl_dyn_getp(r15->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r27 = r14 ? r14->v.d : 0;
	r26 = r26 * r27;
	r25 = r11 + r26;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[3] ? (*(int*)(hl_vfields(r13)[3])) : (int)hl_dyn_geti(r13->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r29 = (double)r12;
	r15 = r0->ops;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[4] ? (*(vdynamic**)(hl_vfields(r15)[4])) : (vdynamic*)hl_dyn_getp(r15->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r30 = r14 ? r14->v.d : 0;
	r29 = r29 * r30;
	r30 = 2.;
	r29 = r29 / r30;
	r27 = r11 + r29;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[3] ? (*(int*)(hl_vfields(r13)[3])) : (int)hl_dyn_geti(r13->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r30 = (double)r12;
	r15 = r0->ops;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[4] ? (*(vdynamic**)(hl_vfields(r15)[4])) : (vdynamic*)hl_dyn_getp(r15->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r33 = r14 ? r14->v.d : 0;
	r30 = r30 * r33;
	r33 = 2.;
	r30 = r30 / r33;
	r29 = r16 + r30;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double,double))r24->$type->vobj_proto[8])(r24,r11,r16,r25,r16,r27,r29);
	if( !r7 ) goto label$1577ae0_26_267;
	r34 = (String)s$;
	if( r3 == r34 || (r3 && r34 && String___compare(r3,(vdynamic*)r34) == 0) ) goto label$1577ae0_26_267;
	r35 = 0;
	if( r8 != r35 ) goto label$1577ae0_26_243;
	r20 = r0->_x;
	r21 = 15.;
	r20 = r20 - r21;
	r0->_x = r20;
	label$1577ae0_26_243:
	r24 = r0->g;
	if( r24 == NULL ) hl_null_access();
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[20] ? (*(int*)(hl_vfields(r13)[20])) : (int)hl_dyn_geti(r13->value,370483844/*LABEL_COL*/,&t$_i32);
	r12 = ((int (*)(kha__graphics2__Graphics,int))r24->$type->vobj_proto[11])(r24,r12);
	r24 = r0->g;
	r14 = NULL;
	r12 = 0;
	r20 = (double)r12;
	r19 = &r20;
	r35 = 0;
	if( r8 != r35 ) goto label$1577ae0_26_258;
	r12 = 2;
	goto label$1577ae0_26_259;
	label$1577ae0_26_258:
	r12 = 0;
	label$1577ae0_26_259:
	r5 = &r12;
	zui_Zui_drawString(r0,r24,r3,r14,r19,r5);
	r36 = 0;
	if( r8 != r36 ) goto label$1577ae0_26_267;
	r21 = r0->_x;
	r25 = 15.;
	r21 = r21 + r25;
	r0->_x = r21;
	label$1577ae0_26_267:
	r36 = 2;
	if( r8 != r36 ) goto label$1577ae0_26_273;
	r21 = r0->_x;
	r25 = 15.;
	r21 = r21 - r25;
	r0->_x = r21;
	label$1577ae0_26_273:
	r24 = r0->g;
	if( r24 == NULL ) hl_null_access();
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r35 = hl_vfields(r13)[24] ? (*(int*)(hl_vfields(r13)[24])) : (int)hl_dyn_geti(r13->value,-437956663/*TEXT_COL*/,&t$_i32);
	r35 = ((int (*)(kha__graphics2__Graphics,int))r24->$type->vobj_proto[11])(r24,r35);
	r24 = r0->g;
	if( r2 == NULL ) hl_null_access();
	r35 = r1->position;
	r36 = r2->length;
	if( ((unsigned)r35) < ((unsigned)r36) ) goto label$1577ae0_26_286;
	r6 = NULL;
	goto label$1577ae0_26_289;
	label$1577ae0_26_286:
	r37 = r2->array;
	r18 = ((vdynamic**)(r37 + 1))[r35];
	r6 = (String)r18;
	label$1577ae0_26_289:
	r14 = NULL;
	r35 = 0;
	r21 = (double)r35;
	r19 = &r21;
	r35 = r8;
	r5 = &r35;
	zui_Zui_drawString(r0,r24,r6,r14,r19,r5);
	r38 = 2;
	if( r8 != r38 ) goto label$1577ae0_26_302;
	r25 = r0->_x;
	r26 = 15.;
	r25 = r25 + r26;
	r0->_x = r25;
	label$1577ae0_26_302:
	r14 = NULL;
	zui_Zui_endElement(r0,r14);
	r36 = r1->position;
	return r36;
}

double zui_Zui_slider(zui__Zui r0,zui__Handle r1,String r2,double* r3,double* r4,bool* r5,int* r6,bool* r7,int* r8,bool* r9) {
	String r33, r35;
	vvirtual *r21, *r23;
	bool r12, r14, r16, r18, r32;
	kha__graphics2__Graphics r38;
	double r10, r11, r19, r24, r27, r28, r29, r30, r31;
	zui__Handle r25, r26;
	vdynamic *r22;
	vbyte *r34;
	int r13, r15, r20, r36, r37, r39, r40;
	if( r3 ) goto label$1577ae0_27_3;
	r10 = 0.;
	goto label$1577ae0_27_4;
	label$1577ae0_27_3:
	r10 = *r3;
	label$1577ae0_27_4:
	if( r4 ) goto label$1577ae0_27_7;
	r11 = 1.;
	goto label$1577ae0_27_8;
	label$1577ae0_27_7:
	r11 = *r4;
	label$1577ae0_27_8:
	if( r5 ) goto label$1577ae0_27_11;
	r12 = false;
	goto label$1577ae0_27_12;
	label$1577ae0_27_11:
	r12 = *r5;
	label$1577ae0_27_12:
	if( r6 ) goto label$1577ae0_27_15;
	r13 = 100;
	goto label$1577ae0_27_16;
	label$1577ae0_27_15:
	r13 = *r6;
	label$1577ae0_27_16:
	if( r7 ) goto label$1577ae0_27_19;
	r14 = true;
	goto label$1577ae0_27_20;
	label$1577ae0_27_19:
	r14 = *r7;
	label$1577ae0_27_20:
	if( r8 ) goto label$1577ae0_27_23;
	r15 = 2;
	goto label$1577ae0_27_24;
	label$1577ae0_27_23:
	r15 = *r8;
	label$1577ae0_27_24:
	if( r9 ) goto label$1577ae0_27_27;
	r16 = true;
	goto label$1577ae0_27_28;
	label$1577ae0_27_27:
	r16 = *r9;
	label$1577ae0_27_28:
	r21 = r0->_t;
	if( r21 == NULL ) hl_null_access();
	r20 = hl_vfields(r21)[12] ? (*(int*)(hl_vfields(r21)[12])) : (int)hl_dyn_geti(r21->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r19 = (double)r20;
	r23 = r0->ops;
	if( r23 == NULL ) hl_null_access();
	r22 = hl_vfields(r23)[4] ? (*(vdynamic**)(hl_vfields(r23)[4])) : (vdynamic*)hl_dyn_getp(r23->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r24 = r22 ? r22->v.d : 0;
	r19 = r19 * r24;
	r18 = zui_Zui_isVisible(r0,r19);
	if( r18 ) goto label$1577ae0_27_44;
	r22 = NULL;
	zui_Zui_endElement(r0,r22);
	if( r1 == NULL ) hl_null_access();
	r19 = r1->value;
	return r19;
	label$1577ae0_27_44:
	r3 = NULL;
	r18 = zui_Zui_getStarted(r0,r3);
	if( !r18 ) goto label$1577ae0_27_50;
	r0->scrollHandle = r1;
	r18 = true;
	r0->isScrolling = r18;
	label$1577ae0_27_50:
	if( r1 == NULL ) hl_null_access();
	r18 = false;
	r1->changed = r18;
	r26 = r0->scrollHandle;
	if( r1 != r26 ) goto label$1577ae0_27_90;
	r19 = r11 - r10;
	r24 = r0->_x;
	r27 = r0->_windowX;
	r24 = r24 + r27;
	r27 = r0->buttonOffsetY;
	r24 = r24 + r27;
	r20 = r0->_w;
	r27 = (double)r20;
	r28 = r0->buttonOffsetY;
	r29 = 2.;
	r28 = r28 * r29;
	r27 = r27 - r28;
	r28 = r19 / r27;
	r30 = r0->inputX;
	r30 = r30 - r24;
	r30 = r30 * r28;
	r29 = r10 + r30;
	r31 = (double)r13;
	r30 = r29 * r31;
	r20 = hl_math_round(r30);
	r30 = (double)r20;
	r20 = r13;
	r31 = (double)r13;
	r30 = r30 / r31;
	r1->value = r30;
	r30 = r1->value;
	if( !(r30 < r10) ) goto label$1577ae0_27_84;
	r1->value = r10;
	goto label$1577ae0_27_87;
	label$1577ae0_27_84:
	r30 = r1->value;
	if( !(r11 < r30) ) goto label$1577ae0_27_87;
	r1->value = r11;
	label$1577ae0_27_87:
	r18 = true;
	r0->changed = r18;
	r1->changed = r18;
	label$1577ae0_27_90:
	r3 = NULL;
	r18 = zui_Zui_getHover(r0,r3);
	r19 = r1->value;
	zui_Zui_drawSlider(r0,r19,r10,r11,r12,r18);
	r3 = NULL;
	r32 = zui_Zui_getReleased(r0,r3);
	if( r32 ) goto label$1577ae0_27_99;
	r32 = r0->tabPressed;
	if( !r32 ) goto label$1577ae0_27_102;
	label$1577ae0_27_99:
	if( !r16 ) goto label$1577ae0_27_102;
	r32 = true;
	goto label$1577ae0_27_103;
	label$1577ae0_27_102:
	r32 = false;
	label$1577ae0_27_103:
	if( !r32 ) goto label$1577ae0_27_112;
	r19 = r1->value;
	r6 = &r20;
	r34 = hl_ftos(r19,r6);
	r33 = String___alloc__(r34,r20);
	r35 = (String)s$;
	r33 = String___add__(r33,r35);
	r1->text = r33;
	zui_Zui_startTextEdit(r0,r1);
	label$1577ae0_27_112:
	r36 = 0;
	if( r15 != r36 ) goto label$1577ae0_27_116;
	r20 = 2;
	goto label$1577ae0_27_117;
	label$1577ae0_27_116:
	r20 = 0;
	label$1577ae0_27_117:
	r25 = r0->textSelectedHandle;
	if( r25 != r1 ) goto label$1577ae0_27_122;
	r36 = r20;
	r6 = &r36;
	zui_Zui_updateTextEdit(r0,r6);
	label$1577ae0_27_122:
	r25 = r0->submitTextHandle;
	if( r25 != r1 ) goto label$1577ae0_27_128;
	zui_Zui_submitTextEdit(r0);
	r33 = r1->text;
	r19 = Std_parseFloat(r33);
	r1->value = r19;
	label$1577ae0_27_128:
	r38 = r0->g;
	if( r38 == NULL ) hl_null_access();
	r21 = r0->_t;
	if( r21 == NULL ) hl_null_access();
	r37 = hl_vfields(r21)[20] ? (*(int*)(hl_vfields(r21)[20])) : (int)hl_dyn_geti(r21->value,370483844/*LABEL_COL*/,&t$_i32);
	r37 = ((int (*)(kha__graphics2__Graphics,int))r38->$type->vobj_proto[11])(r38,r37);
	r38 = r0->g;
	r22 = NULL;
	r37 = 0;
	r19 = (double)r37;
	r3 = &r19;
	r37 = r15;
	r6 = &r37;
	zui_Zui_drawString(r0,r38,r2,r22,r3,r6);
	if( !r14 ) goto label$1577ae0_27_175;
	r38 = r0->g;
	if( r38 == NULL ) hl_null_access();
	r21 = r0->_t;
	if( r21 == NULL ) hl_null_access();
	r39 = hl_vfields(r21)[24] ? (*(int*)(hl_vfields(r21)[24])) : (int)hl_dyn_geti(r21->value,-437956663/*TEXT_COL*/,&t$_i32);
	r39 = ((int (*)(kha__graphics2__Graphics,int))r38->$type->vobj_proto[11])(r38,r39);
	r25 = r0->textSelectedHandle;
	if( r25 == r1 ) goto label$1577ae0_27_166;
	r38 = r0->g;
	r24 = r1->value;
	r6 = &r39;
	r34 = hl_ftos(r24,r6);
	r33 = String___alloc__(r34,r39);
	r35 = (String)s$;
	r33 = String___add__(r33,r35);
	r22 = NULL;
	r39 = 0;
	r24 = (double)r39;
	r3 = &r24;
	r39 = r20;
	r6 = &r39;
	zui_Zui_drawString(r0,r38,r33,r22,r3,r6);
	goto label$1577ae0_27_175;
	label$1577ae0_27_166:
	r38 = r0->g;
	r33 = r0->textSelectedCurrentText;
	r22 = NULL;
	r40 = 0;
	r27 = (double)r40;
	r3 = &r27;
	r40 = r20;
	r6 = &r40;
	zui_Zui_drawString(r0,r38,r33,r22,r3,r6);
	label$1577ae0_27_175:
	r22 = NULL;
	zui_Zui_endElement(r0,r22);
	r28 = r1->value;
	return r28;
}

void zui_Zui_drawArrow(zui__Zui r0,bool r1) {
	vvirtual *r8, *r12;
	kha__graphics2__Graphics r7;
	double r2, r3, r5, r9, r10, r13, r14, r15, r16;
	vdynamic *r11;
	int r6;
	r2 = r0->_x;
	r3 = r0->arrowOffsetX;
	r2 = r2 + r3;
	r3 = r0->_y;
	r5 = r0->arrowOffsetY;
	r3 = r3 + r5;
	r7 = r0->g;
	if( r7 == NULL ) hl_null_access();
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r6 = hl_vfields(r8)[24] ? (*(int*)(hl_vfields(r8)[24])) : (int)hl_dyn_geti(r8->value,-437956663/*TEXT_COL*/,&t$_i32);
	r6 = ((int (*)(kha__graphics2__Graphics,int))r7->$type->vobj_proto[11])(r7,r6);
	if( !r1 ) goto label$1577ae0_28_49;
	r7 = r0->g;
	if( r7 == NULL ) hl_null_access();
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r6 = hl_vfields(r8)[3] ? (*(int*)(hl_vfields(r8)[3])) : (int)hl_dyn_geti(r8->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r10 = (double)r6;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r13 = r11 ? r11->v.d : 0;
	r10 = r10 * r13;
	r9 = r2 + r10;
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r6 = hl_vfields(r8)[3] ? (*(int*)(hl_vfields(r8)[3])) : (int)hl_dyn_geti(r8->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r14 = (double)r6;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r15 = r11 ? r11->v.d : 0;
	r14 = r14 * r15;
	r15 = 2.;
	r14 = r14 / r15;
	r13 = r2 + r14;
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r6 = hl_vfields(r8)[3] ? (*(int*)(hl_vfields(r8)[3])) : (int)hl_dyn_geti(r8->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r15 = (double)r6;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r16 = r11 ? r11->v.d : 0;
	r15 = r15 * r16;
	r14 = r3 + r15;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double,double))r7->$type->vobj_proto[8])(r7,r2,r3,r9,r3,r13,r14);
	goto label$1577ae0_28_84;
	label$1577ae0_28_49:
	r7 = r0->g;
	if( r7 == NULL ) hl_null_access();
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r6 = hl_vfields(r8)[3] ? (*(int*)(hl_vfields(r8)[3])) : (int)hl_dyn_geti(r8->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r13 = (double)r6;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r14 = r11 ? r11->v.d : 0;
	r13 = r13 * r14;
	r10 = r3 + r13;
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r6 = hl_vfields(r8)[3] ? (*(int*)(hl_vfields(r8)[3])) : (int)hl_dyn_geti(r8->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r14 = (double)r6;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r15 = r11 ? r11->v.d : 0;
	r14 = r14 * r15;
	r13 = r2 + r14;
	r8 = r0->_t;
	if( r8 == NULL ) hl_null_access();
	r6 = hl_vfields(r8)[3] ? (*(int*)(hl_vfields(r8)[3])) : (int)hl_dyn_geti(r8->value,515256028/*ARROW_SIZE*/,&t$_i32);
	r15 = (double)r6;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r16 = r11 ? r11->v.d : 0;
	r15 = r15 * r16;
	r16 = 2.;
	r15 = r15 / r16;
	r14 = r3 + r15;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double,double))r7->$type->vobj_proto[8])(r7,r2,r3,r2,r10,r13,r14);
	label$1577ae0_28_84:
	return;
}

void zui_Zui_drawTree(zui__Zui r0,bool r1) {
	vvirtual *r4, *r11;
	kha__graphics2__Graphics r10;
	double r2, r5, r7, r8, r12, r13, r14, r15;
	vdynamic *r3;
	int r9;
	r2 = 7.;
	r4 = r0->ops;
	if( r4 == NULL ) hl_null_access();
	r3 = hl_vfields(r4)[4] ? (*(vdynamic**)(hl_vfields(r4)[4])) : (vdynamic*)hl_dyn_getp(r4->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r5 = r3 ? r3->v.d : 0;
	r2 = r2 * r5;
	r5 = r0->_x;
	r7 = r0->arrowOffsetX;
	r5 = r5 + r7;
	r7 = 1.;
	r5 = r5 + r7;
	r7 = r0->_y;
	r8 = r0->arrowOffsetY;
	r7 = r7 + r8;
	r8 = 1.;
	r7 = r7 + r8;
	r10 = r0->g;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r9 = hl_vfields(r11)[24] ? (*(int*)(hl_vfields(r11)[24])) : (int)hl_dyn_geti(r11->value,-437956663/*TEXT_COL*/,&t$_i32);
	r9 = ((int (*)(kha__graphics2__Graphics,int))r10->$type->vobj_proto[11])(r10,r9);
	if( !r1 ) goto label$1577ae0_29_34;
	r10 = r0->g;
	if( r10 == NULL ) hl_null_access();
	r14 = 2.;
	r13 = r2 / r14;
	r12 = r7 + r13;
	r13 = 1.;
	r12 = r12 - r13;
	r15 = 8.;
	r14 = r2 / r15;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r10->$type->vobj_proto[5])(r10,r5,r12,r2,r14);
	goto label$1577ae0_29_54;
	label$1577ae0_29_34:
	r10 = r0->g;
	if( r10 == NULL ) hl_null_access();
	r14 = 2.;
	r13 = r2 / r14;
	r12 = r7 + r13;
	r13 = 1.;
	r12 = r12 - r13;
	r15 = 8.;
	r14 = r2 / r15;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r10->$type->vobj_proto[5])(r10,r5,r12,r2,r14);
	r10 = r0->g;
	if( r10 == NULL ) hl_null_access();
	r13 = 2.;
	r12 = r2 / r13;
	r8 = r5 + r12;
	r12 = 1.;
	r8 = r8 - r12;
	r14 = 8.;
	r13 = r2 / r14;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r10->$type->vobj_proto[5])(r10,r8,r7,r13,r2);
	label$1577ae0_29_54:
	return;
}

void zui_Zui_drawCheck(zui__Zui r0,bool r1,bool r2) {
	kha__Image r22;
	vvirtual *r10, *r12;
	bool r9, r17;
	kha__graphics2__Graphics r8;
	float r23, r24, r25, r26;
	double r3, r4, r6, r13, r14, r15, r16, r18, r19, r20;
	double *r21;
	vdynamic *r11;
	int r7;
	r3 = r0->_x;
	r4 = r0->checkOffsetX;
	r3 = r3 + r4;
	r4 = r0->_y;
	r6 = r0->checkOffsetY;
	r4 = r4 + r6;
	r8 = r0->g;
	if( r8 == NULL ) hl_null_access();
	if( !r2 ) goto label$1577ae0_30_13;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[1] ? (*(int*)(hl_vfields(r10)[1])) : (int)hl_dyn_geti(r10->value,-43289016/*ACCENT_HOVER_COL*/,&t$_i32);
	goto label$1577ae0_30_16;
	label$1577ae0_30_13:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[0] ? (*(int*)(hl_vfields(r10)[0])) : (int)hl_dyn_geti(r10->value,34671467/*ACCENT_COL*/,&t$_i32);
	label$1577ae0_30_16:
	r7 = ((int (*)(kha__graphics2__Graphics,int))r8->$type->vobj_proto[11])(r8,r7);
	r8 = r0->g;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[15] ? (*(bool*)(hl_vfields(r10)[15])) : (bool)hl_dyn_geti(r10->value,51671661/*FILL_ACCENT_BG*/,&t$_bool);
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[10] ? (*(int*)(hl_vfields(r10)[10])) : (int)hl_dyn_geti(r10->value,-83668365/*CHECK_SIZE*/,&t$_i32);
	r6 = (double)r7;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r13 = r11 ? r11->v.d : 0;
	r6 = r6 * r13;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[10] ? (*(int*)(hl_vfields(r10)[10])) : (int)hl_dyn_geti(r10->value,-83668365/*CHECK_SIZE*/,&t$_i32);
	r13 = (double)r7;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r14 = r11 ? r11->v.d : 0;
	r13 = r13 * r14;
	r14 = 0.;
	r16 = 0.;
	if( r14 != r16 ) goto label$1577ae0_30_44;
	r15 = 1.;
	r14 = r15;
	label$1577ae0_30_44:
	r17 = r0->enabled;
	if( r17 ) goto label$1577ae0_30_47;
	zui_Zui_fadeColor(r0);
	label$1577ae0_30_47:
	if( !r9 ) goto label$1577ae0_30_55;
	if( r8 == NULL ) hl_null_access();
	r18 = 1.;
	r16 = r4 - r18;
	r20 = 1.;
	r19 = r13 + r20;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r8->$type->vobj_proto[5])(r8,r3,r16,r6,r19);
	goto label$1577ae0_30_59;
	label$1577ae0_30_55:
	if( r8 == NULL ) hl_null_access();
	r20 = r14;
	r21 = &r20;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r8->$type->vobj_proto[4])(r8,r3,r4,r6,r13,r21);
	label$1577ae0_30_59:
	if( !r1 ) goto label$1577ae0_30_89;
	r8 = r0->g;
	if( r8 == NULL ) hl_null_access();
	r7 = -1;
	r7 = ((int (*)(kha__graphics2__Graphics,int))r8->$type->vobj_proto[11])(r8,r7);
	r9 = r0->enabled;
	if( r9 ) goto label$1577ae0_30_67;
	zui_Zui_fadeColor(r0);
	label$1577ae0_30_67:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[9] ? (*(int*)(hl_vfields(r10)[9])) : (int)hl_dyn_geti(r10->value,78235607/*CHECK_SELECT_SIZE*/,&t$_i32);
	r6 = (double)r7;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[4] ? (*(vdynamic**)(hl_vfields(r12)[4])) : (vdynamic*)hl_dyn_getp(r12->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r13 = r11 ? r11->v.d : 0;
	r6 = r6 * r13;
	r7 = (int)r6;
	r8 = r0->g;
	if( r8 == NULL ) hl_null_access();
	r22 = r0->checkSelectImage;
	r14 = r0->checkSelectOffsetX;
	r13 = r3 + r14;
	r23 = (float)r13;
	r14 = r0->checkSelectOffsetY;
	r13 = r4 + r14;
	r24 = (float)r13;
	r25 = (float)r7;
	r26 = (float)r7;
	kha_graphics2_Graphics_drawScaledImage(r8,r22,r23,r24,r25,r26);
	label$1577ae0_30_89:
	return;
}

void zui_Zui_drawSlider(zui__Zui r0,double r1,double r2,double r3,bool r4,bool r5) {
	vvirtual *r15, *r17;
	bool r14, r20;
	kha__graphics2__Graphics r13;
	double r6, r7, r9, r11, r12, r18, r19, r21, r22, r23, r25, r26, r27, r28, r29;
	double *r24;
	vdynamic *r16;
	int r10;
	r6 = r0->_x;
	r7 = r0->buttonOffsetY;
	r6 = r6 + r7;
	r7 = r0->_y;
	r9 = r0->buttonOffsetY;
	r7 = r7 + r9;
	r10 = r0->_w;
	r9 = (double)r10;
	r11 = r0->buttonOffsetY;
	r12 = 2.;
	r11 = r11 * r12;
	r9 = r9 - r11;
	r13 = r0->g;
	if( r13 == NULL ) hl_null_access();
	if( !r5 ) goto label$1577ae0_31_19;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[1] ? (*(int*)(hl_vfields(r15)[1])) : (int)hl_dyn_geti(r15->value,-43289016/*ACCENT_HOVER_COL*/,&t$_i32);
	goto label$1577ae0_31_22;
	label$1577ae0_31_19:
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[0] ? (*(int*)(hl_vfields(r15)[0])) : (int)hl_dyn_geti(r15->value,34671467/*ACCENT_COL*/,&t$_i32);
	label$1577ae0_31_22:
	r10 = ((int (*)(kha__graphics2__Graphics,int))r13->$type->vobj_proto[11])(r13,r10);
	r13 = r0->g;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[15] ? (*(bool*)(hl_vfields(r15)[15])) : (bool)hl_dyn_geti(r15->value,51671661/*FILL_ACCENT_BG*/,&t$_bool);
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[5] ? (*(int*)(hl_vfields(r15)[5])) : (int)hl_dyn_geti(r15->value,-172474255/*BUTTON_H*/,&t$_i32);
	r11 = (double)r10;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[4] ? (*(vdynamic**)(hl_vfields(r17)[4])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r12 = r16 ? r16->v.d : 0;
	r11 = r11 * r12;
	r12 = 0.;
	r19 = 0.;
	if( r12 != r19 ) goto label$1577ae0_31_41;
	r18 = 1.;
	r12 = r18;
	label$1577ae0_31_41:
	r20 = r0->enabled;
	if( r20 ) goto label$1577ae0_31_44;
	zui_Zui_fadeColor(r0);
	label$1577ae0_31_44:
	if( !r14 ) goto label$1577ae0_31_52;
	if( r13 == NULL ) hl_null_access();
	r21 = 1.;
	r19 = r7 - r21;
	r23 = 1.;
	r22 = r11 + r23;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r13->$type->vobj_proto[5])(r13,r6,r19,r9,r22);
	goto label$1577ae0_31_56;
	label$1577ae0_31_52:
	if( r13 == NULL ) hl_null_access();
	r23 = r12;
	r24 = &r23;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r13->$type->vobj_proto[4])(r13,r6,r7,r9,r11,r24);
	label$1577ae0_31_56:
	r13 = r0->g;
	if( r13 == NULL ) hl_null_access();
	if( !r5 ) goto label$1577ae0_31_63;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[1] ? (*(int*)(hl_vfields(r15)[1])) : (int)hl_dyn_geti(r15->value,-43289016/*ACCENT_HOVER_COL*/,&t$_i32);
	goto label$1577ae0_31_66;
	label$1577ae0_31_63:
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[0] ? (*(int*)(hl_vfields(r15)[0])) : (int)hl_dyn_geti(r15->value,34671467/*ACCENT_COL*/,&t$_i32);
	label$1577ae0_31_66:
	r10 = ((int (*)(kha__graphics2__Graphics,int))r13->$type->vobj_proto[11])(r13,r10);
	r11 = r1 - r2;
	r12 = r3 - r2;
	r11 = r11 / r12;
	r12 = 8.;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[4] ? (*(vdynamic**)(hl_vfields(r17)[4])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r18 = r16 ? r16->v.d : 0;
	r12 = r12 * r18;
	if( !r4 ) goto label$1577ae0_31_79;
	r18 = r6;
	goto label$1577ae0_31_82;
	label$1577ae0_31_79:
	r19 = r9 - r12;
	r19 = r19 * r11;
	r18 = r6 + r19;
	label$1577ae0_31_82:
	if( !r4 ) goto label$1577ae0_31_85;
	r19 = r9 * r11;
	goto label$1577ae0_31_86;
	label$1577ae0_31_85:
	r19 = r12;
	label$1577ae0_31_86:
	r21 = Math_min(r19,r9);
	r22 = 0.;
	r21 = Math_max(r21,r22);
	r19 = r21;
	r13 = r0->g;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[5] ? (*(int*)(hl_vfields(r15)[5])) : (int)hl_dyn_geti(r15->value,-172474255/*BUTTON_H*/,&t$_i32);
	r21 = (double)r10;
	r17 = r0->ops;
	if( r17 == NULL ) hl_null_access();
	r16 = hl_vfields(r17)[4] ? (*(vdynamic**)(hl_vfields(r17)[4])) : (vdynamic*)hl_dyn_getp(r17->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r22 = r16 ? r16->v.d : 0;
	r21 = r21 * r22;
	r22 = 0.;
	r26 = 0.;
	if( r22 != r26 ) goto label$1577ae0_31_104;
	r25 = 1.;
	label$1577ae0_31_104:
	r14 = r0->enabled;
	if( r14 ) goto label$1577ae0_31_107;
	zui_Zui_fadeColor(r0);
	label$1577ae0_31_107:
	if( r13 == NULL ) hl_null_access();
	r27 = 1.;
	r26 = r7 - r27;
	r29 = 1.;
	r28 = r21 + r29;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r13->$type->vobj_proto[5])(r13,r18,r26,r19,r28);
	return;
}

void zui_Zui_drawCombo(zui__Zui r0) {
	String r25, r37;
	bool *r15;
	hl__types__ArrayObj r12;
	vvirtual *r5, *r8, *r34;
	bool r14, r17, r20;
	kha__graphics2__Graphics r1, r4;
	zui__$Zui r38;
	double r6, r9, r10, r22, r23, r27;
	zui__Handle r33, r39;
	double *r26;
	int *r19;
	vdynamic *r7, *r16, *r35;
	varray *r36;
	int r3, r11, r13, r18, r21, r24, r28, r29, r30, r31, r32;
	r1 = r0->g;
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r3 = hl_vfields(r5)[22] ? (*(int*)(hl_vfields(r5)[22])) : (int)hl_dyn_geti(r5->value,379861099/*SEPARATOR_COL*/,&t$_i32);
	r3 = ((int (*)(kha__graphics2__Graphics,int))r4->$type->vobj_proto[11])(r4,r3);
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r3 = hl_vfields(r5)[12] ? (*(int*)(hl_vfields(r5)[12])) : (int)hl_dyn_geti(r5->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r6 = (double)r3;
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[4] ? (*(vdynamic**)(hl_vfields(r8)[4])) : (vdynamic*)hl_dyn_getp(r8->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r9 = r7 ? r7->v.d : 0;
	r6 = r6 * r9;
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r3 = hl_vfields(r5)[13] ? (*(int*)(hl_vfields(r5)[13])) : (int)hl_dyn_geti(r5->value,146972182/*ELEMENT_OFFSET*/,&t$_i32);
	r9 = (double)r3;
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[4] ? (*(vdynamic**)(hl_vfields(r8)[4])) : (vdynamic*)hl_dyn_getp(r8->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r10 = r7 ? r7->v.d : 0;
	r9 = r9 * r10;
	r6 = r6 + r9;
	r3 = (int)r6;
	r12 = r0->comboSelectedTexts;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->length;
	r13 = 1;
	r11 = r11 + r13;
	r11 = r11 * r3;
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r14 = false;
	r15 = &r14;
	r16 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r4->$type->vobj_proto[0])(r4,r15,r16);
	r13 = r0->comboSelectedY;
	r13 = r13 + r11;
	r19 = NULL;
	r18 = kha_System_windowHeight(r19);
	if( r13 > r18 ) goto label$1577ae0_32_46;
	r17 = false;
	goto label$1577ae0_32_47;
	label$1577ae0_32_46:
	r17 = true;
	label$1577ae0_32_47:
	if( !r17 ) goto label$1577ae0_32_63;
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r13 = hl_vfields(r5)[12] ? (*(int*)(hl_vfields(r5)[12])) : (int)hl_dyn_geti(r5->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r9 = (double)r13;
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[4] ? (*(vdynamic**)(hl_vfields(r8)[4])) : (vdynamic*)hl_dyn_getp(r8->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r10 = r7 ? r7->v.d : 0;
	r9 = r9 * r10;
	r18 = r0->comboSelectedY;
	r18 = r18 - r11;
	r21 = (int)r9;
	r18 = r18 - r21;
	r13 = r18;
	goto label$1577ae0_32_65;
	label$1577ae0_32_63:
	r18 = r0->comboSelectedY;
	r13 = r18;
	label$1577ae0_32_65:
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r18 = r0->comboSelectedX;
	r9 = (double)r18;
	r10 = (double)r13;
	r18 = r0->comboSelectedW;
	r22 = (double)r18;
	r23 = (double)r11;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r4->$type->vobj_proto[5])(r4,r9,r10,r22,r23);
	r4 = r0->globalG;
	r18 = r0->comboSelectedX;
	r24 = r0->comboSelectedW;
	zui_Zui_beginLayout(r0,r4,r18,r13,r24);
	if( !r17 ) goto label$1577ae0_32_115;
	r4 = r0->g;
	if( r4 == NULL ) hl_null_access();
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r18 = hl_vfields(r5)[20] ? (*(int*)(hl_vfields(r5)[20])) : (int)hl_dyn_geti(r5->value,370483844/*LABEL_COL*/,&t$_i32);
	r18 = ((int (*)(kha__graphics2__Graphics,int))r4->$type->vobj_proto[11])(r4,r18);
	r4 = r0->g;
	r25 = r0->comboSelectedLabel;
	r7 = NULL;
	r18 = 0;
	r9 = (double)r18;
	r26 = &r9;
	r18 = 2;
	r19 = &r18;
	zui_Zui_drawString(r0,r4,r25,r7,r26,r19);
	r10 = r0->_y;
	r22 = (double)r3;
	r10 = r10 + r22;
	r0->_y = r10;
	r10 = 0.;
	r22 = 0.;
	r21 = r0->_w;
	r23 = (double)r21;
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[4] ? (*(vdynamic**)(hl_vfields(r8)[4])) : (vdynamic*)hl_dyn_getp(r8->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r27 = r7 ? r7->v.d : 0;
	r23 = r23 / r27;
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[4] ? (*(vdynamic**)(hl_vfields(r8)[4])) : (vdynamic*)hl_dyn_getp(r8->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r27 = r7 ? r7->v.d : 0;
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r21 = hl_vfields(r5)[2] ? (*(int*)(hl_vfields(r5)[2])) : (int)hl_dyn_geti(r5->value,136230716/*ACCENT_SELECT_COL*/,&t$_i32);
	zui_Zui_fill(r0,r10,r22,r23,r27,r21);
	label$1577ae0_32_115:
	r20 = true;
	r0->inputEnabled = r20;
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r21 = hl_vfields(r5)[4] ? (*(int*)(hl_vfields(r5)[4])) : (int)hl_dyn_geti(r5->value,-446410866/*BUTTON_COL*/,&t$_i32);
	r24 = 0;
	r12 = r0->comboSelectedTexts;
	if( r12 == NULL ) hl_null_access();
	r28 = r12->length;
	label$1577ae0_32_124:
	if( r24 >= r28 ) goto label$1577ae0_32_176;
	r29 = r24;
	++r24;
	if( !r17 ) goto label$1577ae0_32_136;
	r12 = r0->comboSelectedTexts;
	if( r12 == NULL ) hl_null_access();
	r30 = r12->length;
	r31 = 1;
	r30 = r30 - r31;
	r30 = r30 - r29;
	goto label$1577ae0_32_137;
	label$1577ae0_32_136:
	r30 = r29;
	label$1577ae0_32_137:
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r33 = r0->comboSelectedHandle;
	if( r33 == NULL ) hl_null_access();
	r32 = r33->position;
	if( r30 != r32 ) goto label$1577ae0_32_147;
	r34 = r0->_t;
	if( r34 == NULL ) hl_null_access();
	r31 = hl_vfields(r34)[26] ? (*(int*)(hl_vfields(r34)[26])) : (int)hl_dyn_geti(r34->value,111677983/*WINDOW_BG_COL*/,&t$_i32);
	goto label$1577ae0_32_150;
	label$1577ae0_32_147:
	r34 = r0->_t;
	if( r34 == NULL ) hl_null_access();
	r31 = hl_vfields(r34)[22] ? (*(int*)(hl_vfields(r34)[22])) : (int)hl_dyn_geti(r34->value,379861099/*SEPARATOR_COL*/,&t$_i32);
	label$1577ae0_32_150:
	if( hl_vfields(r5)[4] ) *(int*)(hl_vfields(r5)[4]) = (int)r31; else hl_dyn_seti(r5->value,-446410866/*BUTTON_COL*/,&t$_i32,r31);
	r12 = r0->comboSelectedTexts;
	if( r12 == NULL ) hl_null_access();
	r32 = r12->length;
	if( ((unsigned)r30) < ((unsigned)r32) ) goto label$1577ae0_32_157;
	r25 = NULL;
	goto label$1577ae0_32_160;
	label$1577ae0_32_157:
	r36 = r12->array;
	r35 = ((vdynamic**)(r36 + 1))[r30];
	r25 = (String)r35;
	label$1577ae0_32_160:
	r31 = r0->comboSelectedAlign;
	r19 = &r31;
	r37 = NULL;
	r20 = zui_Zui_button(r0,r25,r19,r37);
	if( !r20 ) goto label$1577ae0_32_175;
	r0->comboToSubmit = r30;
	r33 = r0->comboSelectedHandle;
	r0->submitComboHandle = r33;
	r33 = r0->comboSelectedWindow;
	if( !r33 ) goto label$1577ae0_32_174;
	r33 = r0->comboSelectedWindow;
	if( r33 == NULL ) hl_null_access();
	r32 = 2;
	r33->redraws = r32;
	label$1577ae0_32_174:
	goto label$1577ae0_32_176;
	label$1577ae0_32_175:
	goto label$1577ae0_32_124;
	label$1577ae0_32_176:
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	if( hl_vfields(r5)[4] ) *(int*)(hl_vfields(r5)[4]) = (int)r21; else hl_dyn_seti(r5->value,-446410866/*BUTTON_COL*/,&t$_i32,r21);
	if( r17 ) goto label$1577ae0_32_212;
	r10 = 0.;
	r22 = 0.;
	r24 = r0->_w;
	r23 = (double)r24;
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[4] ? (*(vdynamic**)(hl_vfields(r8)[4])) : (vdynamic*)hl_dyn_getp(r8->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r27 = r7 ? r7->v.d : 0;
	r23 = r23 / r27;
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[4] ? (*(vdynamic**)(hl_vfields(r8)[4])) : (vdynamic*)hl_dyn_getp(r8->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r27 = r7 ? r7->v.d : 0;
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r24 = hl_vfields(r5)[2] ? (*(int*)(hl_vfields(r5)[2])) : (int)hl_dyn_geti(r5->value,136230716/*ACCENT_SELECT_COL*/,&t$_i32);
	zui_Zui_fill(r0,r10,r22,r23,r27,r24);
	r4 = r0->g;
	if( r4 == NULL ) hl_null_access();
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r24 = hl_vfields(r5)[20] ? (*(int*)(hl_vfields(r5)[20])) : (int)hl_dyn_geti(r5->value,370483844/*LABEL_COL*/,&t$_i32);
	r24 = ((int (*)(kha__graphics2__Graphics,int))r4->$type->vobj_proto[11])(r4,r24);
	r4 = r0->g;
	r25 = r0->comboSelectedLabel;
	r7 = NULL;
	r24 = 0;
	r10 = (double)r24;
	r26 = &r10;
	r24 = 2;
	r19 = &r24;
	zui_Zui_drawString(r0,r4,r25,r7,r26,r19);
	label$1577ae0_32_212:
	r20 = r0->inputReleased;
	if( r20 ) goto label$1577ae0_32_216;
	r20 = r0->isEscapeDown;
	if( !r20 ) goto label$1577ae0_32_225;
	label$1577ae0_32_216:
	r38 = (zui__$Zui)g$_zui_Zui;
	r20 = r38->comboFirst;
	if( r20 ) goto label$1577ae0_32_225;
	r33 = NULL;
	r0->comboSelectedHandle = r33;
	r20 = true;
	r38 = (zui__$Zui)g$_zui_Zui;
	r38->comboFirst = r20;
	goto label$1577ae0_32_228;
	label$1577ae0_32_225:
	r20 = false;
	r38 = (zui__$Zui)g$_zui_Zui;
	r38->comboFirst = r20;
	label$1577ae0_32_228:
	r33 = r0->comboSelectedHandle;
	r39 = NULL;
	if( r33 == r39 ) goto label$1577ae0_32_233;
	r20 = false;
	goto label$1577ae0_32_234;
	label$1577ae0_32_233:
	r20 = true;
	label$1577ae0_32_234:
	r0->inputEnabled = r20;
	r20 = false;
	r15 = &r20;
	zui_Zui_endLayout(r0,r15);
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r4->$type->vobj_proto[1])(r4);
	r0->g = r1;
	return;
}

void zui_Zui_drawTooltip(zui__Zui r0) {
	bool *r20;
	String r5, r6;
	hl__types__ArrayObj r4;
	vvirtual *r3, *r15;
	bool r19;
	kha__Kravur r14;
	kha__graphics2__Graphics r2;
	double r8, r13, r16, r17, r22, r24;
	int *r18;
	vdynamic *r11, *r21, *r23;
	varray *r12;
	int r1, r9, r10, r25, r26;
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	r3 = r0->_t;
	if( r3 == NULL ) hl_null_access();
	r1 = hl_vfields(r3)[24] ? (*(int*)(hl_vfields(r3)[24])) : (int)hl_dyn_geti(r3->value,-437956663/*TEXT_COL*/,&t$_i32);
	r1 = ((int (*)(kha__graphics2__Graphics,int))r2->$type->vobj_proto[11])(r2,r1);
	r5 = r0->tooltipText;
	if( r5 == NULL ) hl_null_access();
	r6 = (String)s$68b329d;
	r4 = String_split(r5,r6);
	r8 = 0.;
	r1 = 0;
	label$1577ae0_33_12:
	if( r4 == NULL ) hl_null_access();
	r10 = r4->length;
	if( r1 >= r10 ) goto label$1577ae0_33_33;
	r10 = r4->length;
	if( ((unsigned)r1) < ((unsigned)r10) ) goto label$1577ae0_33_20;
	r5 = NULL;
	goto label$1577ae0_33_23;
	label$1577ae0_33_20:
	r12 = r4->array;
	r11 = ((vdynamic**)(r12 + 1))[r1];
	r5 = (String)r11;
	label$1577ae0_33_23:
	++r1;
	r15 = r0->ops;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[2] ? (*(kha__Kravur*)(hl_vfields(r15)[2])) : (kha__Kravur)hl_dyn_getp(r15->value,62938841/*font*/,&t$kha_Kravur);
	if( r14 == NULL ) hl_null_access();
	r9 = r0->fontSize;
	r13 = kha_Kravur_width(r14,r9,r5);
	if( !(r8 < r13) ) goto label$1577ae0_33_32;
	r8 = r13;
	label$1577ae0_33_32:
	goto label$1577ae0_33_12;
	label$1577ae0_33_33:
	r13 = r0->tooltipX;
	r18 = NULL;
	r1 = kha_System_windowWidth(r18);
	r16 = (double)r1;
	r16 = r16 - r8;
	r17 = 20.;
	r16 = r16 - r17;
	r13 = Math_min(r13,r16);
	r0->tooltipX = r13;
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	r19 = false;
	r20 = &r19;
	r21 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r2->$type->vobj_proto[0])(r2,r20,r21);
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	r13 = r0->tooltipX;
	r16 = r0->tooltipY;
	r22 = 20.;
	r17 = r8 + r22;
	r3 = r0->_t;
	if( r3 == NULL ) hl_null_access();
	r1 = hl_vfields(r3)[12] ? (*(int*)(hl_vfields(r3)[12])) : (int)hl_dyn_geti(r3->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r22 = (double)r1;
	r15 = r0->ops;
	if( r15 == NULL ) hl_null_access();
	r23 = hl_vfields(r15)[4] ? (*(vdynamic**)(hl_vfields(r15)[4])) : (vdynamic*)hl_dyn_getp(r15->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r24 = r23 ? r23->v.d : 0;
	r22 = r22 * r24;
	r1 = r4->length;
	r24 = (double)r1;
	r22 = r22 * r24;
	r24 = 0.59999999999999998;
	r22 = r22 * r24;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r2->$type->vobj_proto[5])(r2,r13,r16,r17,r22);
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	r15 = r0->ops;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[2] ? (*(kha__Kravur*)(hl_vfields(r15)[2])) : (kha__Kravur)hl_dyn_getp(r15->value,62938841/*font*/,&t$kha_Kravur);
	r14 = ((kha__Kravur (*)(kha__graphics2__Graphics,kha__Kravur))r2->$type->vobj_proto[12])(r2,r14);
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	r1 = r0->fontSize;
	r1 = ((int (*)(kha__graphics2__Graphics,int))r2->$type->vobj_proto[13])(r2,r1);
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	r3 = r0->_t;
	if( r3 == NULL ) hl_null_access();
	r1 = hl_vfields(r3)[0] ? (*(int*)(hl_vfields(r3)[0])) : (int)hl_dyn_geti(r3->value,34671467/*ACCENT_COL*/,&t$_i32);
	r1 = ((int (*)(kha__graphics2__Graphics,int))r2->$type->vobj_proto[11])(r2,r1);
	r1 = 0;
	r9 = r4->length;
	label$1577ae0_33_87:
	if( r1 >= r9 ) goto label$1577ae0_33_111;
	r10 = r1;
	++r1;
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	if( r4 == NULL ) hl_null_access();
	r26 = r4->length;
	if( ((unsigned)r10) < ((unsigned)r26) ) goto label$1577ae0_33_98;
	r5 = NULL;
	goto label$1577ae0_33_101;
	label$1577ae0_33_98:
	r12 = r4->array;
	r11 = ((vdynamic**)(r12 + 1))[r10];
	r5 = (String)r11;
	label$1577ae0_33_101:
	r13 = r0->tooltipX;
	r16 = 5.;
	r13 = r13 + r16;
	r16 = r0->tooltipY;
	r26 = r0->fontSize;
	r25 = r10 * r26;
	r17 = (double)r25;
	r16 = r16 + r17;
	((void (*)(kha__graphics2__Graphics,String,double,double))r2->$type->vobj_proto[6])(r2,r5,r13,r16);
	goto label$1577ae0_33_87;
	label$1577ae0_33_111:
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r2->$type->vobj_proto[1])(r2);
	return;
}

void zui_Zui_drawTooltipImage(zui__Zui r0) {
	bool *r14;
	kha__Image r2;
	bool r13, r15;
	kha__graphics2__Graphics r12;
	float r16, r17, r18, r19;
	double r7, r8, r9, r11;
	int *r10;
	vdynamic *r4;
	int r1, r5, r6;
	r2 = r0->tooltipImg;
	if( r2 == NULL ) hl_null_access();
	r1 = kha_Image_get_width(r2);
	r4 = r0->tooltipImgMaxWidth;
	if( !r4 ) goto label$1577ae0_34_11;
	r4 = r0->tooltipImgMaxWidth;
	r6 = r4 ? r4->v.i : 0;
	if( r6 >= r1 ) goto label$1577ae0_34_11;
	r4 = r0->tooltipImgMaxWidth;
	r5 = r4 ? r4->v.i : 0;
	r1 = r5;
	label$1577ae0_34_11:
	r2 = r0->tooltipImg;
	if( r2 == NULL ) hl_null_access();
	r5 = kha_Image_get_height(r2);
	r7 = (double)r5;
	r8 = (double)r1;
	r2 = r0->tooltipImg;
	if( r2 == NULL ) hl_null_access();
	r5 = kha_Image_get_width(r2);
	r9 = (double)r5;
	r8 = r8 / r9;
	r7 = r7 * r8;
	r8 = r0->tooltipX;
	r10 = NULL;
	r5 = kha_System_windowWidth(r10);
	r5 = r5 - r1;
	r6 = 20;
	r5 = r5 - r6;
	r9 = (double)r5;
	r8 = Math_min(r8,r9);
	r0->tooltipX = r8;
	r8 = r0->tooltipY;
	r10 = NULL;
	r5 = kha_System_windowHeight(r10);
	r9 = (double)r5;
	r9 = r9 - r7;
	r11 = 20.;
	r9 = r9 - r11;
	r8 = Math_min(r8,r9);
	r0->tooltipY = r8;
	r12 = r0->globalG;
	if( r12 == NULL ) hl_null_access();
	r5 = -16777216;
	r5 = ((int (*)(kha__graphics2__Graphics,int))r12->$type->vobj_proto[11])(r12,r5);
	r12 = r0->globalG;
	if( r12 == NULL ) hl_null_access();
	r13 = false;
	r14 = &r13;
	r4 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r12->$type->vobj_proto[0])(r12,r14,r4);
	r12 = r0->globalG;
	if( r12 == NULL ) hl_null_access();
	r8 = r0->tooltipX;
	r9 = r0->tooltipY;
	r11 = (double)r1;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r12->$type->vobj_proto[5])(r12,r8,r9,r11,r7);
	r12 = r0->globalG;
	if( r12 == NULL ) hl_null_access();
	r5 = -1;
	r5 = ((int (*)(kha__graphics2__Graphics,int))r12->$type->vobj_proto[11])(r12,r5);
	r15 = r0->tooltipInvertY;
	if( !r15 ) goto label$1577ae0_34_75;
	r12 = r0->globalG;
	if( r12 == NULL ) hl_null_access();
	r2 = r0->tooltipImg;
	r8 = r0->tooltipX;
	r16 = (float)r8;
	r8 = r0->tooltipY;
	r8 = r8 + r7;
	r17 = (float)r8;
	r18 = (float)r1;
	r8 = -r7;
	r19 = (float)r8;
	kha_graphics2_Graphics_drawScaledImage(r12,r2,r16,r17,r18,r19);
	goto label$1577ae0_34_85;
	label$1577ae0_34_75:
	r12 = r0->globalG;
	if( r12 == NULL ) hl_null_access();
	r2 = r0->tooltipImg;
	r8 = r0->tooltipX;
	r16 = (float)r8;
	r8 = r0->tooltipY;
	r17 = (float)r8;
	r18 = (float)r1;
	r19 = (float)r7;
	kha_graphics2_Graphics_drawScaledImage(r12,r2,r16,r17,r18,r19);
	label$1577ae0_34_85:
	r12 = r0->globalG;
	if( r12 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r12->$type->vobj_proto[1])(r12);
	return;
}

void zui_Zui_drawString(zui__Zui r0,kha__graphics2__Graphics r1,String r2,vdynamic* r3,double* r4,int* r5) {
	String r14, r17;
	kha__graphics4__PipelineState r25;
	vvirtual *r19, *r20;
	bool r24;
	kha__Kravur r22;
	double r6, r8, r10, r12, r21, r23;
	vdynamic *r16, *r18;
	int r7, r9, r13, r15;
	if( r4 ) goto label$1577ae0_35_3;
	r6 = 0.;
	goto label$1577ae0_35_4;
	label$1577ae0_35_3:
	r6 = *r4;
	label$1577ae0_35_4:
	if( r5 ) goto label$1577ae0_35_7;
	r7 = 0;
	goto label$1577ae0_35_8;
	label$1577ae0_35_7:
	r7 = *r5;
	label$1577ae0_35_8:
	r9 = r0->fontSize;
	r8 = (double)r9;
	r10 = 2.;
	r8 = r8 / r10;
	r9 = r0->_w;
	r10 = (double)r9;
	r9 = (int)r8;
	r12 = (double)r9;
	r10 = r10 / r12;
	r9 = (int)r10;
	if( r2 == NULL ) hl_null_access();
	r13 = r2->length;
	if( r9 >= r13 ) goto label$1577ae0_35_27;
	r13 = 0;
	r16 = hl_alloc_dynamic(&t$_i32);
	r16->v.i = r9;
	r14 = String_substring(r2,r13,r16);
	r17 = (String)s$58b9e70;
	r14 = String___add__(r14,r17);
	r2 = r14;
	label$1577ae0_35_27:
	if( r3 ) goto label$1577ae0_35_34;
	r19 = r0->_t;
	if( r19 == NULL ) hl_null_access();
	r13 = hl_vfields(r19)[25] ? (*(int*)(hl_vfields(r19)[25])) : (int)hl_dyn_geti(r19->value,-439328731/*TEXT_OFFSET*/,&t$_i32);
	r12 = (double)r13;
	r18 = hl_alloc_dynamic(&t$_f64);
	r18->v.d = r12;
	r3 = r18;
	label$1577ae0_35_34:
	r12 = r3 ? r3->v.d : 0;
	r20 = r0->ops;
	if( r20 == NULL ) hl_null_access();
	r18 = hl_vfields(r20)[4] ? (*(vdynamic**)(hl_vfields(r20)[4])) : (vdynamic*)hl_dyn_getp(r20->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r21 = r18 ? r18->v.d : 0;
	r12 = r12 * r21;
	r18 = hl_alloc_dynamic(&t$_f64);
	r18->v.d = r12;
	if( r1 == NULL ) hl_null_access();
	r20 = r0->ops;
	if( r20 == NULL ) hl_null_access();
	r22 = hl_vfields(r20)[2] ? (*(kha__Kravur*)(hl_vfields(r20)[2])) : (kha__Kravur)hl_dyn_getp(r20->value,62938841/*font*/,&t$kha_Kravur);
	r22 = ((kha__Kravur (*)(kha__graphics2__Graphics,kha__Kravur))r1->$type->vobj_proto[12])(r1,r22);
	r13 = r0->fontSize;
	r13 = ((int (*)(kha__graphics2__Graphics,int))r1->$type->vobj_proto[13])(r1,r13);
	r15 = 1;
	if( r7 != r15 ) goto label$1577ae0_35_65;
	r13 = r0->_w;
	r12 = (double)r13;
	r21 = 2.;
	r12 = r12 / r21;
	r20 = r0->ops;
	if( r20 == NULL ) hl_null_access();
	r22 = hl_vfields(r20)[2] ? (*(kha__Kravur*)(hl_vfields(r20)[2])) : (kha__Kravur)hl_dyn_getp(r20->value,62938841/*font*/,&t$kha_Kravur);
	if( r22 == NULL ) hl_null_access();
	r13 = r0->fontSize;
	r21 = kha_Kravur_width(r22,r13,r2);
	r23 = 2.;
	r21 = r21 / r23;
	r12 = r12 - r21;
	r18 = hl_alloc_dynamic(&t$_f64);
	r18->v.d = r12;
	goto label$1577ae0_35_82;
	label$1577ae0_35_65:
	r15 = 2;
	if( r7 != r15 ) goto label$1577ae0_35_82;
	r13 = r0->_w;
	r12 = (double)r13;
	r20 = r0->ops;
	if( r20 == NULL ) hl_null_access();
	r22 = hl_vfields(r20)[2] ? (*(kha__Kravur*)(hl_vfields(r20)[2])) : (kha__Kravur)hl_dyn_getp(r20->value,62938841/*font*/,&t$kha_Kravur);
	if( r22 == NULL ) hl_null_access();
	r13 = r0->fontSize;
	r21 = kha_Kravur_width(r22,r13,r2);
	r12 = r12 - r21;
	r19 = r0->_t;
	if( r19 == NULL ) hl_null_access();
	r13 = hl_vfields(r19)[25] ? (*(int*)(hl_vfields(r19)[25])) : (int)hl_dyn_geti(r19->value,-439328731/*TEXT_OFFSET*/,&t$_i32);
	r21 = (double)r13;
	r12 = r12 - r21;
	r18 = hl_alloc_dynamic(&t$_f64);
	r18->v.d = r12;
	label$1577ae0_35_82:
	r24 = r0->enabled;
	if( r24 ) goto label$1577ae0_35_85;
	zui_Zui_fadeColor(r0);
	label$1577ae0_35_85:
	r25 = r0->rtTextPipeline;
	r25 = kha_graphics2_Graphics_set_pipeline(r1,r25);
	r12 = r0->_x;
	r21 = r18 ? r18->v.d : 0;
	r12 = r12 + r21;
	r21 = r0->_y;
	r23 = r0->fontOffsetY;
	r21 = r21 + r23;
	r21 = r21 + r6;
	((void (*)(kha__graphics2__Graphics,String,double,double))r1->$type->vobj_proto[6])(r1,r2,r12,r21);
	r25 = NULL;
	r25 = kha_graphics2_Graphics_set_pipeline(r1,r25);
	return;
}

void zui_Zui_endElement(zui__Zui r0,vdynamic* r1) {
	vvirtual *r7, *r9;
	hl__types__ArrayBytes_Float r13;
	double r4, r5, r10, r11;
	vdynamic *r8;
	zui__Handle r3;
	vbyte *r15;
	int r6, r12, r14;
	r3 = r0->currentWindow;
	if( r3 ) goto label$1577ae0_36_25;
	r4 = r0->_y;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r5 = (double)r6;
	r9 = r0->ops;
	if( r9 == NULL ) hl_null_access();
	r8 = hl_vfields(r9)[4] ? (*(vdynamic**)(hl_vfields(r9)[4])) : (vdynamic*)hl_dyn_getp(r9->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r10 = r8 ? r8->v.d : 0;
	r5 = r5 * r10;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[13] ? (*(int*)(hl_vfields(r7)[13])) : (int)hl_dyn_geti(r7->value,146972182/*ELEMENT_OFFSET*/,&t$_i32);
	r10 = (double)r6;
	r9 = r0->ops;
	if( r9 == NULL ) hl_null_access();
	r8 = hl_vfields(r9)[4] ? (*(vdynamic**)(hl_vfields(r9)[4])) : (vdynamic*)hl_dyn_getp(r9->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r8 ? r8->v.d : 0;
	r10 = r10 * r11;
	r5 = r5 + r10;
	r4 = r4 + r5;
	r0->_y = r4;
	return;
	label$1577ae0_36_25:
	r3 = r0->currentWindow;
	if( r3 == NULL ) hl_null_access();
	r6 = r3->layout;
	r12 = 0;
	if( r6 != r12 ) goto label$1577ae0_36_111;
	r6 = r0->curRatio;
	r12 = -1;
	if( r6 == r12 ) goto label$1577ae0_36_42;
	r13 = r0->ratios;
	if( !r13 ) goto label$1577ae0_36_86;
	r6 = r0->curRatio;
	r13 = r0->ratios;
	if( r13 == NULL ) hl_null_access();
	r12 = r13->length;
	r14 = 1;
	r12 = r12 - r14;
	if( r6 != r12 ) goto label$1577ae0_36_86;
	label$1577ae0_36_42:
	if( r1 ) goto label$1577ae0_36_64;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r4 = (double)r6;
	r9 = r0->ops;
	if( r9 == NULL ) hl_null_access();
	r8 = hl_vfields(r9)[4] ? (*(vdynamic**)(hl_vfields(r9)[4])) : (vdynamic*)hl_dyn_getp(r9->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r5 = r8 ? r8->v.d : 0;
	r4 = r4 * r5;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[13] ? (*(int*)(hl_vfields(r7)[13])) : (int)hl_dyn_geti(r7->value,146972182/*ELEMENT_OFFSET*/,&t$_i32);
	r5 = (double)r6;
	r9 = r0->ops;
	if( r9 == NULL ) hl_null_access();
	r8 = hl_vfields(r9)[4] ? (*(vdynamic**)(hl_vfields(r9)[4])) : (vdynamic*)hl_dyn_getp(r9->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r10 = r8 ? r8->v.d : 0;
	r5 = r5 * r10;
	r4 = r4 + r5;
	r8 = hl_alloc_dynamic(&t$_f64);
	r8->v.d = r4;
	r1 = r8;
	label$1577ae0_36_64:
	r4 = r0->_y;
	r5 = r1 ? r1->v.d : 0;
	r4 = r4 + r5;
	r0->_y = r4;
	r13 = r0->ratios;
	if( !r13 ) goto label$1577ae0_36_85;
	r6 = r0->curRatio;
	r13 = r0->ratios;
	if( r13 == NULL ) hl_null_access();
	r12 = r13->length;
	r14 = 1;
	r12 = r12 - r14;
	if( r6 != r12 ) goto label$1577ae0_36_85;
	r6 = -1;
	r0->curRatio = r6;
	r13 = NULL;
	r0->ratios = r13;
	r4 = r0->xBeforeSplit;
	r0->_x = r4;
	r6 = r0->wBeforeSplit;
	r0->_w = r6;
	label$1577ae0_36_85:
	goto label$1577ae0_36_110;
	label$1577ae0_36_86:
	r6 = r0->curRatio;
	++r6;
	r0->curRatio = r6;
	r4 = r0->_x;
	r6 = r0->_w;
	r5 = (double)r6;
	r4 = r4 + r5;
	r0->_x = r4;
	r6 = r0->wBeforeSplit;
	r4 = (double)r6;
	r13 = r0->ratios;
	if( r13 == NULL ) hl_null_access();
	r6 = r0->curRatio;
	r12 = r13->length;
	if( ((unsigned)r6) < ((unsigned)r12) ) goto label$1577ae0_36_103;
	r5 = 0.;
	goto label$1577ae0_36_107;
	label$1577ae0_36_103:
	r15 = r13->bytes;
	r12 = 3;
	r12 = r6 << r12;
	r5 = *(double*)(r15 + r12);
	label$1577ae0_36_107:
	r4 = r4 * r5;
	r6 = (int)r4;
	r0->_w = r6;
	label$1577ae0_36_110:
	goto label$1577ae0_36_126;
	label$1577ae0_36_111:
	r4 = r0->_x;
	r6 = r0->_w;
	r5 = (double)r6;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[13] ? (*(int*)(hl_vfields(r7)[13])) : (int)hl_dyn_geti(r7->value,146972182/*ELEMENT_OFFSET*/,&t$_i32);
	r10 = (double)r6;
	r9 = r0->ops;
	if( r9 == NULL ) hl_null_access();
	r8 = hl_vfields(r9)[4] ? (*(vdynamic**)(hl_vfields(r9)[4])) : (vdynamic*)hl_dyn_getp(r9->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r11 = r8 ? r8->v.d : 0;
	r10 = r10 * r11;
	r5 = r5 + r10;
	r4 = r4 + r5;
	r0->_x = r4;
	label$1577ae0_36_126:
	return;
}

void zui_Zui_row(zui__Zui r0,hl__types__ArrayBytes_Float r1) {
	double r3, r5;
	vbyte *r6;
	int r2, r4;
	r0->ratios = r1;
	r2 = 0;
	r0->curRatio = r2;
	r3 = r0->_x;
	r0->xBeforeSplit = r3;
	r2 = r0->_w;
	r0->wBeforeSplit = r2;
	r2 = r0->_w;
	r3 = (double)r2;
	if( r1 == NULL ) hl_null_access();
	r2 = r0->curRatio;
	r4 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r4) ) goto label$1577ae0_37_15;
	r5 = 0.;
	goto label$1577ae0_37_19;
	label$1577ae0_37_15:
	r6 = r1->bytes;
	r4 = 3;
	r4 = r2 << r4;
	r5 = *(double*)(r6 + r4);
	label$1577ae0_37_19:
	r3 = r3 * r5;
	r2 = (int)r3;
	r0->_w = r2;
	return;
}

void zui_Zui_indent(zui__Zui r0) {
	vvirtual *r3, *r5;
	double r1, r6, r8;
	vdynamic *r4;
	int r2, r9;
	r3 = r0->_t;
	if( r3 == NULL ) hl_null_access();
	r2 = hl_vfields(r3)[23] ? (*(int*)(hl_vfields(r3)[23])) : (int)hl_dyn_geti(r3->value,-388890882/*TAB_W*/,&t$_i32);
	r1 = (double)r2;
	r5 = r0->ops;
	if( r5 == NULL ) hl_null_access();
	r4 = hl_vfields(r5)[4] ? (*(vdynamic**)(hl_vfields(r5)[4])) : (vdynamic*)hl_dyn_getp(r5->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r6 = r4 ? r4->v.d : 0;
	r1 = r1 * r6;
	r6 = r0->_x;
	r2 = (int)r1;
	r8 = (double)r2;
	r6 = r6 + r8;
	r0->_x = r6;
	r3 = r0->_t;
	if( r3 == NULL ) hl_null_access();
	r2 = hl_vfields(r3)[23] ? (*(int*)(hl_vfields(r3)[23])) : (int)hl_dyn_geti(r3->value,-388890882/*TAB_W*/,&t$_i32);
	r6 = (double)r2;
	r5 = r0->ops;
	if( r5 == NULL ) hl_null_access();
	r4 = hl_vfields(r5)[4] ? (*(vdynamic**)(hl_vfields(r5)[4])) : (vdynamic*)hl_dyn_getp(r5->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r8 = r4 ? r4->v.d : 0;
	r6 = r6 * r8;
	r2 = r0->_w;
	r9 = (int)r6;
	r2 = r2 - r9;
	r0->_w = r2;
	return;
}

void zui_Zui_unindent(zui__Zui r0) {
	vvirtual *r3, *r5;
	double r1, r6, r8;
	vdynamic *r4;
	int r2, r9;
	r3 = r0->_t;
	if( r3 == NULL ) hl_null_access();
	r2 = hl_vfields(r3)[23] ? (*(int*)(hl_vfields(r3)[23])) : (int)hl_dyn_geti(r3->value,-388890882/*TAB_W*/,&t$_i32);
	r1 = (double)r2;
	r5 = r0->ops;
	if( r5 == NULL ) hl_null_access();
	r4 = hl_vfields(r5)[4] ? (*(vdynamic**)(hl_vfields(r5)[4])) : (vdynamic*)hl_dyn_getp(r5->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r6 = r4 ? r4->v.d : 0;
	r1 = r1 * r6;
	r6 = r0->_x;
	r2 = (int)r1;
	r8 = (double)r2;
	r6 = r6 - r8;
	r0->_x = r6;
	r3 = r0->_t;
	if( r3 == NULL ) hl_null_access();
	r2 = hl_vfields(r3)[23] ? (*(int*)(hl_vfields(r3)[23])) : (int)hl_dyn_geti(r3->value,-388890882/*TAB_W*/,&t$_i32);
	r6 = (double)r2;
	r5 = r0->ops;
	if( r5 == NULL ) hl_null_access();
	r4 = hl_vfields(r5)[4] ? (*(vdynamic**)(hl_vfields(r5)[4])) : (vdynamic*)hl_dyn_getp(r5->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r8 = r4 ? r4->v.d : 0;
	r6 = r6 * r8;
	r2 = r0->_w;
	r9 = (int)r6;
	r2 = r2 + r9;
	r0->_w = r2;
	return;
}

void zui_Zui_fadeColor(zui__Zui r0) {
	kha__graphics2__Graphics r2, r4;
	float r3, r7, r8, r9;
	double r6;
	float *r10;
	int r1, r5;
	r2 = r0->g;
	if( r2 == NULL ) hl_null_access();
	r4 = r0->g;
	if( r4 == NULL ) hl_null_access();
	r1 = ((int (*)(kha__graphics2__Graphics))r4->$type->vobj_proto[10])(r4);
	r5 = 16711680;
	r1 = r1 & r5;
	r5 = 16;
	r1 = ((unsigned)r1) >> r5;
	r3 = (float)r1;
	r6 = 0.0039215686274509803;
	r7 = (float)r6;
	r3 = r3 * r7;
	r4 = r0->g;
	if( r4 == NULL ) hl_null_access();
	r1 = ((int (*)(kha__graphics2__Graphics))r4->$type->vobj_proto[10])(r4);
	r5 = 65280;
	r1 = r1 & r5;
	r5 = 8;
	r1 = ((unsigned)r1) >> r5;
	r7 = (float)r1;
	r6 = 0.0039215686274509803;
	r8 = (float)r6;
	r7 = r7 * r8;
	r4 = r0->g;
	if( r4 == NULL ) hl_null_access();
	r1 = ((int (*)(kha__graphics2__Graphics))r4->$type->vobj_proto[10])(r4);
	r5 = 255;
	r1 = r1 & r5;
	r8 = (float)r1;
	r6 = 0.0039215686274509803;
	r9 = (float)r6;
	r8 = r8 * r9;
	r6 = 0.25;
	r9 = (float)r6;
	r10 = &r9;
	r1 = kha__Color_Color_Impl__fromFloats(r3,r7,r8,r10);
	r1 = ((int (*)(kha__graphics2__Graphics,int))r2->$type->vobj_proto[11])(r2,r1);
	return;
}

void zui_Zui_fill(zui__Zui r0,double r1,double r2,double r3,double r4,int r5) {
	vvirtual *r13;
	bool r9;
	kha__graphics2__Graphics r7;
	double r10, r11, r14, r15, r16;
	vdynamic *r12;
	int r6;
	r7 = r0->g;
	if( r7 == NULL ) hl_null_access();
	r6 = ((int (*)(kha__graphics2__Graphics,int))r7->$type->vobj_proto[11])(r7,r5);
	r9 = r0->enabled;
	if( r9 ) goto label$1577ae0_41_6;
	zui_Zui_fadeColor(r0);
	label$1577ae0_41_6:
	r7 = r0->g;
	if( r7 == NULL ) hl_null_access();
	r10 = r0->_x;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[4] ? (*(vdynamic**)(hl_vfields(r13)[4])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r14 = r12 ? r12->v.d : 0;
	r11 = r1 * r14;
	r10 = r10 + r11;
	r11 = r0->_y;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[4] ? (*(vdynamic**)(hl_vfields(r13)[4])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r15 = r12 ? r12->v.d : 0;
	r14 = r2 * r15;
	r11 = r11 + r14;
	r14 = 1.;
	r11 = r11 - r14;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[4] ? (*(vdynamic**)(hl_vfields(r13)[4])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r15 = r12 ? r12->v.d : 0;
	r14 = r3 * r15;
	r13 = r0->ops;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[4] ? (*(vdynamic**)(hl_vfields(r13)[4])) : (vdynamic*)hl_dyn_getp(r13->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r16 = r12 ? r12->v.d : 0;
	r15 = r4 * r16;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r7->$type->vobj_proto[5])(r7,r10,r11,r14,r15);
	r7 = r0->g;
	if( r7 == NULL ) hl_null_access();
	r6 = -1;
	r6 = ((int (*)(kha__graphics2__Graphics,int))r7->$type->vobj_proto[11])(r7,r6);
	return;
}

bool zui_Zui_isVisible(zui__Zui r0,double r1) {
	kha__Image r7;
	bool r3;
	double r4, r5;
	zui__Handle r2;
	int r6;
	r2 = r0->currentWindow;
	if( r2 ) goto label$1577ae0_42_4;
	r3 = true;
	return r3;
	label$1577ae0_42_4:
	r4 = r0->_y;
	r4 = r4 + r1;
	r5 = 0.;
	if( !(r5 < r4) ) goto label$1577ae0_42_20;
	r4 = r0->_y;
	r2 = r0->currentWindow;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->texture;
	if( r7 == NULL ) hl_null_access();
	r6 = kha_Image_get_height(r7);
	r5 = (double)r6;
	if( r4 < r5 ) goto label$1577ae0_42_18;
	r3 = false;
	goto label$1577ae0_42_19;
	label$1577ae0_42_18:
	r3 = true;
	label$1577ae0_42_19:
	return r3;
	label$1577ae0_42_20:
	r3 = false;
	return r3;
}

bool zui_Zui_getReleased(zui__Zui r0,double* r1) {
	bool r3;
	double r2, r4, r5;
	if( r1 ) goto label$1577ae0_43_3;
	r2 = -1.;
	goto label$1577ae0_43_4;
	label$1577ae0_43_3:
	r2 = *r1;
	label$1577ae0_43_4:
	r3 = r0->enabled;
	if( !r3 ) goto label$1577ae0_43_20;
	r3 = r0->inputEnabled;
	if( !r3 ) goto label$1577ae0_43_20;
	r3 = r0->inputReleased;
	if( !r3 ) goto label$1577ae0_43_20;
	r4 = r2;
	r1 = &r4;
	r3 = zui_Zui_getHover(r0,r1);
	if( !r3 ) goto label$1577ae0_43_20;
	r5 = r2;
	r1 = &r5;
	r3 = zui_Zui_getInitialHover(r0,r1);
	if( !r3 ) goto label$1577ae0_43_20;
	r3 = true;
	goto label$1577ae0_43_21;
	label$1577ae0_43_20:
	r3 = false;
	label$1577ae0_43_21:
	r0->isReleased = r3;
	r3 = r0->isReleased;
	return r3;
}

bool zui_Zui_getPushed(zui__Zui r0,double* r1) {
	bool r3;
	double r2, r4, r5;
	if( r1 ) goto label$1577ae0_44_3;
	r2 = -1.;
	goto label$1577ae0_44_4;
	label$1577ae0_44_3:
	r2 = *r1;
	label$1577ae0_44_4:
	r3 = r0->enabled;
	if( !r3 ) goto label$1577ae0_44_20;
	r3 = r0->inputEnabled;
	if( !r3 ) goto label$1577ae0_44_20;
	r3 = r0->inputDown;
	if( !r3 ) goto label$1577ae0_44_20;
	r4 = r2;
	r1 = &r4;
	r3 = zui_Zui_getHover(r0,r1);
	if( !r3 ) goto label$1577ae0_44_20;
	r5 = r2;
	r1 = &r5;
	r3 = zui_Zui_getInitialHover(r0,r1);
	if( !r3 ) goto label$1577ae0_44_20;
	r3 = true;
	goto label$1577ae0_44_21;
	label$1577ae0_44_20:
	r3 = false;
	label$1577ae0_44_21:
	r0->isPushed = r3;
	r3 = r0->isPushed;
	return r3;
}

bool zui_Zui_getStarted(zui__Zui r0,double* r1) {
	bool r3;
	double r2, r4;
	if( r1 ) goto label$1577ae0_45_3;
	r2 = -1.;
	goto label$1577ae0_45_4;
	label$1577ae0_45_3:
	r2 = *r1;
	label$1577ae0_45_4:
	r3 = r0->enabled;
	if( !r3 ) goto label$1577ae0_45_16;
	r3 = r0->inputEnabled;
	if( !r3 ) goto label$1577ae0_45_16;
	r3 = r0->inputStarted;
	if( !r3 ) goto label$1577ae0_45_16;
	r4 = r2;
	r1 = &r4;
	r3 = zui_Zui_getHover(r0,r1);
	if( !r3 ) goto label$1577ae0_45_16;
	r3 = true;
	goto label$1577ae0_45_17;
	label$1577ae0_45_16:
	r3 = false;
	label$1577ae0_45_17:
	r0->isStarted = r3;
	r3 = r0->isStarted;
	return r3;
}

bool zui_Zui_getInitialHover(zui__Zui r0,double* r1) {
	vvirtual *r6, *r8;
	bool r9;
	double r2, r3, r4, r10;
	vdynamic *r7;
	int r5;
	if( r1 ) goto label$1577ae0_46_3;
	r2 = -1.;
	goto label$1577ae0_46_4;
	label$1577ae0_46_3:
	r2 = *r1;
	label$1577ae0_46_4:
	r4 = -1.;
	if( r2 != r4 ) goto label$1577ae0_46_16;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r3 = (double)r5;
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[4] ? (*(vdynamic**)(hl_vfields(r8)[4])) : (vdynamic*)hl_dyn_getp(r8->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r4 = r7 ? r7->v.d : 0;
	r3 = r3 * r4;
	r2 = r3;
	label$1577ae0_46_16:
	r9 = r0->enabled;
	if( !r9 ) goto label$1577ae0_46_48;
	r9 = r0->inputEnabled;
	if( !r9 ) goto label$1577ae0_46_48;
	r3 = r0->inputStartedX;
	r4 = r0->_windowX;
	r10 = r0->_x;
	r4 = r4 + r10;
	if( !(r3 >= r4) ) goto label$1577ae0_46_48;
	r3 = r0->inputStartedX;
	r4 = r0->_windowX;
	r10 = r0->_x;
	r4 = r4 + r10;
	r5 = r0->_w;
	r10 = (double)r5;
	r4 = r4 + r10;
	if( !(r3 < r4) ) goto label$1577ae0_46_48;
	r3 = r0->inputStartedY;
	r4 = r0->_windowY;
	r10 = r0->_y;
	r4 = r4 + r10;
	if( !(r3 >= r4) ) goto label$1577ae0_46_48;
	r3 = r0->inputStartedY;
	r4 = r0->_windowY;
	r10 = r0->_y;
	r4 = r4 + r10;
	r4 = r4 + r2;
	if( r3 < r4 ) goto label$1577ae0_46_46;
	r9 = false;
	goto label$1577ae0_46_47;
	label$1577ae0_46_46:
	r9 = true;
	label$1577ae0_46_47:
	return r9;
	label$1577ae0_46_48:
	r9 = false;
	return r9;
}

bool zui_Zui_getHover(zui__Zui r0,double* r1) {
	vvirtual *r6, *r8;
	bool r9;
	double r2, r3, r4, r10;
	vdynamic *r7;
	int r5;
	if( r1 ) goto label$1577ae0_47_3;
	r2 = -1.;
	goto label$1577ae0_47_4;
	label$1577ae0_47_3:
	r2 = *r1;
	label$1577ae0_47_4:
	r4 = -1.;
	if( r2 != r4 ) goto label$1577ae0_47_16;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&t$_i32);
	r3 = (double)r5;
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[4] ? (*(vdynamic**)(hl_vfields(r8)[4])) : (vdynamic*)hl_dyn_getp(r8->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r4 = r7 ? r7->v.d : 0;
	r3 = r3 * r4;
	r2 = r3;
	label$1577ae0_47_16:
	r9 = r0->enabled;
	if( !r9 ) goto label$1577ae0_47_46;
	r9 = r0->inputEnabled;
	if( !r9 ) goto label$1577ae0_47_46;
	r3 = r0->inputX;
	r4 = r0->_windowX;
	r10 = r0->_x;
	r4 = r4 + r10;
	if( !(r3 >= r4) ) goto label$1577ae0_47_46;
	r3 = r0->inputX;
	r4 = r0->_windowX;
	r10 = r0->_x;
	r4 = r4 + r10;
	r5 = r0->_w;
	r10 = (double)r5;
	r4 = r4 + r10;
	if( !(r3 < r4) ) goto label$1577ae0_47_46;
	r3 = r0->inputY;
	r4 = r0->_windowY;
	r10 = r0->_y;
	r4 = r4 + r10;
	if( !(r3 >= r4) ) goto label$1577ae0_47_46;
	r3 = r0->inputY;
	r4 = r0->_windowY;
	r10 = r0->_y;
	r4 = r4 + r10;
	r4 = r4 + r2;
	if( !(r3 < r4) ) goto label$1577ae0_47_46;
	r9 = true;
	goto label$1577ae0_47_47;
	label$1577ae0_47_46:
	r9 = false;
	label$1577ae0_47_47:
	r0->isHovered = r9;
	r9 = r0->isHovered;
	return r9;
}

bool zui_Zui_getInputInRect(zui__Zui r0,double r1,double r2,double r3,double r4,double* r5) {
	bool r7;
	double r6, r8, r9;
	if( r5 ) goto label$1577ae0_48_3;
	r6 = 1.;
	goto label$1577ae0_48_4;
	label$1577ae0_48_3:
	r6 = *r5;
	label$1577ae0_48_4:
	r7 = r0->enabled;
	if( !r7 ) goto label$1577ae0_48_26;
	r7 = r0->inputEnabled;
	if( !r7 ) goto label$1577ae0_48_26;
	r8 = r0->inputX;
	r9 = r1 * r6;
	if( !(r8 >= r9) ) goto label$1577ae0_48_26;
	r8 = r0->inputX;
	r9 = r1 + r3;
	r9 = r9 * r6;
	if( !(r8 < r9) ) goto label$1577ae0_48_26;
	r8 = r0->inputY;
	r9 = r2 * r6;
	if( !(r8 >= r9) ) goto label$1577ae0_48_26;
	r8 = r0->inputY;
	r9 = r2 + r4;
	r9 = r9 * r6;
	if( r8 < r9 ) goto label$1577ae0_48_24;
	r7 = false;
	goto label$1577ae0_48_25;
	label$1577ae0_48_24:
	r7 = true;
	label$1577ae0_48_25:
	return r7;
	label$1577ae0_48_26:
	r7 = false;
	return r7;
}

void zui_Zui_onMouseDown(zui__Zui r0,int r1,int r2,int r3) {
	bool r6;
	double r7;
	int r5;
	r5 = 0;
	if( r1 != r5 ) goto label$1577ae0_49_5;
	r6 = true;
	r0->inputStarted = r6;
	goto label$1577ae0_49_7;
	label$1577ae0_49_5:
	r6 = true;
	r0->inputStartedR = r6;
	label$1577ae0_49_7:
	r5 = 0;
	if( r1 != r5 ) goto label$1577ae0_49_12;
	r6 = true;
	r0->inputDown = r6;
	goto label$1577ae0_49_14;
	label$1577ae0_49_12:
	r6 = true;
	r0->inputDownR = r6;
	label$1577ae0_49_14:
	zui_Zui_setInputPosition(r0,r2,r3);
	r7 = (double)r2;
	r0->inputStartedX = r7;
	r7 = (double)r3;
	r0->inputStartedY = r7;
	return;
}

void zui_Zui_onMouseUp(zui__Zui r0,int r1,int r2,int r3) {
	bool r6;
	double r8, r9;
	zui__Handle r7;
	int r5;
	r5 = 0;
	if( r1 != r5 ) goto label$1577ae0_50_20;
	r6 = r0->isScrolling;
	if( !r6 ) goto label$1577ae0_50_17;
	r6 = false;
	r0->isScrolling = r6;
	r7 = NULL;
	r0->scrollHandle = r7;
	r8 = (double)r2;
	r9 = r0->inputStartedX;
	if( r8 != r9 ) goto label$1577ae0_50_16;
	r8 = (double)r3;
	r9 = r0->inputStartedY;
	if( r8 != r9 ) goto label$1577ae0_50_16;
	r6 = true;
	r0->inputReleased = r6;
	label$1577ae0_50_16:
	goto label$1577ae0_50_19;
	label$1577ae0_50_17:
	r6 = true;
	r0->inputReleased = r6;
	label$1577ae0_50_19:
	goto label$1577ae0_50_24;
	label$1577ae0_50_20:
	r5 = 1;
	if( r1 != r5 ) goto label$1577ae0_50_24;
	r6 = true;
	r0->inputReleasedR = r6;
	label$1577ae0_50_24:
	r5 = 0;
	if( r1 != r5 ) goto label$1577ae0_50_29;
	r6 = false;
	r0->inputDown = r6;
	goto label$1577ae0_50_31;
	label$1577ae0_50_29:
	r6 = false;
	r0->inputDownR = r6;
	label$1577ae0_50_31:
	zui_Zui_setInputPosition(r0,r2,r3);
	zui_Zui_deselectText(r0);
	return;
}

void zui_Zui_onMouseMove(zui__Zui r0,int r1,int r2,int r3,int r4) {
	zui_Zui_setInputPosition(r0,r1,r2);
	return;
}

void zui_Zui_onMouseWheel(zui__Zui r0,int r1) {
	r0->inputWheelDelta = r1;
	return;
}

void zui_Zui_setInputPosition(zui__Zui r0,int r1,int r2) {
	double r3, r4, r5;
	r3 = r0->inputDX;
	r4 = (double)r1;
	r5 = r0->inputX;
	r4 = r4 - r5;
	r3 = r3 + r4;
	r0->inputDX = r3;
	r3 = r0->inputDY;
	r4 = (double)r2;
	r5 = r0->inputY;
	r4 = r4 - r5;
	r3 = r3 + r4;
	r0->inputDY = r3;
	r3 = (double)r1;
	r0->inputX = r3;
	r3 = (double)r2;
	r0->inputY = r3;
	return;
}

void zui_Zui_onKeyDown(zui__Zui r0,int r1) {
	String r5;
	bool r3;
	vdynamic *r2;
	r2 = hl_alloc_dynamic(&t$_i32);
	r2->v.i = r1;
	r0->key = r2;
	r3 = true;
	r0->isKeyPressed = r3;
	r3 = true;
	r0->isKeyDown = r3;
	switch(r1) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 9:
		case 10:
		case 11:
		case 12:
		case 14:
		case 15:
		case 19:
		case 20:
		case 21:
		case 22:
		case 23:
		case 24:
		case 25:
		case 26:
		case 28:
		case 29:
		case 30:
		case 31:
		case 33:
		case 34:
		case 35:
		case 36:
		case 37:
		case 38:
		case 39:
		case 40:
		case 41:
		case 42:
		case 43:
		case 44:
		case 45:
			goto label$1577ae0_54_31;
		case 8:
			r3 = true;
			r0->isBackspaceDown = r3;
			goto label$1577ae0_54_31;
		case 13:
			r3 = true;
			r0->isReturnDown = r3;
			goto label$1577ae0_54_31;
		case 16:
			r3 = true;
			r0->isShiftDown = r3;
			goto label$1577ae0_54_31;
		case 17:
			r3 = true;
			r0->isCtrlDown = r3;
			goto label$1577ae0_54_31;
		case 18:
			r3 = true;
			r0->isAltDown = r3;
			goto label$1577ae0_54_31;
		case 27:
			r3 = true;
			r0->isEscapeDown = r3;
			goto label$1577ae0_54_31;
		case 32:
			r5 = (String)s$7215ee9;
			r0->_char = r5;
			goto label$1577ae0_54_31;
		case 46:
			r3 = true;
			r0->isDeleteDown = r3;
	}
	label$1577ae0_54_31:
	return;
}

void zui_Zui_onKeyUp(zui__Zui r0,int r1) {
	bool r2;
	r2 = false;
	r0->isKeyDown = r2;
	switch(r1) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 9:
		case 10:
		case 11:
		case 12:
		case 14:
		case 15:
		case 19:
		case 20:
		case 21:
		case 22:
		case 23:
		case 24:
		case 25:
		case 26:
		case 28:
		case 29:
		case 30:
		case 31:
		case 32:
		case 33:
		case 34:
		case 35:
		case 36:
		case 37:
		case 38:
		case 39:
		case 40:
		case 41:
		case 42:
		case 43:
		case 44:
		case 45:
			goto label$1577ae0_55_24;
		case 8:
			r2 = false;
			r0->isBackspaceDown = r2;
			goto label$1577ae0_55_24;
		case 13:
			r2 = false;
			r0->isReturnDown = r2;
			goto label$1577ae0_55_24;
		case 16:
			r2 = false;
			r0->isShiftDown = r2;
			goto label$1577ae0_55_24;
		case 17:
			r2 = false;
			r0->isCtrlDown = r2;
			goto label$1577ae0_55_24;
		case 18:
			r2 = false;
			r0->isAltDown = r2;
			goto label$1577ae0_55_24;
		case 27:
			r2 = false;
			r0->isEscapeDown = r2;
			goto label$1577ae0_55_24;
		case 46:
			r2 = false;
			r0->isDeleteDown = r2;
	}
	label$1577ae0_55_24:
	return;
}

void zui_Zui_onKeyPress(zui__Zui r0,String r1) {
	bool r2;
	r0->_char = r1;
	r2 = true;
	r0->isKeyPressed = r2;
	return;
}

String zui_Zui_onCut(zui__Zui r0) {
	String r3;
	bool r1;
	zui__$Zui r2;
	r1 = true;
	r2 = (zui__$Zui)g$_zui_Zui;
	r2->isCut = r1;
	r3 = zui_Zui_onCopy(r0);
	return r3;
}

String zui_Zui_onCopy(zui__Zui r0) {
	String r3;
	bool r1;
	zui__$Zui r2;
	r1 = true;
	r2 = (zui__$Zui)g$_zui_Zui;
	r2->isCopy = r1;
	r2 = (zui__$Zui)g$_zui_Zui;
	r3 = r2->textToCopy;
	return r3;
}

void zui_Zui_onPaste(zui__Zui r0,String r1) {
	bool r2;
	zui__$Zui r3;
	r2 = true;
	r3 = (zui__$Zui)g$_zui_Zui;
	r3->isPaste = r2;
	r3 = (zui__$Zui)g$_zui_Zui;
	r3->textToPaste = r1;
	return;
}

void zui_Zui_resize(zui__Zui r0,zui__Handle r1,int r2,int r3,int* r4) {
	kha__Image r8;
	kha__graphics2__Graphics r16;
	int *r13, *r15;
	vdynamic *r11;
	int r5, r6, r9, r10, r12, r14;
	if( r4 ) goto label$1577ae0_60_3;
	r5 = 0;
	goto label$1577ae0_60_4;
	label$1577ae0_60_3:
	r5 = *r4;
	label$1577ae0_60_4:
	if( r1 == NULL ) hl_null_access();
	r6 = 2;
	r1->redraws = r6;
	r8 = r1->texture;
	if( !r8 ) goto label$1577ae0_60_12;
	r8 = r1->texture;
	if( r8 == NULL ) hl_null_access();
	kha_Image_unload(r8);
	label$1577ae0_60_12:
	r9 = 1;
	if( r2 >= r9 ) goto label$1577ae0_60_16;
	r6 = 1;
	r2 = r6;
	label$1577ae0_60_16:
	r9 = 1;
	if( r3 >= r9 ) goto label$1577ae0_60_20;
	r6 = 1;
	r3 = r6;
	label$1577ae0_60_20:
	r10 = 0;
	r11 = hl_alloc_dynamic(&t$_i32);
	r11->v.i = r10;
	r10 = 0;
	r4 = &r10;
	r12 = 1;
	r13 = &r12;
	r14 = r5;
	r15 = &r14;
	r8 = kha_Image_createRenderTarget(r2,r3,r11,r4,r13,r15);
	r1->texture = r8;
	r8 = r1->texture;
	if( r8 == NULL ) hl_null_access();
	r16 = kha_Image_get_g2(r8);
	if( r16 == NULL ) hl_null_access();
	r6 = 1;
	r6 = ((int (*)(kha__graphics2__Graphics,int))r16->$type->vobj_proto[9])(r16,r6);
	return;
}

void zui_Zui_new(zui__Zui r0,vvirtual* r1) {
	String r8;
	kha__graphics4__PipelineState r22;
	kha__Image r3;
	vvirtual *r11;
	hl__types__ArrayObj r6;
	bool r4;
	zui__$Themes r12;
	zui__Zui r15;
	zui__$Zui r16;
	vclosure *r17, *r18, *r19, *r20;
	double r2;
	vdynamic *r7, *r13, *r14;
	zui__Handle r5;
	kha__graphics4__VertexStructure r21;
	int r9;
	static vclosure cl$0 = { &t$fun_715d8bf, zui_Zui_new__$1, 0 };
	r2 = -1.;
	r0->restoreY = r2;
	r2 = -1.;
	r0->restoreX = r2;
	r3 = NULL;
	r0->checkSelectImage = r3;
	r4 = false;
	r0->elementsBaked = r4;
	r2 = 0.;
	r0->tabScroll = r2;
	r5 = NULL;
	r0->tabHandle = r5;
	r6 = NULL;
	r0->tabNames = r6;
	r2 = 0.;
	r0->tooltipTime = r2;
	r4 = false;
	r0->tooltipWait = r4;
	r4 = false;
	r0->tooltipShown = r4;
	r2 = 0.;
	r0->tooltipY = r2;
	r2 = 0.;
	r0->tooltipX = r2;
	r4 = false;
	r0->tooltipInvertY = r4;
	r7 = NULL;
	r0->tooltipImgMaxWidth = r7;
	r3 = NULL;
	r0->tooltipImg = r3;
	r8 = (String)s$;
	r0->tooltipText = r8;
	r9 = 0;
	r0->comboToSubmit = r9;
	r5 = NULL;
	r0->submitComboHandle = r5;
	r5 = NULL;
	r0->comboSelectedWindow = r5;
	r5 = NULL;
	r0->comboSelectedHandle = r5;
	r5 = NULL;
	r0->tabPressedHandle = r5;
	r4 = false;
	r0->tabPressed = r4;
	r8 = (String)s$;
	r0->textToSubmit = r8;
	r5 = NULL;
	r0->submitTextHandle = r5;
	r5 = NULL;
	r0->textSelectedHandle = r5;
	r2 = 0.;
	r0->windowHeader = r2;
	r5 = NULL;
	r0->dragHandle = r5;
	r5 = NULL;
	r0->scrollHandle = r5;
	r4 = true;
	r0->windowEnded = r4;
	r2 = 0.;
	r0->_windowY = r2;
	r2 = 0.;
	r0->_windowX = r2;
	r4 = true;
	r0->imageScrollAlign = r4;
	r2 = 0.;
	r0->scrollAlign = r2;
	r9 = -1;
	r0->curRatio = r9;
	r9 = 0;
	r0->highlightAnchor = r9;
	r9 = 0;
	r0->cursorY = r9;
	r9 = 0;
	r0->cursorX = r9;
	r7 = NULL;
	r0->key = r7;
	r4 = false;
	r0->isReturnDown = r4;
	r4 = false;
	r0->isEscapeDown = r4;
	r4 = false;
	r0->isDeleteDown = r4;
	r4 = false;
	r0->isBackspaceDown = r4;
	r4 = false;
	r0->isAltDown = r4;
	r4 = false;
	r0->isCtrlDown = r4;
	r4 = false;
	r0->isShiftDown = r4;
	r4 = false;
	r0->isKeyDown = r4;
	r4 = false;
	r0->isKeyPressed = r4;
	r9 = 0;
	r0->inputWheelDelta = r9;
	r4 = true;
	r0->inputEnabled = r4;
	r4 = false;
	r0->inputRegistered = r4;
	r4 = false;
	r0->alwaysRedraw = r4;
	r4 = true;
	r0->scrollEnabled = r4;
	r4 = false;
	r0->imageInvertY = r4;
	r4 = false;
	r0->changed = r4;
	r4 = false;
	r0->isReleased = r4;
	r4 = false;
	r0->isHovered = r4;
	r4 = false;
	r0->isPushed = r4;
	r4 = false;
	r0->isStarted = r4;
	r4 = true;
	r0->enabled = r4;
	r4 = false;
	r0->isTyping = r4;
	r4 = false;
	r0->isScrolling = r4;
	if( r1 == NULL ) hl_null_access();
	r11 = hl_vfields(r1)[5] ? (*(vvirtual**)(hl_vfields(r1)[5])) : (vvirtual*)hl_dyn_getp(r1->value,260472329/*theme*/,&t$vrt_d94d4d4);
	if( r11 ) goto label$1577ae0_61_128;
	r12 = (zui__$Themes)g$_zui_Themes;
	r11 = r12->dark;
	if( hl_vfields(r1)[5] ) *(vvirtual**)(hl_vfields(r1)[5]) = (vvirtual*)r11; else hl_dyn_setp(r1->value,260472329/*theme*/,&t$vrt_d94d4d4,r11);
	label$1577ae0_61_128:
	r11 = hl_vfields(r1)[5] ? (*(vvirtual**)(hl_vfields(r1)[5])) : (vvirtual*)hl_dyn_getp(r1->value,260472329/*theme*/,&t$vrt_d94d4d4);
	r0->_t = r11;
	r7 = hl_vfields(r1)[3] ? (*(vdynamic**)(hl_vfields(r1)[3])) : (vdynamic*)hl_dyn_getp(r1->value,3128633/*khaWindowId*/,&t$nul_i32);
	if( r7 ) goto label$1577ae0_61_135;
	r9 = 0;
	r7 = hl_alloc_dynamic(&t$_i32);
	r7->v.i = r9;
	if( hl_vfields(r1)[3] ) *(vdynamic**)(hl_vfields(r1)[3]) = (vdynamic*)r7; else hl_dyn_setp(r1->value,3128633/*khaWindowId*/,&t$nul_i32,r7);
	label$1577ae0_61_135:
	r13 = hl_vfields(r1)[4] ? (*(vdynamic**)(hl_vfields(r1)[4])) : (vdynamic*)hl_dyn_getp(r1->value,-267297164/*scaleFactor*/,&t$nul_f64);
	if( r13 ) goto label$1577ae0_61_140;
	r2 = 1.;
	r13 = hl_alloc_dynamic(&t$_f64);
	r13->v.d = r2;
	if( hl_vfields(r1)[4] ) *(vdynamic**)(hl_vfields(r1)[4]) = (vdynamic*)r13; else hl_dyn_setp(r1->value,-267297164/*scaleFactor*/,&t$nul_f64,r13);
	label$1577ae0_61_140:
	r14 = hl_vfields(r1)[0] ? (*(vdynamic**)(hl_vfields(r1)[0])) : (vdynamic*)hl_dyn_getp(r1->value,485638881/*autoNotifyInput*/,&t$nul_bool);
	if( r14 ) goto label$1577ae0_61_145;
	r4 = true;
	r14 = hl_alloc_dynbool(r4);
	if( hl_vfields(r1)[0] ) *(vdynamic**)(hl_vfields(r1)[0]) = (vdynamic*)r14; else hl_dyn_setp(r1->value,485638881/*autoNotifyInput*/,&t$nul_bool,r14);
	label$1577ae0_61_145:
	r0->ops = r1;
	r13 = hl_vfields(r1)[4] ? (*(vdynamic**)(hl_vfields(r1)[4])) : (vdynamic*)hl_dyn_getp(r1->value,-267297164/*scaleFactor*/,&t$nul_f64);
	r2 = r13 ? r13->v.d : 0;
	zui_Zui_setScale(r0,r2);
	r14 = hl_vfields(r1)[0] ? (*(vdynamic**)(hl_vfields(r1)[0])) : (vdynamic*)hl_dyn_getp(r1->value,485638881/*autoNotifyInput*/,&t$nul_bool);
	r4 = r14 ? r14->v.b : 0;
	if( !r4 ) goto label$1577ae0_61_153;
	zui_Zui_registerInput(r0);
	label$1577ae0_61_153:
	r16 = (zui__$Zui)g$_zui_Zui;
	r15 = r16->copyReceiver;
	if( r15 ) goto label$1577ae0_61_164;
	r16 = (zui__$Zui)g$_zui_Zui;
	r16->copyReceiver = r0;
	r17 = hl_alloc_closure_ptr(&t$fun_00f1036,zui_Zui_onCut,r0);
	r18 = hl_alloc_closure_ptr(&t$fun_00f1036,zui_Zui_onCopy,r0);
	r19 = hl_alloc_closure_ptr(&t$fun_161bd10,zui_Zui_onPaste,r0);
	kha_System_notifyOnCutCopyPaste(r17,r18,r19);
	r20 = &cl$0;
	kha_System_notifyOnFrames(r20);
	label$1577ae0_61_164:
	r21 = kha_graphics4_Graphics2_createTextVertexStructure();
	r22 = kha_graphics4_Graphics2_createTextPipeline(r21);
	r0->rtTextPipeline = r22;
	r22 = r0->rtTextPipeline;
	if( r22 == NULL ) hl_null_access();
	r9 = 1;
	r22->alphaBlendSource = r9;
	r22 = r0->rtTextPipeline;
	if( r22 == NULL ) hl_null_access();
	kha_graphics4_PipelineState_compile(r22);
	return;
}

