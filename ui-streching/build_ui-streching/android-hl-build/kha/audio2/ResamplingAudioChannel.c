// Generated by HLC 4.0.0 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <kha/audio2/ResamplingAudioChannel.h>
void kha_audio2_AudioChannel_new(kha__audio2__AudioChannel,bool);
#include <hl/natives.h>
void kha_audio2_Audio1__playAgain(kha__audio2__AudioChannel);

void kha_audio2_ResamplingAudioChannel_new(kha__audio2__ResamplingAudioChannel r0,bool r1,int r2) {
	kha_audio2_AudioChannel_new(((kha__audio2__AudioChannel)r0),r1);
	r0->sampleRate = r2;
	return;
}

void kha_audio2_ResamplingAudioChannel_nextSamples(kha__audio2__ResamplingAudioChannel r0,kha__arrays__Float32ArrayPrivate r1,int r2,int r3) {
	bool r5;
	float r13, r27, r29;
	kha__arrays__Float32ArrayPrivate r11;
	double r14, r15, r16, r22, r28, r30;
	vbyte *r10;
	int r6, r7, r8, r9, r12, r17, r18, r19, r20, r21, r23, r24, r25, r26;
	r5 = r0->paused;
	if( r5 ) goto label$2f9bd3c_2_4;
	r5 = r0->stopped;
	if( !r5 ) goto label$2f9bd3c_2_17;
	label$2f9bd3c_2_4:
	r6 = 0;
	r7 = r2;
	label$2f9bd3c_2_6:
	if( r6 >= r7 ) goto label$2f9bd3c_2_16;
	r8 = r6;
	++r6;
	if( r1 == NULL ) hl_null_access();
	r10 = r1->self;
	r12 = 0;
	r13 = (float)r12;
	hl_kore_float32array_set(r10,r8,r13);
	goto label$2f9bd3c_2_6;
	label$2f9bd3c_2_16:
	return;
	label$2f9bd3c_2_17:
	r6 = 0;
	label$2f9bd3c_2_18:
	if( r6 >= r2 ) goto label$2f9bd3c_2_215;
	r7 = 0;
	r11 = r0->data;
	if( r11 == NULL ) hl_null_access();
	r8 = r11->length;
	r14 = (double)r8;
	r15 = (double)r3;
	r8 = r0->sampleRate;
	r16 = (double)r8;
	r15 = r15 / r16;
	r14 = r14 * r15;
	r8 = hl_math_ceil(r14);
	r12 = 2;
	r9 = r12 == 0 ? 0 : r8 % r12;
	r12 = 0;
	if( r9 != r12 ) goto label$2f9bd3c_2_37;
	r9 = r8;
	goto label$2f9bd3c_2_39;
	label$2f9bd3c_2_37:
	r12 = 1;
	r9 = r8 + r12;
	label$2f9bd3c_2_39:
	r12 = r0->myPosition;
	r9 = r9 - r12;
	r12 = r2 - r6;
	if( r9 >= r12 ) goto label$2f9bd3c_2_45;
	r17 = r9;
	goto label$2f9bd3c_2_46;
	label$2f9bd3c_2_45:
	r17 = r12;
	label$2f9bd3c_2_46:
	if( r7 >= r17 ) goto label$2f9bd3c_2_187;
	++r7;
	r18 = r6;
	++r6;
	r19 = r0->myPosition;
	r20 = r19;
	++r19;
	r0->myPosition = r19;
	r19 = r20;
	r21 = 2;
	r20 = r21 == 0 ? 0 : r20 % r21;
	r21 = 0;
	if( r20 == r21 ) goto label$2f9bd3c_2_62;
	r5 = false;
	goto label$2f9bd3c_2_63;
	label$2f9bd3c_2_62:
	r5 = true;
	label$2f9bd3c_2_63:
	r20 = r0->sampleRate;
	r14 = (double)r20;
	r15 = (double)r3;
	r14 = r14 / r15;
	if( !r5 ) goto label$2f9bd3c_2_124;
	r21 = 2;
	r20 = r21 == 0 ? 0 : r19 / r21;
	r16 = (double)r20;
	r15 = r14 * r16;
	r20 = hl_math_floor(r15);
	r22 = 1.;
	r16 = r15 + r22;
	r21 = hl_math_floor(r16);
	r24 = 2;
	r23 = r20 * r24;
	r20 = r23;
	r24 = 2;
	r23 = r21 * r24;
	r21 = r23;
	r23 = 0;
	r11 = r0->data;
	if( r11 == NULL ) hl_null_access();
	r24 = r11->length;
	r25 = 1;
	r24 = r24 - r25;
	r26 = 2;
	r25 = r26 == 0 ? 0 : r24 % r26;
	r26 = 0;
	if( r25 != r26 ) goto label$2f9bd3c_2_93;
	goto label$2f9bd3c_2_94;
	label$2f9bd3c_2_93:
	--r24;
	label$2f9bd3c_2_94:
	if( r20 < r23 ) goto label$2f9bd3c_2_96;
	if( r24 >= r20 ) goto label$2f9bd3c_2_99;
	label$2f9bd3c_2_96:
	r25 = 0;
	r13 = (float)r25;
	goto label$2f9bd3c_2_103;
	label$2f9bd3c_2_99:
	r11 = r0->data;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->self;
	r13 = hl_kore_float32array_get(r10,r20);
	label$2f9bd3c_2_103:
	if( r21 < r23 ) goto label$2f9bd3c_2_105;
	if( r24 >= r21 ) goto label$2f9bd3c_2_108;
	label$2f9bd3c_2_105:
	r25 = 0;
	r27 = (float)r25;
	goto label$2f9bd3c_2_112;
	label$2f9bd3c_2_108:
	r11 = r0->data;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->self;
	r27 = hl_kore_float32array_get(r10,r21);
	label$2f9bd3c_2_112:
	r25 = hl_math_floor(r15);
	r22 = (double)r25;
	r16 = r15 - r22;
	r22 = 1.;
	r22 = r22 - r16;
	r28 = (double)r13;
	r22 = r22 * r28;
	r30 = (double)r27;
	r28 = r16 * r30;
	r22 = r22 + r28;
	r29 = (float)r22;
	goto label$2f9bd3c_2_183;
	label$2f9bd3c_2_124:
	r21 = 2;
	r20 = r21 == 0 ? 0 : r19 / r21;
	r16 = (double)r20;
	r15 = r14 * r16;
	r20 = hl_math_floor(r15);
	r22 = 1.;
	r16 = r15 + r22;
	r21 = hl_math_floor(r16);
	r24 = 2;
	r23 = r20 * r24;
	r24 = 1;
	r23 = r23 + r24;
	r20 = r23;
	r24 = 2;
	r23 = r21 * r24;
	r24 = 1;
	r23 = r23 + r24;
	r21 = r23;
	r23 = 1;
	r11 = r0->data;
	if( r11 == NULL ) hl_null_access();
	r24 = r11->length;
	r25 = 1;
	r24 = r24 - r25;
	r26 = 2;
	r25 = r26 == 0 ? 0 : r24 % r26;
	r26 = 0;
	if( r25 == r26 ) goto label$2f9bd3c_2_153;
	goto label$2f9bd3c_2_154;
	label$2f9bd3c_2_153:
	--r24;
	label$2f9bd3c_2_154:
	if( r20 < r23 ) goto label$2f9bd3c_2_156;
	if( r24 >= r20 ) goto label$2f9bd3c_2_159;
	label$2f9bd3c_2_156:
	r25 = 0;
	r13 = (float)r25;
	goto label$2f9bd3c_2_163;
	label$2f9bd3c_2_159:
	r11 = r0->data;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->self;
	r13 = hl_kore_float32array_get(r10,r20);
	label$2f9bd3c_2_163:
	if( r21 < r23 ) goto label$2f9bd3c_2_165;
	if( r24 >= r21 ) goto label$2f9bd3c_2_168;
	label$2f9bd3c_2_165:
	r25 = 0;
	r27 = (float)r25;
	goto label$2f9bd3c_2_172;
	label$2f9bd3c_2_168:
	r11 = r0->data;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->self;
	r27 = hl_kore_float32array_get(r10,r21);
	label$2f9bd3c_2_172:
	r25 = hl_math_floor(r15);
	r22 = (double)r25;
	r16 = r15 - r22;
	r22 = 1.;
	r22 = r22 - r16;
	r28 = (double)r13;
	r22 = r22 * r28;
	r30 = (double)r27;
	r28 = r16 * r30;
	r22 = r22 + r28;
	r29 = (float)r22;
	label$2f9bd3c_2_183:
	if( r1 == NULL ) hl_null_access();
	r10 = r1->self;
	hl_kore_float32array_set(r10,r18,r29);
	goto label$2f9bd3c_2_46;
	label$2f9bd3c_2_187:
	r7 = r0->myPosition;
	r11 = r0->data;
	if( r11 == NULL ) hl_null_access();
	r8 = r11->length;
	r14 = (double)r8;
	r15 = (double)r3;
	r8 = r0->sampleRate;
	r16 = (double)r8;
	r15 = r15 / r16;
	r14 = r14 * r15;
	r8 = hl_math_ceil(r14);
	r17 = 2;
	r12 = r17 == 0 ? 0 : r8 % r17;
	r17 = 0;
	if( r12 != r17 ) goto label$2f9bd3c_2_204;
	r12 = r8;
	goto label$2f9bd3c_2_206;
	label$2f9bd3c_2_204:
	r17 = 1;
	r12 = r8 + r17;
	label$2f9bd3c_2_206:
	if( r7 < r12 ) goto label$2f9bd3c_2_214;
	r9 = 0;
	r0->myPosition = r9;
	r5 = r0->looping;
	if( r5 ) goto label$2f9bd3c_2_214;
	r5 = true;
	r0->stopped = r5;
	goto label$2f9bd3c_2_215;
	label$2f9bd3c_2_214:
	goto label$2f9bd3c_2_18;
	label$2f9bd3c_2_215:
	if( r6 >= r2 ) goto label$2f9bd3c_2_225;
	if( r1 == NULL ) hl_null_access();
	r10 = r1->self;
	r7 = r6;
	++r6;
	r8 = 0;
	r13 = (float)r8;
	hl_kore_float32array_set(r10,r7,r13);
	goto label$2f9bd3c_2_215;
	label$2f9bd3c_2_225:
	return;
}

void kha_audio2_ResamplingAudioChannel_play(kha__audio2__ResamplingAudioChannel r0) {
	bool r1;
	r1 = false;
	r0->paused = r1;
	r1 = false;
	r0->stopped = r1;
	kha_audio2_Audio1__playAgain(((kha__audio2__AudioChannel)r0));
	return;
}

double kha_audio2_ResamplingAudioChannel_get_volume(kha__audio2__ResamplingAudioChannel r0) {
	double r1;
	r1 = r0->myVolume;
	return r1;
}

double kha_audio2_ResamplingAudioChannel_set_volume(kha__audio2__ResamplingAudioChannel r0,double r1) {
	r0->myVolume = r1;
	return r1;
}

bool kha_audio2_ResamplingAudioChannel_get_finished(kha__audio2__ResamplingAudioChannel r0) {
	bool r1;
	r1 = r0->stopped;
	return r1;
}

