// Generated by HLC 4.0.0 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <iron/object/LightObject.h>
#include <iron/Scene.h>
extern iron__$Scene $g__iron_Scene;
bool hl_types_ArrayObj_remove(hl__types__ArrayObj,vdynamic*);
void iron_object_Object_remove(iron__object__Object);
extern iron__object__$LightObject $g__iron_object_LightObject;
#include <iron/object/CameraObject.h>
#include <iron/data/TLightData.h>
#include <kha/math/FastMatrix4.h>
void iron_object_Transform_buildMatrix(iron__object__Transform);
extern String $s_sun;
int String___compare(String,vdynamic*);
void iron_object_LightObject_setCascade(iron__object__LightObject,iron__object__CameraObject,int);
void iron_object_LightObject_updateViewFrustum(iron__object__LightObject,iron__object__CameraObject);
#include <kha/arrays/Float32ArrayPrivate.h>
#include <iron/data/TCameraData.h>
#include <iron/data/CameraData.h>
#include <iron/math/Mat4.h>
int kha_System_windowWidth(int*);
int kha_System_windowHeight(int*);
extern hl_type $t_f32;
#include <hl/natives.h>
extern hl_type $t_iron_math_Mat4;
void iron_math_Mat4_new(iron__math__Mat4,float,float,float,float,float,float,float,float,float,float,float,float,float,float,float,float);
extern iron__math__$Mat4 $g__iron_math_Mat4;
#include <iron/object/FrustumPlane.h>
extern hl_type $t_iron_object_FrustumPlane;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
void iron_object_FrustumPlane_new(iron__object__FrustumPlane);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
void iron_object_CameraObject_buildViewFrustum(iron__math__Mat4,hl__types__ArrayObj);
void iron_object_CameraObject_setCubeFace(iron__math__Mat4,iron__math__Vec4,int,bool*);
void iron_object_Object_new(iron__object__Object);
extern hl_type $t_iron_math_Vec4;
void iron_math_Vec4_new(iron__math__Vec4,float*,float*,float*,float*);
extern String $s_point;
extern String $s_area;
extern String $s_spot;

void iron_object_LightObject_remove(iron__object__LightObject r0) {
	hl__types__ArrayObj r5;
	bool r4;
	iron__$Scene r3;
	iron__Scene r2;
	r3 = (iron__$Scene)$g__iron_Scene;
	r2 = r3->active;
	if( !r2 ) goto label$fbe494a_1_9;
	r3 = (iron__$Scene)$g__iron_Scene;
	r2 = r3->active;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->lights;
	if( r5 == NULL ) hl_null_access();
	r4 = hl_types_ArrayObj_remove(r5,((vdynamic*)r0));
	label$fbe494a_1_9:
	iron_object_Object_remove(((iron__object__Object)r0));
	return;
}

void iron_object_LightObject_setCorners() {
	hl__types__ArrayObj r0;
	iron__math__Vec4 r4;
	float r9;
	double r8;
	vdynamic *r5;
	varray *r6;
	int r2, r3;
	iron__object__$LightObject r1;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 0;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_8;
	r4 = NULL;
	goto label$fbe494a_2_11;
	label$fbe494a_2_8:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_11:
	if( r4 == NULL ) hl_null_access();
	r8 = -1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 1;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_32;
	r4 = NULL;
	goto label$fbe494a_2_35;
	label$fbe494a_2_32:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_35:
	if( r4 == NULL ) hl_null_access();
	r8 = -1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 2;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_56;
	r4 = NULL;
	goto label$fbe494a_2_59;
	label$fbe494a_2_56:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_59:
	if( r4 == NULL ) hl_null_access();
	r8 = -1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 3;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_80;
	r4 = NULL;
	goto label$fbe494a_2_83;
	label$fbe494a_2_80:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_83:
	if( r4 == NULL ) hl_null_access();
	r8 = -1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 4;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_104;
	r4 = NULL;
	goto label$fbe494a_2_107;
	label$fbe494a_2_104:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_107:
	if( r4 == NULL ) hl_null_access();
	r8 = 1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 5;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_128;
	r4 = NULL;
	goto label$fbe494a_2_131;
	label$fbe494a_2_128:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_131:
	if( r4 == NULL ) hl_null_access();
	r8 = 1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 6;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_152;
	r4 = NULL;
	goto label$fbe494a_2_155;
	label$fbe494a_2_152:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_155:
	if( r4 == NULL ) hl_null_access();
	r8 = 1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 7;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_176;
	r4 = NULL;
	goto label$fbe494a_2_179;
	label$fbe494a_2_176:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_179:
	if( r4 == NULL ) hl_null_access();
	r8 = 1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	return;
}

void iron_object_LightObject_buildMatrix(iron__object__LightObject r0,iron__object__CameraObject r1) {
	String r4, r7;
	iron__data__TLightData r5;
	kha__math__FastMatrix4 r12;
	iron__data__LightData r6;
	iron__object__Transform r3;
	float r11, r13, r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r26, r27, r28, r29, r30, r31, r32, r33, r34, r35, r36, r37, r38, r39, r40, r41, r42;
	iron__math__Mat4 r9, r10;
	double r43, r44;
	int r8;
	r3 = r0->transform;
	if( r3 == NULL ) hl_null_access();
	iron_object_Transform_buildMatrix(r3);
	r6 = r0->data;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->raw;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->type;
	r7 = (String)$s_sun;
	if( r4 != r7 && (!r4 || !r7 || String___compare(r4,(vdynamic*)r7) != 0) ) goto label$fbe494a_3_13;
	r8 = 0;
	iron_object_LightObject_setCascade(r0,r1,r8);
	goto label$fbe494a_3_349;
	label$fbe494a_3_13:
	r9 = r0->V;
	r3 = r0->transform;
	if( r3 == NULL ) hl_null_access();
	r10 = r3->world;
	if( r10 == NULL ) hl_null_access();
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->_00;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r13 = r12->_01;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r14 = r12->_02;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r15 = r12->_03;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r16 = r12->_10;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r17 = r12->_11;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r18 = r12->_12;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r19 = r12->_13;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r20 = r12->_20;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r21 = r12->_21;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r22 = r12->_22;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r23 = r12->_23;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r24 = r12->_30;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r25 = r12->_31;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r26 = r12->_32;
	r12 = r10->self;
	if( r12 == NULL ) hl_null_access();
	r27 = r12->_33;
	r28 = r11 * r17;
	r29 = r13 * r16;
	r28 = r28 - r29;
	r29 = r11 * r18;
	r30 = r14 * r16;
	r29 = r29 - r30;
	r30 = r11 * r19;
	r31 = r15 * r16;
	r30 = r30 - r31;
	r31 = r13 * r18;
	r32 = r14 * r17;
	r31 = r31 - r32;
	r32 = r13 * r19;
	r33 = r15 * r17;
	r32 = r32 - r33;
	r33 = r14 * r19;
	r34 = r15 * r18;
	r33 = r33 - r34;
	r34 = r20 * r25;
	r35 = r21 * r24;
	r34 = r34 - r35;
	r35 = r20 * r26;
	r36 = r22 * r24;
	r35 = r35 - r36;
	r36 = r20 * r27;
	r37 = r23 * r24;
	r36 = r36 - r37;
	r37 = r21 * r26;
	r38 = r22 * r25;
	r37 = r37 - r38;
	r38 = r21 * r27;
	r39 = r23 * r25;
	r38 = r38 - r39;
	r39 = r22 * r27;
	r40 = r23 * r26;
	r39 = r39 - r40;
	r40 = r28 * r39;
	r41 = r29 * r38;
	r40 = r40 - r41;
	r41 = r30 * r37;
	r40 = r40 + r41;
	r41 = r31 * r36;
	r40 = r40 + r41;
	r41 = r32 * r35;
	r40 = r40 - r41;
	r41 = r33 * r34;
	r40 = r40 + r41;
	r43 = (double)r40;
	r44 = 0.;
	if( r43 != r44 ) goto label$fbe494a_3_198;
	if( r9 == NULL ) hl_null_access();
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 1.;
	r41 = (float)r43;
	r12->_00 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 0.;
	r41 = (float)r43;
	r12->_01 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 0.;
	r41 = (float)r43;
	r12->_02 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 0.;
	r41 = (float)r43;
	r12->_03 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 0.;
	r41 = (float)r43;
	r12->_10 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 1.;
	r41 = (float)r43;
	r12->_11 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 0.;
	r41 = (float)r43;
	r12->_12 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 0.;
	r41 = (float)r43;
	r12->_13 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 0.;
	r41 = (float)r43;
	r12->_20 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 0.;
	r41 = (float)r43;
	r12->_21 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 1.;
	r41 = (float)r43;
	r12->_22 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 0.;
	r41 = (float)r43;
	r12->_23 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 0.;
	r41 = (float)r43;
	r12->_30 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 0.;
	r41 = (float)r43;
	r12->_31 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 0.;
	r41 = (float)r43;
	r12->_32 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r43 = 1.;
	r41 = (float)r43;
	r12->_33 = r41;
	goto label$fbe494a_3_348;
	label$fbe494a_3_198:
	r43 = 1.;
	r44 = (double)r40;
	r43 = r43 / r44;
	r41 = (float)r43;
	r40 = r41;
	if( r9 == NULL ) hl_null_access();
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r17 * r39;
	r42 = r18 * r38;
	r41 = r41 - r42;
	r42 = r19 * r37;
	r41 = r41 + r42;
	r41 = r41 * r40;
	r12->_00 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r14 * r38;
	r42 = r13 * r39;
	r41 = r41 - r42;
	r42 = r15 * r37;
	r41 = r41 - r42;
	r41 = r41 * r40;
	r12->_01 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r25 * r33;
	r42 = r26 * r32;
	r41 = r41 - r42;
	r42 = r27 * r31;
	r41 = r41 + r42;
	r41 = r41 * r40;
	r12->_02 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r22 * r32;
	r42 = r21 * r33;
	r41 = r41 - r42;
	r42 = r23 * r31;
	r41 = r41 - r42;
	r41 = r41 * r40;
	r12->_03 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r18 * r36;
	r42 = r16 * r39;
	r41 = r41 - r42;
	r42 = r19 * r35;
	r41 = r41 - r42;
	r41 = r41 * r40;
	r12->_10 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r11 * r39;
	r42 = r14 * r36;
	r41 = r41 - r42;
	r42 = r15 * r35;
	r41 = r41 + r42;
	r41 = r41 * r40;
	r12->_11 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r26 * r30;
	r42 = r24 * r33;
	r41 = r41 - r42;
	r42 = r27 * r29;
	r41 = r41 - r42;
	r41 = r41 * r40;
	r12->_12 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r20 * r33;
	r42 = r22 * r30;
	r41 = r41 - r42;
	r42 = r23 * r29;
	r41 = r41 + r42;
	r41 = r41 * r40;
	r12->_13 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r16 * r38;
	r42 = r17 * r36;
	r41 = r41 - r42;
	r42 = r19 * r34;
	r41 = r41 + r42;
	r41 = r41 * r40;
	r12->_20 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r13 * r36;
	r42 = r11 * r38;
	r41 = r41 - r42;
	r42 = r15 * r34;
	r41 = r41 - r42;
	r41 = r41 * r40;
	r12->_21 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r24 * r32;
	r42 = r25 * r30;
	r41 = r41 - r42;
	r42 = r27 * r28;
	r41 = r41 + r42;
	r41 = r41 * r40;
	r12->_22 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r21 * r30;
	r42 = r20 * r32;
	r41 = r41 - r42;
	r42 = r23 * r28;
	r41 = r41 - r42;
	r41 = r41 * r40;
	r12->_23 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r17 * r35;
	r42 = r16 * r37;
	r41 = r41 - r42;
	r42 = r18 * r34;
	r41 = r41 - r42;
	r41 = r41 * r40;
	r12->_30 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r11 * r37;
	r42 = r13 * r35;
	r41 = r41 - r42;
	r42 = r14 * r34;
	r41 = r41 + r42;
	r41 = r41 * r40;
	r12->_31 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r25 * r29;
	r42 = r24 * r31;
	r41 = r41 - r42;
	r42 = r26 * r28;
	r41 = r41 - r42;
	r41 = r41 * r40;
	r12->_32 = r41;
	r12 = r9->self;
	if( r12 == NULL ) hl_null_access();
	r41 = r20 * r31;
	r42 = r21 * r29;
	r41 = r41 - r42;
	r42 = r22 * r28;
	r41 = r41 + r42;
	r41 = r41 * r40;
	r12->_33 = r41;
	label$fbe494a_3_348:
	iron_object_LightObject_updateViewFrustum(r0,r1);
	label$fbe494a_3_349:
	return;
}

void iron_object_LightObject_setCascade(iron__object__LightObject r0,iron__object__CameraObject r1,int r2) {
	hl__types__ArrayObj r63;
	iron__data__TLightData r14;
	kha__math__FastMatrix4 r7, r9;
	iron__math__Vec4 r58, r60, r61, r62;
	iron__data__LightData r15;
	iron__data__TCameraData r11;
	iron__object__Transform r57;
	iron__data__CameraData r12;
	iron__math__$Mat4 r59;
	kha__arrays__Float32ArrayPrivate r10;
	float r8, r22, r23, r24, r26, r27, r28, r29, r30, r31, r32, r33, r34, r35, r36, r38, r39, r40, r41, r44, r45, r46, r47, r48, r49, r50, r51, r52, r53, r54, r55, r56;
	iron__math__Mat4 r3, r6;
	double r18, r21, r25, r37, r43, r69, r70, r71, r72, r73, r74, r75, r76;
	int *r20;
	vdynamic *r13, *r16, *r17, *r66, *r68;
	varray *r67;
	vbyte *r42;
	int r19, r64, r65;
	iron__object__$LightObject r4;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->m;
	if( r1 == NULL ) hl_null_access();
	r6 = r1->V;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	if( r6 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_00;
	r7->_00 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_01;
	r7->_01 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_02;
	r7->_02 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_03;
	r7->_03 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_10;
	r7->_10 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_11;
	r7->_11 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_12;
	r7->_12 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_13;
	r7->_13 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_20;
	r7->_20 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_21;
	r7->_21 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_22;
	r7->_22 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_23;
	r7->_23 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_30;
	r7->_30 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_31;
	r7->_31 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_32;
	r7->_32 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_33;
	r7->_33 = r8;
	r3 = r0->camSlicedP;
	if( r3 ) goto label$fbe494a_4_283;
	r12 = r1->data;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->raw;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->ortho;
	if( r10 ) goto label$fbe494a_4_202;
	r12 = r1->data;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->raw;
	if( r11 == NULL ) hl_null_access();
	r8 = r11->fov;
	r15 = r0->data;
	if( r15 == NULL ) hl_null_access();
	r14 = r15->raw;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->near_plane;
	r15 = r0->data;
	if( r15 == NULL ) hl_null_access();
	r14 = r15->raw;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->far_plane;
	r12 = r1->data;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->raw;
	if( r11 == NULL ) hl_null_access();
	r17 = r11->aspect;
	if( !r17 ) goto label$fbe494a_4_137;
	r12 = r1->data;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->raw;
	if( r11 == NULL ) hl_null_access();
	r17 = r11->aspect;
	goto label$fbe494a_4_146;
	label$fbe494a_4_137:
	r20 = NULL;
	r19 = kha_System_windowWidth(r20);
	r18 = (double)r19;
	r20 = NULL;
	r19 = kha_System_windowHeight(r20);
	r21 = (double)r19;
	r18 = r18 / r21;
	r22 = (float)r18;
	r17 = hl_alloc_dynamic(&$t_f32);
	r17->v.f = r22;
	label$fbe494a_4_146:
	r22 = r13 ? r13->v.f : 0;
	r23 = r16 ? r16->v.f : 0;
	r18 = 1.;
	r21 = (double)r8;
	r25 = 2.;
	r21 = r21 / r25;
	r21 = hl_math_tan(r21);
	r18 = r18 / r21;
	r24 = r17 ? r17->v.f : 0;
	r25 = (double)r24;
	r21 = r18 / r25;
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r24 = (float)r21;
	r19 = 0;
	r26 = (float)r19;
	r19 = 0;
	r27 = (float)r19;
	r19 = 0;
	r28 = (float)r19;
	r19 = 0;
	r29 = (float)r19;
	r30 = (float)r18;
	r19 = 0;
	r31 = (float)r19;
	r19 = 0;
	r32 = (float)r19;
	r19 = 0;
	r33 = (float)r19;
	r19 = 0;
	r34 = (float)r19;
	r35 = r23 + r22;
	r25 = (double)r35;
	r35 = r22 - r23;
	r37 = (double)r35;
	r25 = r25 / r37;
	r35 = (float)r25;
	r19 = 2;
	r36 = (float)r19;
	r36 = r36 * r23;
	r36 = r36 * r22;
	r25 = (double)r36;
	r36 = r22 - r23;
	r37 = (double)r36;
	r25 = r25 / r37;
	r36 = (float)r25;
	r19 = 0;
	r38 = (float)r19;
	r19 = 0;
	r39 = (float)r19;
	r19 = -1;
	r40 = (float)r19;
	r19 = 0;
	r41 = (float)r19;
	iron_math_Mat4_new(r3,r24,r26,r27,r28,r29,r30,r31,r32,r33,r34,r35,r36,r38,r39,r40,r41);
	r0->camSlicedP = r3;
	goto label$fbe494a_4_283;
	label$fbe494a_4_202:
	if( r10 == NULL ) hl_null_access();
	r42 = r10->self;
	r19 = 0;
	r8 = hl_kore_float32array_get(r42,r19);
	r42 = r10->self;
	r19 = 1;
	r22 = hl_kore_float32array_get(r42,r19);
	r42 = r10->self;
	r19 = 2;
	r23 = hl_kore_float32array_get(r42,r19);
	r42 = r10->self;
	r19 = 3;
	r24 = hl_kore_float32array_get(r42,r19);
	r15 = r0->data;
	if( r15 == NULL ) hl_null_access();
	r14 = r15->raw;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->near_plane;
	r26 = r13 ? r13->v.f : 0;
	r15 = r0->data;
	if( r15 == NULL ) hl_null_access();
	r14 = r15->raw;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->far_plane;
	r27 = r13 ? r13->v.f : 0;
	r28 = r22 - r8;
	r29 = r24 - r23;
	r30 = r27 - r26;
	r31 = r22 + r8;
	r31 = -r31;
	r18 = (double)r31;
	r21 = (double)r28;
	r18 = r18 / r21;
	r31 = r24 + r23;
	r31 = -r31;
	r21 = (double)r31;
	r25 = (double)r29;
	r21 = r21 / r25;
	r31 = r27 + r26;
	r31 = -r31;
	r25 = (double)r31;
	r37 = (double)r30;
	r25 = r25 / r37;
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r37 = 2.;
	r43 = (double)r28;
	r37 = r37 / r43;
	r31 = (float)r37;
	r19 = 0;
	r32 = (float)r19;
	r19 = 0;
	r33 = (float)r19;
	r34 = (float)r18;
	r19 = 0;
	r35 = (float)r19;
	r37 = 2.;
	r43 = (double)r29;
	r37 = r37 / r43;
	r36 = (float)r37;
	r19 = 0;
	r38 = (float)r19;
	r39 = (float)r21;
	r19 = 0;
	r40 = (float)r19;
	r19 = 0;
	r41 = (float)r19;
	r37 = -2.;
	r43 = (double)r30;
	r37 = r37 / r43;
	r44 = (float)r37;
	r45 = (float)r25;
	r19 = 0;
	r46 = (float)r19;
	r19 = 0;
	r47 = (float)r19;
	r19 = 0;
	r48 = (float)r19;
	r19 = 1;
	r49 = (float)r19;
	iron_math_Mat4_new(r3,r31,r32,r33,r34,r35,r36,r38,r39,r40,r41,r44,r45,r46,r47,r48,r49);
	r0->camSlicedP = r3;
	label$fbe494a_4_283:
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->m;
	r6 = r0->camSlicedP;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_00;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r22 = r7->_01;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r23 = r7->_02;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r24 = r7->_03;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r26 = r7->_10;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_11;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r28 = r7->_12;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r29 = r7->_13;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r30 = r7->_20;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r31 = r7->_21;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r32 = r7->_22;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r33 = r7->_23;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r34 = r7->_30;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_31;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r36 = r7->_32;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r38 = r7->_33;
	if( r6 == NULL ) hl_null_access();
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r39 = r7->_00;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r40 = r7->_10;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r41 = r7->_20;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r44 = r7->_30;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r8 * r39;
	r46 = r22 * r40;
	r45 = r45 + r46;
	r46 = r23 * r41;
	r45 = r45 + r46;
	r46 = r24 * r44;
	r45 = r45 + r46;
	r7->_00 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r26 * r39;
	r46 = r27 * r40;
	r45 = r45 + r46;
	r46 = r28 * r41;
	r45 = r45 + r46;
	r46 = r29 * r44;
	r45 = r45 + r46;
	r7->_10 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r30 * r39;
	r46 = r31 * r40;
	r45 = r45 + r46;
	r46 = r32 * r41;
	r45 = r45 + r46;
	r46 = r33 * r44;
	r45 = r45 + r46;
	r7->_20 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r34 * r39;
	r46 = r35 * r40;
	r45 = r45 + r46;
	r46 = r36 * r41;
	r45 = r45 + r46;
	r46 = r38 * r44;
	r45 = r45 + r46;
	r7->_30 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_01;
	r39 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_11;
	r40 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_21;
	r41 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_31;
	r44 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r8 * r39;
	r46 = r22 * r40;
	r45 = r45 + r46;
	r46 = r23 * r41;
	r45 = r45 + r46;
	r46 = r24 * r44;
	r45 = r45 + r46;
	r7->_01 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r26 * r39;
	r46 = r27 * r40;
	r45 = r45 + r46;
	r46 = r28 * r41;
	r45 = r45 + r46;
	r46 = r29 * r44;
	r45 = r45 + r46;
	r7->_11 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r30 * r39;
	r46 = r31 * r40;
	r45 = r45 + r46;
	r46 = r32 * r41;
	r45 = r45 + r46;
	r46 = r33 * r44;
	r45 = r45 + r46;
	r7->_21 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r34 * r39;
	r46 = r35 * r40;
	r45 = r45 + r46;
	r46 = r36 * r41;
	r45 = r45 + r46;
	r46 = r38 * r44;
	r45 = r45 + r46;
	r7->_31 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_02;
	r39 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_12;
	r40 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_22;
	r41 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_32;
	r44 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r8 * r39;
	r46 = r22 * r40;
	r45 = r45 + r46;
	r46 = r23 * r41;
	r45 = r45 + r46;
	r46 = r24 * r44;
	r45 = r45 + r46;
	r7->_02 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r26 * r39;
	r46 = r27 * r40;
	r45 = r45 + r46;
	r46 = r28 * r41;
	r45 = r45 + r46;
	r46 = r29 * r44;
	r45 = r45 + r46;
	r7->_12 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r30 * r39;
	r46 = r31 * r40;
	r45 = r45 + r46;
	r46 = r32 * r41;
	r45 = r45 + r46;
	r46 = r33 * r44;
	r45 = r45 + r46;
	r7->_22 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r34 * r39;
	r46 = r35 * r40;
	r45 = r45 + r46;
	r46 = r36 * r41;
	r45 = r45 + r46;
	r46 = r38 * r44;
	r45 = r45 + r46;
	r7->_32 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_03;
	r39 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_13;
	r40 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_23;
	r41 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_33;
	r44 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r8 * r39;
	r46 = r22 * r40;
	r45 = r45 + r46;
	r46 = r23 * r41;
	r45 = r45 + r46;
	r46 = r24 * r44;
	r45 = r45 + r46;
	r7->_03 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r26 * r39;
	r46 = r27 * r40;
	r45 = r45 + r46;
	r46 = r28 * r41;
	r45 = r45 + r46;
	r46 = r29 * r44;
	r45 = r45 + r46;
	r7->_13 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r30 * r39;
	r46 = r31 * r40;
	r45 = r45 + r46;
	r46 = r32 * r41;
	r45 = r45 + r46;
	r46 = r33 * r44;
	r45 = r45 + r46;
	r7->_23 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r34 * r39;
	r46 = r35 * r40;
	r45 = r45 + r46;
	r46 = r36 * r41;
	r45 = r45 + r46;
	r46 = r38 * r44;
	r45 = r45 + r46;
	r7->_33 = r45;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->m;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r6 = r4->m;
	if( r6 == NULL ) hl_null_access();
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_00;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r22 = r7->_01;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r23 = r7->_02;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r24 = r7->_03;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r26 = r7->_10;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_11;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r28 = r7->_12;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r29 = r7->_13;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r30 = r7->_20;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r31 = r7->_21;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r32 = r7->_22;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r33 = r7->_23;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r34 = r7->_30;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_31;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r36 = r7->_32;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r38 = r7->_33;
	r39 = r8 * r27;
	r40 = r22 * r26;
	r39 = r39 - r40;
	r40 = r8 * r28;
	r41 = r23 * r26;
	r40 = r40 - r41;
	r41 = r8 * r29;
	r44 = r24 * r26;
	r41 = r41 - r44;
	r44 = r22 * r28;
	r45 = r23 * r27;
	r44 = r44 - r45;
	r45 = r22 * r29;
	r46 = r24 * r27;
	r45 = r45 - r46;
	r46 = r23 * r29;
	r47 = r24 * r28;
	r46 = r46 - r47;
	r47 = r30 * r35;
	r48 = r31 * r34;
	r47 = r47 - r48;
	r48 = r30 * r36;
	r49 = r32 * r34;
	r48 = r48 - r49;
	r49 = r30 * r38;
	r50 = r33 * r34;
	r49 = r49 - r50;
	r50 = r31 * r36;
	r51 = r32 * r35;
	r50 = r50 - r51;
	r51 = r31 * r38;
	r52 = r33 * r35;
	r51 = r51 - r52;
	r52 = r32 * r38;
	r53 = r33 * r36;
	r52 = r52 - r53;
	r53 = r39 * r52;
	r54 = r40 * r51;
	r53 = r53 - r54;
	r54 = r41 * r50;
	r53 = r53 + r54;
	r54 = r44 * r49;
	r53 = r53 + r54;
	r54 = r45 * r48;
	r53 = r53 - r54;
	r54 = r46 * r47;
	r53 = r53 + r54;
	r18 = (double)r53;
	r21 = 0.;
	if( r18 != r21 ) goto label$fbe494a_4_741;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 1.;
	r54 = (float)r18;
	r7->_00 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_01 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_02 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_03 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_10 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 1.;
	r54 = (float)r18;
	r7->_11 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_12 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_13 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_20 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_21 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 1.;
	r54 = (float)r18;
	r7->_22 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_23 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_30 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_31 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_32 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 1.;
	r54 = (float)r18;
	r7->_33 = r54;
	goto label$fbe494a_4_891;
	label$fbe494a_4_741:
	r18 = 1.;
	r21 = (double)r53;
	r18 = r18 / r21;
	r54 = (float)r18;
	r53 = r54;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r27 * r52;
	r55 = r28 * r51;
	r54 = r54 - r55;
	r55 = r29 * r50;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_00 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r23 * r51;
	r55 = r22 * r52;
	r54 = r54 - r55;
	r55 = r24 * r50;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_01 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r35 * r46;
	r55 = r36 * r45;
	r54 = r54 - r55;
	r55 = r38 * r44;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_02 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r32 * r45;
	r55 = r31 * r46;
	r54 = r54 - r55;
	r55 = r33 * r44;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_03 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r28 * r49;
	r55 = r26 * r52;
	r54 = r54 - r55;
	r55 = r29 * r48;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_10 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r8 * r52;
	r55 = r23 * r49;
	r54 = r54 - r55;
	r55 = r24 * r48;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_11 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r36 * r41;
	r55 = r34 * r46;
	r54 = r54 - r55;
	r55 = r38 * r40;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_12 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r30 * r46;
	r55 = r32 * r41;
	r54 = r54 - r55;
	r55 = r33 * r40;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_13 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r26 * r51;
	r55 = r27 * r49;
	r54 = r54 - r55;
	r55 = r29 * r47;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_20 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r22 * r49;
	r55 = r8 * r51;
	r54 = r54 - r55;
	r55 = r24 * r47;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_21 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r34 * r45;
	r55 = r35 * r41;
	r54 = r54 - r55;
	r55 = r38 * r39;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_22 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r31 * r41;
	r55 = r30 * r45;
	r54 = r54 - r55;
	r55 = r33 * r39;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_23 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r27 * r48;
	r55 = r26 * r50;
	r54 = r54 - r55;
	r55 = r28 * r47;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_30 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r8 * r50;
	r55 = r22 * r48;
	r54 = r54 - r55;
	r55 = r23 * r47;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_31 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r35 * r40;
	r55 = r34 * r44;
	r54 = r54 - r55;
	r55 = r36 * r39;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_32 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r30 * r44;
	r55 = r31 * r40;
	r54 = r54 - r55;
	r55 = r32 * r39;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_33 = r54;
	label$fbe494a_4_891:
	r3 = r0->V;
	r57 = r0->transform;
	if( r57 == NULL ) hl_null_access();
	r6 = r57->world;
	if( r6 == NULL ) hl_null_access();
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_00;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r22 = r7->_01;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r23 = r7->_02;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r24 = r7->_03;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r26 = r7->_10;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_11;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r28 = r7->_12;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r29 = r7->_13;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r30 = r7->_20;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r31 = r7->_21;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r32 = r7->_22;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r33 = r7->_23;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r34 = r7->_30;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_31;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r36 = r7->_32;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r38 = r7->_33;
	r39 = r8 * r27;
	r40 = r22 * r26;
	r39 = r39 - r40;
	r40 = r8 * r28;
	r41 = r23 * r26;
	r40 = r40 - r41;
	r41 = r8 * r29;
	r44 = r24 * r26;
	r41 = r41 - r44;
	r44 = r22 * r28;
	r45 = r23 * r27;
	r44 = r44 - r45;
	r45 = r22 * r29;
	r46 = r24 * r27;
	r45 = r45 - r46;
	r46 = r23 * r29;
	r47 = r24 * r28;
	r46 = r46 - r47;
	r47 = r30 * r35;
	r48 = r31 * r34;
	r47 = r47 - r48;
	r48 = r30 * r36;
	r49 = r32 * r34;
	r48 = r48 - r49;
	r49 = r30 * r38;
	r50 = r33 * r34;
	r49 = r49 - r50;
	r50 = r31 * r36;
	r51 = r32 * r35;
	r50 = r50 - r51;
	r51 = r31 * r38;
	r52 = r33 * r35;
	r51 = r51 - r52;
	r52 = r32 * r38;
	r53 = r33 * r36;
	r52 = r52 - r53;
	r53 = r39 * r52;
	r54 = r40 * r51;
	r53 = r53 - r54;
	r54 = r41 * r50;
	r53 = r53 + r54;
	r54 = r44 * r49;
	r53 = r53 + r54;
	r54 = r45 * r48;
	r53 = r53 - r54;
	r54 = r46 * r47;
	r53 = r53 + r54;
	r18 = (double)r53;
	r21 = 0.;
	if( r18 != r21 ) goto label$fbe494a_4_1076;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 1.;
	r54 = (float)r18;
	r7->_00 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_01 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_02 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_03 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_10 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 1.;
	r54 = (float)r18;
	r7->_11 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_12 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_13 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_20 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_21 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 1.;
	r54 = (float)r18;
	r7->_22 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_23 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_30 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_31 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 0.;
	r54 = (float)r18;
	r7->_32 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r18 = 1.;
	r54 = (float)r18;
	r7->_33 = r54;
	goto label$fbe494a_4_1226;
	label$fbe494a_4_1076:
	r18 = 1.;
	r21 = (double)r53;
	r18 = r18 / r21;
	r54 = (float)r18;
	r53 = r54;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r27 * r52;
	r55 = r28 * r51;
	r54 = r54 - r55;
	r55 = r29 * r50;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_00 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r23 * r51;
	r55 = r22 * r52;
	r54 = r54 - r55;
	r55 = r24 * r50;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_01 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r35 * r46;
	r55 = r36 * r45;
	r54 = r54 - r55;
	r55 = r38 * r44;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_02 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r32 * r45;
	r55 = r31 * r46;
	r54 = r54 - r55;
	r55 = r33 * r44;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_03 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r28 * r49;
	r55 = r26 * r52;
	r54 = r54 - r55;
	r55 = r29 * r48;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_10 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r8 * r52;
	r55 = r23 * r49;
	r54 = r54 - r55;
	r55 = r24 * r48;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_11 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r36 * r41;
	r55 = r34 * r46;
	r54 = r54 - r55;
	r55 = r38 * r40;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_12 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r30 * r46;
	r55 = r32 * r41;
	r54 = r54 - r55;
	r55 = r33 * r40;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_13 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r26 * r51;
	r55 = r27 * r49;
	r54 = r54 - r55;
	r55 = r29 * r47;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_20 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r22 * r49;
	r55 = r8 * r51;
	r54 = r54 - r55;
	r55 = r24 * r47;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_21 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r34 * r45;
	r55 = r35 * r41;
	r54 = r54 - r55;
	r55 = r38 * r39;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_22 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r31 * r41;
	r55 = r30 * r45;
	r54 = r54 - r55;
	r55 = r33 * r39;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_23 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r27 * r48;
	r55 = r26 * r50;
	r54 = r54 - r55;
	r55 = r28 * r47;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_30 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r8 * r50;
	r55 = r22 * r48;
	r54 = r54 - r55;
	r55 = r23 * r47;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_31 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r35 * r40;
	r55 = r34 * r44;
	r54 = r54 - r55;
	r55 = r36 * r39;
	r54 = r54 - r55;
	r54 = r54 * r53;
	r7->_32 = r54;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r54 = r30 * r44;
	r55 = r31 * r40;
	r54 = r54 - r55;
	r55 = r32 * r39;
	r54 = r54 + r55;
	r54 = r54 * r53;
	r7->_33 = r54;
	label$fbe494a_4_1226:
	r3 = r0->V;
	r59 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r58 = r59->helpVec;
	if( r58 == NULL ) hl_null_access();
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_00;
	r58->x = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_01;
	r58->y = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_02;
	r58->z = r8;
	r18 = 1.;
	r8 = (float)r18;
	r58->w = r8;
	r18 = 1.;
	r8 = r58->x;
	r22 = r58->x;
	r8 = r8 * r22;
	r22 = r58->y;
	r23 = r58->y;
	r22 = r22 * r23;
	r8 = r8 + r22;
	r22 = r58->z;
	r23 = r58->z;
	r22 = r22 * r23;
	r8 = r8 + r22;
	r21 = (double)r8;
	r21 = hl_math_sqrt(r21);
	r8 = (float)r21;
	r21 = (double)r8;
	r18 = r18 / r21;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_00;
	r21 = (double)r8;
	r21 = r21 * r18;
	r8 = (float)r21;
	r7->_00 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_01;
	r21 = (double)r8;
	r21 = r21 * r18;
	r8 = (float)r21;
	r7->_01 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_02;
	r21 = (double)r8;
	r21 = r21 * r18;
	r8 = (float)r21;
	r7->_02 = r8;
	r59 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r61 = r59->helpVec;
	if( r61 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_10;
	r61->x = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_11;
	r61->y = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_12;
	r61->z = r8;
	r21 = 1.;
	r8 = (float)r21;
	r61->w = r8;
	r21 = 1.;
	r8 = r61->x;
	r22 = r61->x;
	r8 = r8 * r22;
	r22 = r61->y;
	r23 = r61->y;
	r22 = r22 * r23;
	r8 = r8 + r22;
	r22 = r61->z;
	r23 = r61->z;
	r22 = r22 * r23;
	r8 = r8 + r22;
	r25 = (double)r8;
	r25 = hl_math_sqrt(r25);
	r8 = (float)r25;
	r25 = (double)r8;
	r21 = r21 / r25;
	r18 = r21;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_10;
	r21 = (double)r8;
	r21 = r21 * r18;
	r8 = (float)r21;
	r7->_10 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_11;
	r21 = (double)r8;
	r21 = r21 * r18;
	r8 = (float)r21;
	r7->_11 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_12;
	r21 = (double)r8;
	r21 = r21 * r18;
	r8 = (float)r21;
	r7->_12 = r8;
	r59 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r62 = r59->helpVec;
	if( r62 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_20;
	r62->x = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_21;
	r62->y = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_22;
	r62->z = r8;
	r21 = 1.;
	r8 = (float)r21;
	r62->w = r8;
	r21 = 1.;
	r8 = r62->x;
	r22 = r62->x;
	r8 = r8 * r22;
	r22 = r62->y;
	r23 = r62->y;
	r22 = r22 * r23;
	r8 = r8 + r22;
	r22 = r62->z;
	r23 = r62->z;
	r22 = r22 * r23;
	r8 = r8 + r22;
	r25 = (double)r8;
	r25 = hl_math_sqrt(r25);
	r8 = (float)r25;
	r25 = (double)r8;
	r21 = r21 / r25;
	r18 = r21;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_20;
	r21 = (double)r8;
	r21 = r21 * r18;
	r8 = (float)r21;
	r7->_20 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_21;
	r21 = (double)r8;
	r21 = r21 * r18;
	r8 = (float)r21;
	r7->_21 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_22;
	r21 = (double)r8;
	r21 = r21 * r18;
	r8 = (float)r21;
	r7->_22 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r21 = 0.;
	r8 = (float)r21;
	r7->_03 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r21 = 0.;
	r8 = (float)r21;
	r7->_13 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r21 = 0.;
	r8 = (float)r21;
	r7->_23 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r21 = 0.;
	r8 = (float)r21;
	r7->_30 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r21 = 0.;
	r8 = (float)r21;
	r7->_31 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r21 = 0.;
	r8 = (float)r21;
	r7->_32 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r21 = 1.;
	r8 = (float)r21;
	r7->_33 = r8;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->m;
	r6 = r0->V;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_00;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r22 = r7->_01;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r23 = r7->_02;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r24 = r7->_03;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r26 = r7->_10;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_11;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r28 = r7->_12;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r29 = r7->_13;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r30 = r7->_20;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r31 = r7->_21;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r32 = r7->_22;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r33 = r7->_23;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r34 = r7->_30;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_31;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r36 = r7->_32;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r38 = r7->_33;
	if( r6 == NULL ) hl_null_access();
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r39 = r7->_00;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r40 = r7->_10;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r41 = r7->_20;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r44 = r7->_30;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r8 * r39;
	r46 = r22 * r40;
	r45 = r45 + r46;
	r46 = r23 * r41;
	r45 = r45 + r46;
	r46 = r24 * r44;
	r45 = r45 + r46;
	r7->_00 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r26 * r39;
	r46 = r27 * r40;
	r45 = r45 + r46;
	r46 = r28 * r41;
	r45 = r45 + r46;
	r46 = r29 * r44;
	r45 = r45 + r46;
	r7->_10 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r30 * r39;
	r46 = r31 * r40;
	r45 = r45 + r46;
	r46 = r32 * r41;
	r45 = r45 + r46;
	r46 = r33 * r44;
	r45 = r45 + r46;
	r7->_20 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r34 * r39;
	r46 = r35 * r40;
	r45 = r45 + r46;
	r46 = r36 * r41;
	r45 = r45 + r46;
	r46 = r38 * r44;
	r45 = r45 + r46;
	r7->_30 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_01;
	r39 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_11;
	r40 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_21;
	r41 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_31;
	r44 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r8 * r39;
	r46 = r22 * r40;
	r45 = r45 + r46;
	r46 = r23 * r41;
	r45 = r45 + r46;
	r46 = r24 * r44;
	r45 = r45 + r46;
	r7->_01 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r26 * r39;
	r46 = r27 * r40;
	r45 = r45 + r46;
	r46 = r28 * r41;
	r45 = r45 + r46;
	r46 = r29 * r44;
	r45 = r45 + r46;
	r7->_11 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r30 * r39;
	r46 = r31 * r40;
	r45 = r45 + r46;
	r46 = r32 * r41;
	r45 = r45 + r46;
	r46 = r33 * r44;
	r45 = r45 + r46;
	r7->_21 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r34 * r39;
	r46 = r35 * r40;
	r45 = r45 + r46;
	r46 = r36 * r41;
	r45 = r45 + r46;
	r46 = r38 * r44;
	r45 = r45 + r46;
	r7->_31 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_02;
	r39 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_12;
	r40 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_22;
	r41 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_32;
	r44 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r8 * r39;
	r46 = r22 * r40;
	r45 = r45 + r46;
	r46 = r23 * r41;
	r45 = r45 + r46;
	r46 = r24 * r44;
	r45 = r45 + r46;
	r7->_02 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r26 * r39;
	r46 = r27 * r40;
	r45 = r45 + r46;
	r46 = r28 * r41;
	r45 = r45 + r46;
	r46 = r29 * r44;
	r45 = r45 + r46;
	r7->_12 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r30 * r39;
	r46 = r31 * r40;
	r45 = r45 + r46;
	r46 = r32 * r41;
	r45 = r45 + r46;
	r46 = r33 * r44;
	r45 = r45 + r46;
	r7->_22 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r34 * r39;
	r46 = r35 * r40;
	r45 = r45 + r46;
	r46 = r36 * r41;
	r45 = r45 + r46;
	r46 = r38 * r44;
	r45 = r45 + r46;
	r7->_32 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_03;
	r39 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_13;
	r40 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_23;
	r41 = r45;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_33;
	r44 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r8 * r39;
	r46 = r22 * r40;
	r45 = r45 + r46;
	r46 = r23 * r41;
	r45 = r45 + r46;
	r46 = r24 * r44;
	r45 = r45 + r46;
	r7->_03 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r26 * r39;
	r46 = r27 * r40;
	r45 = r45 + r46;
	r46 = r28 * r41;
	r45 = r45 + r46;
	r46 = r29 * r44;
	r45 = r45 + r46;
	r7->_13 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r30 * r39;
	r46 = r31 * r40;
	r45 = r45 + r46;
	r46 = r32 * r41;
	r45 = r45 + r46;
	r46 = r33 * r44;
	r45 = r45 + r46;
	r7->_23 = r45;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r34 * r39;
	r46 = r35 * r40;
	r45 = r45 + r46;
	r46 = r36 * r41;
	r45 = r45 + r46;
	r46 = r38 * r44;
	r45 = r45 + r46;
	r7->_33 = r45;
	iron_object_LightObject_setCorners();
	r19 = 0;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r63 = r4->corners;
	label$fbe494a_4_1728:
	if( r63 == NULL ) hl_null_access();
	r65 = r63->length;
	if( r19 >= r65 ) goto label$fbe494a_4_1853;
	r65 = r63->length;
	if( ((unsigned)r19) < ((unsigned)r65) ) goto label$fbe494a_4_1736;
	r58 = NULL;
	goto label$fbe494a_4_1739;
	label$fbe494a_4_1736:
	r67 = r63->array;
	r66 = ((vdynamic**)(r67 + 1))[r19];
	r58 = (iron__math__Vec4)r66;
	label$fbe494a_4_1739:
	++r19;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->m;
	if( r58 == NULL ) hl_null_access();
	r8 = r58->x;
	r22 = r58->y;
	r23 = r58->z;
	r24 = r58->w;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r26 = r7->_00;
	r26 = r26 * r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_10;
	r27 = r27 * r22;
	r26 = r26 + r27;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_20;
	r27 = r27 * r23;
	r26 = r26 + r27;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_30;
	r27 = r27 * r24;
	r26 = r26 + r27;
	r58->x = r26;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r26 = r7->_01;
	r26 = r26 * r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_11;
	r27 = r27 * r22;
	r26 = r26 + r27;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_21;
	r27 = r27 * r23;
	r26 = r26 + r27;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_31;
	r27 = r27 * r24;
	r26 = r26 + r27;
	r58->y = r26;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r26 = r7->_02;
	r26 = r26 * r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_12;
	r27 = r27 * r22;
	r26 = r26 + r27;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_22;
	r27 = r27 * r23;
	r26 = r26 + r27;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_32;
	r27 = r27 * r24;
	r26 = r26 + r27;
	r58->z = r26;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r26 = r7->_03;
	r26 = r26 * r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_13;
	r27 = r27 * r22;
	r26 = r26 + r27;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_23;
	r27 = r27 * r23;
	r26 = r26 + r27;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_33;
	r27 = r27 * r24;
	r26 = r26 + r27;
	r58->w = r26;
	r8 = r58->x;
	r18 = (double)r8;
	r8 = r58->w;
	r21 = (double)r8;
	r18 = r18 / r21;
	r8 = (float)r18;
	r58->x = r8;
	r8 = r58->y;
	r18 = (double)r8;
	r8 = r58->w;
	r21 = (double)r8;
	r18 = r18 / r21;
	r8 = (float)r18;
	r58->y = r8;
	r8 = r58->z;
	r18 = (double)r8;
	r8 = r58->w;
	r21 = (double)r8;
	r18 = r18 / r21;
	r8 = (float)r18;
	r58->z = r8;
	r18 = 1.;
	r8 = (float)r18;
	r58->w = r8;
	goto label$fbe494a_4_1728;
	label$fbe494a_4_1853:
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r63 = r4->corners;
	if( r63 == NULL ) hl_null_access();
	r19 = 0;
	r64 = r63->length;
	if( ((unsigned)r19) < ((unsigned)r64) ) goto label$fbe494a_4_1861;
	r58 = NULL;
	goto label$fbe494a_4_1864;
	label$fbe494a_4_1861:
	r67 = r63->array;
	r66 = ((vdynamic**)(r67 + 1))[r19];
	r58 = (iron__math__Vec4)r66;
	label$fbe494a_4_1864:
	if( r58 == NULL ) hl_null_access();
	r8 = r58->x;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r63 = r4->corners;
	if( r63 == NULL ) hl_null_access();
	r19 = 0;
	r64 = r63->length;
	if( ((unsigned)r19) < ((unsigned)r64) ) goto label$fbe494a_4_1874;
	r58 = NULL;
	goto label$fbe494a_4_1877;
	label$fbe494a_4_1874:
	r67 = r63->array;
	r66 = ((vdynamic**)(r67 + 1))[r19];
	r58 = (iron__math__Vec4)r66;
	label$fbe494a_4_1877:
	if( r58 == NULL ) hl_null_access();
	r22 = r58->y;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r63 = r4->corners;
	if( r63 == NULL ) hl_null_access();
	r19 = 0;
	r64 = r63->length;
	if( ((unsigned)r19) < ((unsigned)r64) ) goto label$fbe494a_4_1887;
	r58 = NULL;
	goto label$fbe494a_4_1890;
	label$fbe494a_4_1887:
	r67 = r63->array;
	r66 = ((vdynamic**)(r67 + 1))[r19];
	r58 = (iron__math__Vec4)r66;
	label$fbe494a_4_1890:
	if( r58 == NULL ) hl_null_access();
	r23 = r58->z;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r63 = r4->corners;
	if( r63 == NULL ) hl_null_access();
	r19 = 0;
	r64 = r63->length;
	if( ((unsigned)r19) < ((unsigned)r64) ) goto label$fbe494a_4_1900;
	r58 = NULL;
	goto label$fbe494a_4_1903;
	label$fbe494a_4_1900:
	r67 = r63->array;
	r66 = ((vdynamic**)(r67 + 1))[r19];
	r58 = (iron__math__Vec4)r66;
	label$fbe494a_4_1903:
	if( r58 == NULL ) hl_null_access();
	r24 = r58->x;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r63 = r4->corners;
	if( r63 == NULL ) hl_null_access();
	r19 = 0;
	r64 = r63->length;
	if( ((unsigned)r19) < ((unsigned)r64) ) goto label$fbe494a_4_1913;
	r58 = NULL;
	goto label$fbe494a_4_1916;
	label$fbe494a_4_1913:
	r67 = r63->array;
	r66 = ((vdynamic**)(r67 + 1))[r19];
	r58 = (iron__math__Vec4)r66;
	label$fbe494a_4_1916:
	if( r58 == NULL ) hl_null_access();
	r26 = r58->y;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r63 = r4->corners;
	if( r63 == NULL ) hl_null_access();
	r19 = 0;
	r64 = r63->length;
	if( ((unsigned)r19) < ((unsigned)r64) ) goto label$fbe494a_4_1926;
	r58 = NULL;
	goto label$fbe494a_4_1929;
	label$fbe494a_4_1926:
	r67 = r63->array;
	r66 = ((vdynamic**)(r67 + 1))[r19];
	r58 = (iron__math__Vec4)r66;
	label$fbe494a_4_1929:
	if( r58 == NULL ) hl_null_access();
	r27 = r58->z;
	r19 = 0;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r63 = r4->corners;
	label$fbe494a_4_1934:
	if( r63 == NULL ) hl_null_access();
	r65 = r63->length;
	if( r19 >= r65 ) goto label$fbe494a_4_1972;
	r65 = r63->length;
	if( ((unsigned)r19) < ((unsigned)r65) ) goto label$fbe494a_4_1942;
	r58 = NULL;
	goto label$fbe494a_4_1945;
	label$fbe494a_4_1942:
	r67 = r63->array;
	r66 = ((vdynamic**)(r67 + 1))[r19];
	r58 = (iron__math__Vec4)r66;
	label$fbe494a_4_1945:
	++r19;
	if( r58 == NULL ) hl_null_access();
	r28 = r58->x;
	if( !(r28 < r8) ) goto label$fbe494a_4_1951;
	r28 = r58->x;
	r8 = r28;
	label$fbe494a_4_1951:
	r28 = r58->x;
	if( !(r24 < r28) ) goto label$fbe494a_4_1955;
	r28 = r58->x;
	r24 = r28;
	label$fbe494a_4_1955:
	r28 = r58->y;
	if( !(r28 < r22) ) goto label$fbe494a_4_1959;
	r28 = r58->y;
	r22 = r28;
	label$fbe494a_4_1959:
	r28 = r58->y;
	if( !(r26 < r28) ) goto label$fbe494a_4_1963;
	r28 = r58->y;
	r26 = r28;
	label$fbe494a_4_1963:
	r28 = r58->z;
	if( !(r28 < r23) ) goto label$fbe494a_4_1967;
	r28 = r58->z;
	r23 = r28;
	label$fbe494a_4_1967:
	r28 = r58->z;
	if( !(r27 < r28) ) goto label$fbe494a_4_1971;
	r28 = r58->z;
	r27 = r28;
	label$fbe494a_4_1971:
	goto label$fbe494a_4_1934;
	label$fbe494a_4_1972:
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r63 = r4->corners;
	if( r63 == NULL ) hl_null_access();
	r19 = 0;
	r64 = r63->length;
	if( ((unsigned)r19) < ((unsigned)r64) ) goto label$fbe494a_4_1980;
	r58 = NULL;
	goto label$fbe494a_4_1983;
	label$fbe494a_4_1980:
	r67 = r63->array;
	r66 = ((vdynamic**)(r67 + 1))[r19];
	r58 = (iron__math__Vec4)r66;
	label$fbe494a_4_1983:
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r63 = r4->corners;
	if( r63 == NULL ) hl_null_access();
	r19 = 7;
	r64 = r63->length;
	if( ((unsigned)r19) < ((unsigned)r64) ) goto label$fbe494a_4_1991;
	r60 = NULL;
	goto label$fbe494a_4_1994;
	label$fbe494a_4_1991:
	r67 = r63->array;
	r66 = ((vdynamic**)(r67 + 1))[r19];
	r60 = (iron__math__Vec4)r66;
	label$fbe494a_4_1994:
	if( r58 == NULL ) hl_null_access();
	r28 = r58->x;
	if( r60 == NULL ) hl_null_access();
	r29 = r60->x;
	r28 = r28 - r29;
	r29 = r58->y;
	r30 = r60->y;
	r29 = r29 - r30;
	r30 = r58->z;
	r31 = r60->z;
	r30 = r30 - r31;
	r31 = r28 * r28;
	r32 = r29 * r29;
	r31 = r31 + r32;
	r32 = r30 * r30;
	r31 = r31 + r32;
	r18 = (double)r31;
	r18 = hl_math_sqrt(r18);
	r31 = (float)r18;
	r33 = r24 - r8;
	r32 = r31 - r33;
	r18 = (double)r32;
	r21 = 0.5;
	r18 = r18 * r21;
	r33 = r26 - r22;
	r32 = r31 - r33;
	r21 = (double)r32;
	r25 = 0.5;
	r21 = r21 * r25;
	r33 = (float)r18;
	r32 = r8 - r33;
	r8 = r32;
	r33 = (float)r18;
	r32 = r24 + r33;
	r24 = r32;
	r33 = (float)r21;
	r32 = r22 - r33;
	r22 = r32;
	r33 = (float)r21;
	r32 = r26 + r33;
	r26 = r32;
	r15 = r0->data;
	if( r15 == NULL ) hl_null_access();
	r14 = r15->raw;
	if( r14 == NULL ) hl_null_access();
	r68 = r14->shadowmap_size;
	r32 = r24 - r8;
	r25 = (double)r32;
	r19 = r68 ? r68->v.i : 0;
	r37 = (double)r19;
	r25 = r25 / r37;
	r32 = r26 - r22;
	r37 = (double)r32;
	r19 = r68 ? r68->v.i : 0;
	r43 = (double)r19;
	r37 = r37 / r43;
	r32 = r27 - r23;
	r43 = (double)r32;
	r19 = r68 ? r68->v.i : 0;
	r69 = (double)r19;
	r43 = r43 / r69;
	r69 = (double)r8;
	r69 = r69 / r25;
	r19 = hl_math_floor(r69);
	r69 = (double)r19;
	r69 = r69 * r25;
	r32 = (float)r69;
	r8 = r32;
	r69 = (double)r22;
	r69 = r69 / r37;
	r19 = hl_math_floor(r69);
	r69 = (double)r19;
	r69 = r69 * r37;
	r32 = (float)r69;
	r22 = r32;
	r69 = (double)r23;
	r69 = r69 / r43;
	r19 = hl_math_floor(r69);
	r69 = (double)r19;
	r69 = r69 * r43;
	r32 = (float)r69;
	r23 = r32;
	r69 = (double)r24;
	r69 = r69 / r25;
	r19 = hl_math_floor(r69);
	r69 = (double)r19;
	r69 = r69 * r25;
	r32 = (float)r69;
	r24 = r32;
	r69 = (double)r26;
	r69 = r69 / r37;
	r19 = hl_math_floor(r69);
	r69 = (double)r19;
	r69 = r69 * r37;
	r32 = (float)r69;
	r26 = r32;
	r69 = (double)r27;
	r69 = r69 / r43;
	r19 = hl_math_floor(r69);
	r69 = (double)r19;
	r69 = r69 * r43;
	r32 = (float)r69;
	r27 = r32;
	r32 = r24 - r8;
	r69 = (double)r32;
	r70 = 2.;
	r69 = r69 / r70;
	r32 = r26 - r22;
	r70 = (double)r32;
	r71 = 2.;
	r70 = r70 / r71;
	r32 = r27 - r23;
	r71 = (double)r32;
	r72 = 2.;
	r71 = r71 / r72;
	r3 = r0->V;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r72 = (double)r8;
	r72 = r72 + r69;
	r72 = -r72;
	r32 = (float)r72;
	r7->_30 = r32;
	r3 = r0->V;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r72 = (double)r22;
	r72 = r72 + r70;
	r72 = -r72;
	r32 = (float)r72;
	r7->_31 = r32;
	r3 = r0->V;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r72 = (double)r23;
	r72 = r72 + r71;
	r72 = -r72;
	r32 = (float)r72;
	r7->_32 = r32;
	r72 = -r69;
	r32 = (float)r72;
	r72 = -r70;
	r33 = (float)r72;
	r72 = -r71;
	r73 = 4.;
	r72 = r72 * r73;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r73 = r4->cascadeBounds;
	r72 = r72 * r73;
	r34 = (float)r72;
	r35 = (float)r69;
	r35 = r35 - r32;
	r36 = (float)r70;
	r36 = r36 - r33;
	r38 = (float)r71;
	r38 = r38 - r34;
	r39 = (float)r69;
	r39 = r39 + r32;
	r39 = -r39;
	r72 = (double)r39;
	r73 = (double)r35;
	r72 = r72 / r73;
	r39 = (float)r70;
	r39 = r39 + r33;
	r39 = -r39;
	r73 = (double)r39;
	r74 = (double)r36;
	r73 = r73 / r74;
	r39 = (float)r71;
	r39 = r39 + r34;
	r39 = -r39;
	r74 = (double)r39;
	r75 = (double)r38;
	r74 = r74 / r75;
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r75 = 2.;
	r76 = (double)r35;
	r75 = r75 / r76;
	r39 = (float)r75;
	r19 = 0;
	r40 = (float)r19;
	r19 = 0;
	r41 = (float)r19;
	r44 = (float)r72;
	r19 = 0;
	r45 = (float)r19;
	r75 = 2.;
	r76 = (double)r36;
	r75 = r75 / r76;
	r46 = (float)r75;
	r19 = 0;
	r47 = (float)r19;
	r48 = (float)r73;
	r19 = 0;
	r49 = (float)r19;
	r19 = 0;
	r50 = (float)r19;
	r75 = -2.;
	r76 = (double)r38;
	r75 = r75 / r76;
	r51 = (float)r75;
	r52 = (float)r74;
	r19 = 0;
	r53 = (float)r19;
	r19 = 0;
	r54 = (float)r19;
	r19 = 0;
	r55 = (float)r19;
	r19 = 1;
	r56 = (float)r19;
	iron_math_Mat4_new(r3,r39,r40,r41,r44,r45,r46,r47,r48,r49,r50,r51,r52,r53,r54,r55,r56);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r4->m = r3;
	r3 = r0->P;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r6 = r4->m;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	if( r6 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_00;
	r7->_00 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_01;
	r7->_01 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_02;
	r7->_02 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_03;
	r7->_03 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_10;
	r7->_10 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_11;
	r7->_11 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_12;
	r7->_12 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_13;
	r7->_13 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_20;
	r7->_20 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_21;
	r7->_21 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_22;
	r7->_22 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_23;
	r7->_23 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_30;
	r7->_30 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_31;
	r7->_31 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_32;
	r7->_32 = r39;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r39 = r9->_33;
	r7->_33 = r39;
	iron_object_LightObject_updateViewFrustum(r0,r1);
	return;
}

void iron_object_LightObject_updateViewFrustum(iron__object__LightObject r0,iron__object__CameraObject r1) {
	hl__types__ArrayObj r33;
	hl_type *r35;
	iron__object__FrustumPlane r37;
	bool r32;
	kha__math__FastMatrix4 r7;
	iron__data__TCameraData r30;
	iron__data__CameraData r31;
	float r6, r8, r9, r10, r11, r12, r13, r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r26, r27, r28;
	iron__math__Mat4 r2, r4, r5;
	vdynamic *r29;
	int r36;
	varray *r34;
	r2 = r0->VP;
	r4 = r0->P;
	r5 = r0->V;
	if( r5 == NULL ) hl_null_access();
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->_00;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_01;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r7->_02;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r10 = r7->_03;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r11 = r7->_10;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r12 = r7->_11;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r13 = r7->_12;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r14 = r7->_13;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r15 = r7->_20;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r16 = r7->_21;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r17 = r7->_22;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r18 = r7->_23;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r19 = r7->_30;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r20 = r7->_31;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r21 = r7->_32;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r22 = r7->_33;
	if( r4 == NULL ) hl_null_access();
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r23 = r7->_00;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r24 = r7->_10;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r25 = r7->_20;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r26 = r7->_30;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r6 * r23;
	r28 = r8 * r24;
	r27 = r27 + r28;
	r28 = r9 * r25;
	r27 = r27 + r28;
	r28 = r10 * r26;
	r27 = r27 + r28;
	r7->_00 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r11 * r23;
	r28 = r12 * r24;
	r27 = r27 + r28;
	r28 = r13 * r25;
	r27 = r27 + r28;
	r28 = r14 * r26;
	r27 = r27 + r28;
	r7->_10 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r15 * r23;
	r28 = r16 * r24;
	r27 = r27 + r28;
	r28 = r17 * r25;
	r27 = r27 + r28;
	r28 = r18 * r26;
	r27 = r27 + r28;
	r7->_20 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r19 * r23;
	r28 = r20 * r24;
	r27 = r27 + r28;
	r28 = r21 * r25;
	r27 = r27 + r28;
	r28 = r22 * r26;
	r27 = r27 + r28;
	r7->_30 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_01;
	r23 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_11;
	r24 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_21;
	r25 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_31;
	r26 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r6 * r23;
	r28 = r8 * r24;
	r27 = r27 + r28;
	r28 = r9 * r25;
	r27 = r27 + r28;
	r28 = r10 * r26;
	r27 = r27 + r28;
	r7->_01 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r11 * r23;
	r28 = r12 * r24;
	r27 = r27 + r28;
	r28 = r13 * r25;
	r27 = r27 + r28;
	r28 = r14 * r26;
	r27 = r27 + r28;
	r7->_11 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r15 * r23;
	r28 = r16 * r24;
	r27 = r27 + r28;
	r28 = r17 * r25;
	r27 = r27 + r28;
	r28 = r18 * r26;
	r27 = r27 + r28;
	r7->_21 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r19 * r23;
	r28 = r20 * r24;
	r27 = r27 + r28;
	r28 = r21 * r25;
	r27 = r27 + r28;
	r28 = r22 * r26;
	r27 = r27 + r28;
	r7->_31 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_02;
	r23 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_12;
	r24 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_22;
	r25 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_32;
	r26 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r6 * r23;
	r28 = r8 * r24;
	r27 = r27 + r28;
	r28 = r9 * r25;
	r27 = r27 + r28;
	r28 = r10 * r26;
	r27 = r27 + r28;
	r7->_02 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r11 * r23;
	r28 = r12 * r24;
	r27 = r27 + r28;
	r28 = r13 * r25;
	r27 = r27 + r28;
	r28 = r14 * r26;
	r27 = r27 + r28;
	r7->_12 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r15 * r23;
	r28 = r16 * r24;
	r27 = r27 + r28;
	r28 = r17 * r25;
	r27 = r27 + r28;
	r28 = r18 * r26;
	r27 = r27 + r28;
	r7->_22 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r19 * r23;
	r28 = r20 * r24;
	r27 = r27 + r28;
	r28 = r21 * r25;
	r27 = r27 + r28;
	r28 = r22 * r26;
	r27 = r27 + r28;
	r7->_32 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_03;
	r23 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_13;
	r24 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_23;
	r25 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_33;
	r26 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r6 * r23;
	r28 = r8 * r24;
	r27 = r27 + r28;
	r28 = r9 * r25;
	r27 = r27 + r28;
	r28 = r10 * r26;
	r27 = r27 + r28;
	r7->_03 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r11 * r23;
	r28 = r12 * r24;
	r27 = r27 + r28;
	r28 = r13 * r25;
	r27 = r27 + r28;
	r28 = r14 * r26;
	r27 = r27 + r28;
	r7->_13 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r15 * r23;
	r28 = r16 * r24;
	r27 = r27 + r28;
	r28 = r17 * r25;
	r27 = r27 + r28;
	r28 = r18 * r26;
	r27 = r27 + r28;
	r7->_23 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r19 * r23;
	r28 = r20 * r24;
	r27 = r27 + r28;
	r28 = r21 * r25;
	r27 = r27 + r28;
	r28 = r22 * r26;
	r27 = r27 + r28;
	r7->_33 = r27;
	if( r1 == NULL ) hl_null_access();
	r31 = r1->data;
	if( r31 == NULL ) hl_null_access();
	r30 = r31->raw;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->frustum_culling;
	r32 = r29 ? r29->v.b : 0;
	if( !r32 ) goto label$fbe494a_5_322;
	r33 = r0->frustumPlanes;
	if( r33 ) goto label$fbe494a_5_319;
	r35 = &$t_iron_object_FrustumPlane;
	r36 = 0;
	r34 = hl_alloc_array(r35,r36);
	r33 = hl_types_ArrayObj_alloc(r34);
	r0->frustumPlanes = r33;
	r33 = r0->frustumPlanes;
	if( r33 == NULL ) hl_null_access();
	r37 = (iron__object__FrustumPlane)hl_alloc_obj(&$t_iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r37);
	r36 = hl_types_ArrayObj_push(r33,((vdynamic*)r37));
	r33 = r0->frustumPlanes;
	if( r33 == NULL ) hl_null_access();
	r37 = (iron__object__FrustumPlane)hl_alloc_obj(&$t_iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r37);
	r36 = hl_types_ArrayObj_push(r33,((vdynamic*)r37));
	r33 = r0->frustumPlanes;
	if( r33 == NULL ) hl_null_access();
	r37 = (iron__object__FrustumPlane)hl_alloc_obj(&$t_iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r37);
	r36 = hl_types_ArrayObj_push(r33,((vdynamic*)r37));
	r33 = r0->frustumPlanes;
	if( r33 == NULL ) hl_null_access();
	r37 = (iron__object__FrustumPlane)hl_alloc_obj(&$t_iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r37);
	r36 = hl_types_ArrayObj_push(r33,((vdynamic*)r37));
	r33 = r0->frustumPlanes;
	if( r33 == NULL ) hl_null_access();
	r37 = (iron__object__FrustumPlane)hl_alloc_obj(&$t_iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r37);
	r36 = hl_types_ArrayObj_push(r33,((vdynamic*)r37));
	r33 = r0->frustumPlanes;
	if( r33 == NULL ) hl_null_access();
	r37 = (iron__object__FrustumPlane)hl_alloc_obj(&$t_iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r37);
	r36 = hl_types_ArrayObj_push(r33,((vdynamic*)r37));
	label$fbe494a_5_319:
	r2 = r0->VP;
	r33 = r0->frustumPlanes;
	iron_object_CameraObject_buildViewFrustum(r2,r33);
	label$fbe494a_5_322:
	return;
}

void iron_object_LightObject_setCubeFace(iron__object__LightObject r0,int r1,iron__object__CameraObject r2) {
	bool *r13;
	bool r11, r12;
	kha__math__FastMatrix4 r7;
	iron__math__Vec4 r3;
	iron__object__Transform r9;
	iron__math__Mat4 r8;
	float r6;
	double r10;
	iron__object__$LightObject r4;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->eye;
	if( r3 == NULL ) hl_null_access();
	r9 = r0->transform;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->world;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->self;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->_30;
	r3->x = r6;
	r9 = r0->transform;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->world;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->self;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->_31;
	r3->y = r6;
	r9 = r0->transform;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->world;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->self;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->_32;
	r3->z = r6;
	r10 = 1.;
	r6 = (float)r10;
	r3->w = r6;
	r11 = false;
	r8 = r0->V;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->eye;
	r12 = r11;
	r13 = &r12;
	iron_object_CameraObject_setCubeFace(r8,r3,r1,r13);
	iron_object_LightObject_updateViewFrustum(r0,r2);
	return;
}

void iron_object_LightObject_new(iron__object__LightObject r0,iron__data__LightData r1) {
	String r22, r25;
	iron__data__TLightData r23;
	hl__types__ArrayObj r2;
	hl_type *r28;
	iron__$Scene r42;
	iron__Scene r41;
	iron__math__Vec4 r30;
	float r5, r6, r7, r8, r9, r10, r11, r12, r13, r14, r15, r16, r17, r18, r19, r20, r39, r40;
	iron__math__Mat4 r3;
	double r4, r36, r37, r38;
	vdynamic *r24, *r35;
	float *r31, *r32, *r33, *r34;
	int r29;
	varray *r27;
	iron__object__$LightObject r26;
	r2 = NULL;
	r0->frustumPlanes = r2;
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r4 = 1.;
	r5 = (float)r4;
	r4 = 0.;
	r6 = (float)r4;
	r4 = 0.;
	r7 = (float)r4;
	r4 = 0.;
	r8 = (float)r4;
	r4 = 0.;
	r9 = (float)r4;
	r4 = 1.;
	r10 = (float)r4;
	r4 = 0.;
	r11 = (float)r4;
	r4 = 0.;
	r12 = (float)r4;
	r4 = 0.;
	r13 = (float)r4;
	r4 = 0.;
	r14 = (float)r4;
	r4 = 1.;
	r15 = (float)r4;
	r4 = 0.;
	r16 = (float)r4;
	r4 = 0.;
	r17 = (float)r4;
	r4 = 0.;
	r18 = (float)r4;
	r4 = 0.;
	r19 = (float)r4;
	r4 = 1.;
	r20 = (float)r4;
	iron_math_Mat4_new(r3,r5,r6,r7,r8,r9,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20);
	r0->VP = r3;
	r3 = NULL;
	r0->P = r3;
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r4 = 1.;
	r5 = (float)r4;
	r4 = 0.;
	r6 = (float)r4;
	r4 = 0.;
	r7 = (float)r4;
	r4 = 0.;
	r8 = (float)r4;
	r4 = 0.;
	r9 = (float)r4;
	r4 = 1.;
	r10 = (float)r4;
	r4 = 0.;
	r11 = (float)r4;
	r4 = 0.;
	r12 = (float)r4;
	r4 = 0.;
	r13 = (float)r4;
	r4 = 0.;
	r14 = (float)r4;
	r4 = 1.;
	r15 = (float)r4;
	r4 = 0.;
	r16 = (float)r4;
	r4 = 0.;
	r17 = (float)r4;
	r4 = 0.;
	r18 = (float)r4;
	r4 = 0.;
	r19 = (float)r4;
	r4 = 1.;
	r20 = (float)r4;
	iron_math_Mat4_new(r3,r5,r6,r7,r8,r9,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20);
	r0->V = r3;
	r3 = NULL;
	r0->camSlicedP = r3;
	iron_object_Object_new(((iron__object__Object)r0));
	r0->data = r1;
	if( r1 == NULL ) hl_null_access();
	r23 = r1->raw;
	if( r23 == NULL ) hl_null_access();
	r22 = r23->type;
	r23 = r1->raw;
	if( r23 == NULL ) hl_null_access();
	r24 = r23->fov;
	r25 = (String)$s_sun;
	if( r22 != r25 && (!r22 || !r25 || String___compare(r22,(vdynamic*)r25) != 0) ) goto label$fbe494a_7_212;
	r26 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r26->corners;
	if( r2 ) goto label$fbe494a_7_176;
	r28 = &$t_iron_math_Vec4;
	r29 = 0;
	r27 = hl_alloc_array(r28,r29);
	r2 = hl_types_ArrayObj_alloc(r27);
	r26 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r26->corners = r2;
	r26 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r26->corners;
	if( r2 == NULL ) hl_null_access();
	r30 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r31 = NULL;
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	iron_math_Vec4_new(r30,r31,r32,r33,r34);
	r29 = hl_types_ArrayObj_push(r2,((vdynamic*)r30));
	r26 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r26->corners;
	if( r2 == NULL ) hl_null_access();
	r30 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r31 = NULL;
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	iron_math_Vec4_new(r30,r31,r32,r33,r34);
	r29 = hl_types_ArrayObj_push(r2,((vdynamic*)r30));
	r26 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r26->corners;
	if( r2 == NULL ) hl_null_access();
	r30 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r31 = NULL;
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	iron_math_Vec4_new(r30,r31,r32,r33,r34);
	r29 = hl_types_ArrayObj_push(r2,((vdynamic*)r30));
	r26 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r26->corners;
	if( r2 == NULL ) hl_null_access();
	r30 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r31 = NULL;
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	iron_math_Vec4_new(r30,r31,r32,r33,r34);
	r29 = hl_types_ArrayObj_push(r2,((vdynamic*)r30));
	r26 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r26->corners;
	if( r2 == NULL ) hl_null_access();
	r30 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r31 = NULL;
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	iron_math_Vec4_new(r30,r31,r32,r33,r34);
	r29 = hl_types_ArrayObj_push(r2,((vdynamic*)r30));
	r26 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r26->corners;
	if( r2 == NULL ) hl_null_access();
	r30 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r31 = NULL;
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	iron_math_Vec4_new(r30,r31,r32,r33,r34);
	r29 = hl_types_ArrayObj_push(r2,((vdynamic*)r30));
	r26 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r26->corners;
	if( r2 == NULL ) hl_null_access();
	r30 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r31 = NULL;
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	iron_math_Vec4_new(r30,r31,r32,r33,r34);
	r29 = hl_types_ArrayObj_push(r2,((vdynamic*)r30));
	r26 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r26->corners;
	if( r2 == NULL ) hl_null_access();
	r30 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r31 = NULL;
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	iron_math_Vec4_new(r30,r31,r32,r33,r34);
	r29 = hl_types_ArrayObj_push(r2,((vdynamic*)r30));
	label$fbe494a_7_176:
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r4 = 1.;
	r5 = (float)r4;
	r4 = 0.;
	r6 = (float)r4;
	r4 = 0.;
	r7 = (float)r4;
	r4 = 0.;
	r8 = (float)r4;
	r4 = 0.;
	r9 = (float)r4;
	r4 = 1.;
	r10 = (float)r4;
	r4 = 0.;
	r11 = (float)r4;
	r4 = 0.;
	r12 = (float)r4;
	r4 = 0.;
	r13 = (float)r4;
	r4 = 0.;
	r14 = (float)r4;
	r4 = 1.;
	r15 = (float)r4;
	r4 = 0.;
	r16 = (float)r4;
	r4 = 0.;
	r17 = (float)r4;
	r4 = 0.;
	r18 = (float)r4;
	r4 = 0.;
	r19 = (float)r4;
	r4 = 1.;
	r20 = (float)r4;
	iron_math_Mat4_new(r3,r5,r6,r7,r8,r9,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20);
	r0->P = r3;
	goto label$fbe494a_7_341;
	label$fbe494a_7_212:
	r25 = (String)$s_point;
	if( r22 == r25 || (r22 && r25 && String___compare(r22,(vdynamic*)r25) == 0) ) goto label$fbe494a_7_216;
	r25 = (String)$s_area;
	if( r22 != r25 && (!r22 || !r25 || String___compare(r22,(vdynamic*)r25) != 0) ) goto label$fbe494a_7_278;
	label$fbe494a_7_216:
	r23 = r1->raw;
	if( r23 == NULL ) hl_null_access();
	r35 = r23->near_plane;
	r5 = r35 ? r35->v.f : 0;
	r23 = r1->raw;
	if( r23 == NULL ) hl_null_access();
	r35 = r23->far_plane;
	r6 = r35 ? r35->v.f : 0;
	r4 = 1.;
	r7 = r24 ? r24->v.f : 0;
	r36 = (double)r7;
	r37 = 2.;
	r36 = r36 / r37;
	r36 = hl_math_tan(r36);
	r4 = r4 / r36;
	r37 = 1.;
	r36 = r4 / r37;
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r7 = (float)r36;
	r29 = 0;
	r8 = (float)r29;
	r29 = 0;
	r9 = (float)r29;
	r29 = 0;
	r10 = (float)r29;
	r29 = 0;
	r11 = (float)r29;
	r12 = (float)r4;
	r29 = 0;
	r13 = (float)r29;
	r29 = 0;
	r14 = (float)r29;
	r29 = 0;
	r15 = (float)r29;
	r29 = 0;
	r16 = (float)r29;
	r17 = r6 + r5;
	r37 = (double)r17;
	r17 = r5 - r6;
	r38 = (double)r17;
	r37 = r37 / r38;
	r17 = (float)r37;
	r29 = 2;
	r18 = (float)r29;
	r18 = r18 * r6;
	r18 = r18 * r5;
	r37 = (double)r18;
	r18 = r5 - r6;
	r38 = (double)r18;
	r37 = r37 / r38;
	r18 = (float)r37;
	r29 = 0;
	r19 = (float)r29;
	r29 = 0;
	r20 = (float)r29;
	r29 = -1;
	r39 = (float)r29;
	r29 = 0;
	r40 = (float)r29;
	iron_math_Mat4_new(r3,r7,r8,r9,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20,r39,r40);
	r0->P = r3;
	goto label$fbe494a_7_341;
	label$fbe494a_7_278:
	r25 = (String)$s_spot;
	if( r22 != r25 && (!r22 || !r25 || String___compare(r22,(vdynamic*)r25) != 0) ) goto label$fbe494a_7_341;
	r23 = r1->raw;
	if( r23 == NULL ) hl_null_access();
	r35 = r23->near_plane;
	r5 = r35 ? r35->v.f : 0;
	r23 = r1->raw;
	if( r23 == NULL ) hl_null_access();
	r35 = r23->far_plane;
	r6 = r35 ? r35->v.f : 0;
	r4 = 1.;
	r7 = r24 ? r24->v.f : 0;
	r36 = (double)r7;
	r37 = 2.;
	r36 = r36 / r37;
	r36 = hl_math_tan(r36);
	r4 = r4 / r36;
	r37 = 1.;
	r36 = r4 / r37;
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r7 = (float)r36;
	r29 = 0;
	r8 = (float)r29;
	r29 = 0;
	r9 = (float)r29;
	r29 = 0;
	r10 = (float)r29;
	r29 = 0;
	r11 = (float)r29;
	r12 = (float)r4;
	r29 = 0;
	r13 = (float)r29;
	r29 = 0;
	r14 = (float)r29;
	r29 = 0;
	r15 = (float)r29;
	r29 = 0;
	r16 = (float)r29;
	r17 = r6 + r5;
	r37 = (double)r17;
	r17 = r5 - r6;
	r38 = (double)r17;
	r37 = r37 / r38;
	r17 = (float)r37;
	r29 = 2;
	r18 = (float)r29;
	r18 = r18 * r6;
	r18 = r18 * r5;
	r37 = (double)r18;
	r18 = r5 - r6;
	r38 = (double)r18;
	r37 = r37 / r38;
	r18 = (float)r37;
	r29 = 0;
	r19 = (float)r29;
	r29 = 0;
	r20 = (float)r29;
	r29 = -1;
	r39 = (float)r29;
	r29 = 0;
	r40 = (float)r29;
	iron_math_Mat4_new(r3,r7,r8,r9,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20,r39,r40);
	r0->P = r3;
	label$fbe494a_7_341:
	r42 = (iron__$Scene)$g__iron_Scene;
	r41 = r42->active;
	if( r41 == NULL ) hl_null_access();
	r2 = r41->lights;
	if( r2 == NULL ) hl_null_access();
	r29 = hl_types_ArrayObj_push(r2,((vdynamic*)r0));
	return;
}

