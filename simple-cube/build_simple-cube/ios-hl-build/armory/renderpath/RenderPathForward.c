// Generated by HLC 4.0.0 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <armory/renderpath/RenderPathForward.h>
#include <hl/types/ArrayObj.h>
extern armory__renderpath__$RenderPathForward $g_9924ae4;
extern String $s_lbuffer0;
void iron_RenderPath_setTarget(iron__RenderPath,String,hl__types__ArrayObj,double*);
extern String $s_mesh;
void iron_RenderPath_drawMeshes(iron__RenderPath,String);
#include <iron/RenderTargetRaw.h>
#include <armory/renderpath/Inc.h>
#include <iron/RenderTarget.h>
extern String $s_main;
extern String $s_DEPTH24;
void iron_RenderPath_createDepthBuffer(iron__RenderPath,String,String);
extern hl_type $t_iron_RenderTargetRaw;
void iron_RenderTargetRaw_new(iron__RenderTargetRaw);
extern String $s_RGBA32;
extern hl_type $t_i32;
extern armory__renderpath__$Inc $g__armory_renderpath_Inc;
extern hl_type $t_f64;
iron__RenderTarget iron_RenderPath_createRenderTarget(iron__RenderPath,iron__RenderTargetRaw);
extern String $s_shader_datas_copy_pass_copy_pass;
void iron_RenderPath_loadShader(iron__RenderPath,String);
#include <armory/renderpath/RenderPathCreator.h>
void armory_renderpath_Inc_drawShadowMap(void);
extern armory__renderpath__$RenderPathCreator $g_b7ec311;
void iron_RenderPath_clearTarget(iron__RenderPath,vdynamic*,vdynamic*);
void armory_renderpath_Inc_bindShadowMap(void);
extern String $s_;
extern String $s_tex;
void iron_RenderPath_bindTarget(iron__RenderPath,String,String);
void iron_RenderPath_drawShader(iron__RenderPath,String);

void armory_renderpath_RenderPathForward_setTargetMeshes() {
	String r3;
	hl__types__ArrayObj r4;
	armory__renderpath__$RenderPathForward r2;
	double *r5;
	iron__RenderPath r1;
	r2 = (armory__renderpath__$RenderPathForward)$g_9924ae4;
	r1 = r2->path;
	if( r1 == NULL ) hl_null_access();
	r3 = (String)$s_lbuffer0;
	r4 = NULL;
	r5 = NULL;
	iron_RenderPath_setTarget(r1,r3,r4,r5);
	return;
}

void armory_renderpath_RenderPathForward_drawMeshes() {
	String r3;
	armory__renderpath__$RenderPathForward r2;
	iron__RenderPath r1;
	r2 = (armory__renderpath__$RenderPathForward)$g_9924ae4;
	r1 = r2->path;
	if( r1 == NULL ) hl_null_access();
	r3 = (String)$s_mesh;
	iron_RenderPath_drawMeshes(r1,r3);
	return;
}

void armory_renderpath_RenderPathForward_init(iron__RenderPath r0) {
	String r4, r5;
	iron__RenderTargetRaw r6;
	armory__renderpath__$RenderPathForward r2;
	iron__RenderTarget r12;
	double r9;
	vdynamic *r8, *r11;
	armory__renderpath__$Inc r10;
	int r7;
	iron__RenderPath r1;
	r2 = (armory__renderpath__$RenderPathForward)$g_9924ae4;
	r2->path = r0;
	r2 = (armory__renderpath__$RenderPathForward)$g_9924ae4;
	r1 = r2->path;
	if( r1 == NULL ) hl_null_access();
	r4 = (String)$s_main;
	r5 = (String)$s_DEPTH24;
	iron_RenderPath_createDepthBuffer(r1,r4,r5);
	r6 = (iron__RenderTargetRaw)hl_alloc_obj(&$t_iron_RenderTargetRaw);
	iron_RenderTargetRaw_new(r6);
	r4 = (String)$s_lbuffer0;
	r6->name = r4;
	r7 = 0;
	r6->width = r7;
	r7 = 0;
	r6->height = r7;
	r4 = (String)$s_RGBA32;
	r6->format = r4;
	r7 = 720;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	r6->displayp = r8;
	r10 = (armory__renderpath__$Inc)$g__armory_renderpath_Inc;
	r9 = r10->superSample;
	r11 = hl_alloc_dynamic(&$t_f64);
	r11->v.d = r9;
	r6->scale = r11;
	r4 = (String)$s_main;
	r6->depth_buffer = r4;
	r2 = (armory__renderpath__$RenderPathForward)$g_9924ae4;
	r1 = r2->path;
	if( r1 == NULL ) hl_null_access();
	r12 = iron_RenderPath_createRenderTarget(r1,r6);
	r2 = (armory__renderpath__$RenderPathForward)$g_9924ae4;
	r1 = r2->path;
	if( r1 == NULL ) hl_null_access();
	r4 = (String)$s_shader_datas_copy_pass_copy_pass;
	iron_RenderPath_loadShader(r1,r4);
	return;
}

void armory_renderpath_RenderPathForward_commands() {
	String r9, r11, r14;
	hl__types__ArrayObj r12;
	armory__renderpath__$RenderPathCreator r2;
	armory__renderpath__$RenderPathForward r4;
	iron__RenderTarget r10;
	double r7;
	vclosure *r1;
	double *r13;
	vdynamic *r6, *r8;
	int r5;
	iron__RenderPath r3;
	armory_renderpath_Inc_drawShadowMap();
	r2 = (armory__renderpath__$RenderPathCreator)$g_b7ec311;
	r1 = r2->setTargetMeshes;
	if( r1 == NULL ) hl_null_access();
	r1->hasValue ? ((void (*)(vdynamic*))r1->fun)((vdynamic*)r1->value) : ((void (*)(void))r1->fun)();
	r4 = (armory__renderpath__$RenderPathForward)$g_9924ae4;
	r3 = r4->path;
	if( r3 == NULL ) hl_null_access();
	r5 = -1;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r5;
	r7 = 1.;
	r8 = hl_alloc_dynamic(&$t_f64);
	r8->v.d = r7;
	iron_RenderPath_clearTarget(r3,r6,r8);
	armory_renderpath_Inc_bindShadowMap();
	r2 = (armory__renderpath__$RenderPathCreator)$g_b7ec311;
	r1 = r2->drawMeshes;
	if( r1 == NULL ) hl_null_access();
	r1->hasValue ? ((void (*)(vdynamic*))r1->fun)((vdynamic*)r1->value) : ((void (*)(void))r1->fun)();
	r9 = (String)$s_;
	r4 = (armory__renderpath__$RenderPathForward)$g_9924ae4;
	r3 = r4->path;
	if( r3 == NULL ) hl_null_access();
	r10 = r3->currentTarget;
	r2 = (armory__renderpath__$RenderPathCreator)$g_b7ec311;
	r2->finalTarget = r10;
	r4 = (armory__renderpath__$RenderPathForward)$g_9924ae4;
	r3 = r4->path;
	if( r3 == NULL ) hl_null_access();
	r12 = NULL;
	r13 = NULL;
	iron_RenderPath_setTarget(r3,r9,r12,r13);
	r4 = (armory__renderpath__$RenderPathForward)$g_9924ae4;
	r3 = r4->path;
	if( r3 == NULL ) hl_null_access();
	r11 = (String)$s_lbuffer0;
	r14 = (String)$s_tex;
	iron_RenderPath_bindTarget(r3,r11,r14);
	r4 = (armory__renderpath__$RenderPathForward)$g_9924ae4;
	r3 = r4->path;
	if( r3 == NULL ) hl_null_access();
	r11 = (String)$s_shader_datas_copy_pass_copy_pass;
	iron_RenderPath_drawShader(r3,r11);
	return;
}

