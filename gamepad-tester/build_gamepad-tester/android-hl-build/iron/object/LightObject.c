// Generated by HLC 4.0.0 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <iron/object/LightObject.h>
#include <iron/Scene.h>
extern iron__$Scene $g__iron_Scene;
bool hl_types_ArrayObj_remove(hl__types__ArrayObj,vdynamic*);
void iron_object_Object_remove(iron__object__Object);
extern iron__object__$LightObject $g__iron_object_LightObject;
#include <iron/object/CameraObject.h>
#include <iron/data/TLightData.h>
#include <kha/math/FastMatrix4.h>
void iron_object_Transform_buildMatrix(iron__object__Transform);
extern String $s_sun;
int String___compare(String,vdynamic*);
void iron_object_LightObject_updateViewFrustum(iron__object__LightObject,iron__object__CameraObject);
#include <iron/data/TCameraData.h>
#include <iron/data/CameraData.h>
#include <iron/math/Mat4.h>
extern hl_type $t_iron_math_Mat4;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
hl__types__ArrayBytes_Single hl_types_ArrayBase_allocF32(vbyte*,int);
int kha_System_windowWidth(int*);
int kha_System_windowHeight(int*);
extern hl_type $t_f32;
int hl_types_ArrayBytes_Single_push(hl__types__ArrayBytes_Single,float);
void iron_math_Mat4_new(iron__math__Mat4,float,float,float,float,float,float,float,float,float,float,float,float,float,float,float,float);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
extern iron__math__$Mat4 $g__iron_math_Mat4;
extern hl_type $t_i32;
#include <iron/object/FrustumPlane.h>
extern hl_type $t_iron_object_FrustumPlane;
void iron_object_FrustumPlane_new(iron__object__FrustumPlane);
void iron_object_CameraObject_buildViewFrustum(iron__math__Mat4,hl__types__ArrayObj);
void iron_object_CameraObject_setCubeFace(iron__math__Mat4,iron__math__Vec4,int,bool*);
#include <iron/object/Uniforms.h>
extern hl_type $t_kha_arrays_Float32ArrayPrivate;
void kha_arrays_Float32ArrayPrivate_new(kha__arrays__Float32ArrayPrivate);
extern iron__object__$Uniforms $g__iron_object_Uniforms;
void iron_object_Object_new(iron__object__Object);
extern hl_type $t_iron_math_Vec4;
void iron_math_Vec4_new(iron__math__Vec4,float*,float*,float*,float*);
extern String $s_point;
extern String $s_area;
extern String $s_spot;

void iron_object_LightObject_remove(iron__object__LightObject r0) {
	hl__types__ArrayObj r5;
	bool r4;
	iron__$Scene r3;
	iron__Scene r2;
	r3 = (iron__$Scene)$g__iron_Scene;
	r2 = r3->active;
	if( !r2 ) goto label$fbe494a_1_9;
	r3 = (iron__$Scene)$g__iron_Scene;
	r2 = r3->active;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->lights;
	if( r5 == NULL ) hl_null_access();
	r4 = hl_types_ArrayObj_remove(r5,((vdynamic*)r0));
	label$fbe494a_1_9:
	iron_object_Object_remove(((iron__object__Object)r0));
	return;
}

void iron_object_LightObject_setCorners() {
	hl__types__ArrayObj r0;
	iron__math__Vec4 r4;
	float r9;
	double r8;
	vdynamic *r5;
	varray *r6;
	int r2, r3;
	iron__object__$LightObject r1;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 0;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_8;
	r4 = NULL;
	goto label$fbe494a_2_11;
	label$fbe494a_2_8:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_11:
	if( r4 == NULL ) hl_null_access();
	r8 = -1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 1;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_32;
	r4 = NULL;
	goto label$fbe494a_2_35;
	label$fbe494a_2_32:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_35:
	if( r4 == NULL ) hl_null_access();
	r8 = -1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 2;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_56;
	r4 = NULL;
	goto label$fbe494a_2_59;
	label$fbe494a_2_56:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_59:
	if( r4 == NULL ) hl_null_access();
	r8 = -1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 3;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_80;
	r4 = NULL;
	goto label$fbe494a_2_83;
	label$fbe494a_2_80:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_83:
	if( r4 == NULL ) hl_null_access();
	r8 = -1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 4;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_104;
	r4 = NULL;
	goto label$fbe494a_2_107;
	label$fbe494a_2_104:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_107:
	if( r4 == NULL ) hl_null_access();
	r8 = 1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 5;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_128;
	r4 = NULL;
	goto label$fbe494a_2_131;
	label$fbe494a_2_128:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_131:
	if( r4 == NULL ) hl_null_access();
	r8 = 1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 6;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_152;
	r4 = NULL;
	goto label$fbe494a_2_155;
	label$fbe494a_2_152:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_155:
	if( r4 == NULL ) hl_null_access();
	r8 = 1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	r1 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r0 = r1->corners;
	if( r0 == NULL ) hl_null_access();
	r2 = 7;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$fbe494a_2_176;
	r4 = NULL;
	goto label$fbe494a_2_179;
	label$fbe494a_2_176:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (iron__math__Vec4)r5;
	label$fbe494a_2_179:
	if( r4 == NULL ) hl_null_access();
	r8 = 1.;
	r9 = (float)r8;
	r4->x = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->y = r9;
	r8 = -1.;
	r9 = (float)r8;
	r4->z = r9;
	r8 = 1.;
	r9 = (float)r8;
	r4->w = r9;
	return;
}

void iron_object_LightObject_buildMatrix(iron__object__LightObject r0,iron__object__CameraObject r1) {
	String r4, r7;
	iron__data__TLightData r5;
	kha__math__FastMatrix4 r11;
	iron__data__LightData r6;
	iron__object__Transform r3;
	float r10, r12, r13, r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r26, r27, r28, r29, r30, r31, r32, r33, r34, r35, r36, r37, r38, r39, r40, r41;
	iron__math__Mat4 r8, r9;
	double r42, r43;
	r3 = r0->transform;
	if( r3 == NULL ) hl_null_access();
	iron_object_Transform_buildMatrix(r3);
	r6 = r0->data;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->raw;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->type;
	r7 = (String)$s_sun;
	if( r4 == r7 || (r4 && r7 && String___compare(r4,(vdynamic*)r7) == 0) ) goto label$fbe494a_3_346;
	r8 = r0->V;
	r3 = r0->transform;
	if( r3 == NULL ) hl_null_access();
	r9 = r3->world;
	if( r9 == NULL ) hl_null_access();
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->_00;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r12 = r11->_01;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r13 = r11->_02;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r14 = r11->_03;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->_10;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r16 = r11->_11;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r17 = r11->_12;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r18 = r11->_13;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r19 = r11->_20;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r20 = r11->_21;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r21 = r11->_22;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r22 = r11->_23;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r23 = r11->_30;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r24 = r11->_31;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r25 = r11->_32;
	r11 = r9->self;
	if( r11 == NULL ) hl_null_access();
	r26 = r11->_33;
	r27 = r10 * r16;
	r28 = r12 * r15;
	r27 = r27 - r28;
	r28 = r10 * r17;
	r29 = r13 * r15;
	r28 = r28 - r29;
	r29 = r10 * r18;
	r30 = r14 * r15;
	r29 = r29 - r30;
	r30 = r12 * r17;
	r31 = r13 * r16;
	r30 = r30 - r31;
	r31 = r12 * r18;
	r32 = r14 * r16;
	r31 = r31 - r32;
	r32 = r13 * r18;
	r33 = r14 * r17;
	r32 = r32 - r33;
	r33 = r19 * r24;
	r34 = r20 * r23;
	r33 = r33 - r34;
	r34 = r19 * r25;
	r35 = r21 * r23;
	r34 = r34 - r35;
	r35 = r19 * r26;
	r36 = r22 * r23;
	r35 = r35 - r36;
	r36 = r20 * r25;
	r37 = r21 * r24;
	r36 = r36 - r37;
	r37 = r20 * r26;
	r38 = r22 * r24;
	r37 = r37 - r38;
	r38 = r21 * r26;
	r39 = r22 * r25;
	r38 = r38 - r39;
	r39 = r27 * r38;
	r40 = r28 * r37;
	r39 = r39 - r40;
	r40 = r29 * r36;
	r39 = r39 + r40;
	r40 = r30 * r35;
	r39 = r39 + r40;
	r40 = r31 * r34;
	r39 = r39 - r40;
	r40 = r32 * r33;
	r39 = r39 + r40;
	r42 = (double)r39;
	r43 = 0.;
	if( r42 != r43 ) goto label$fbe494a_3_195;
	if( r8 == NULL ) hl_null_access();
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 1.;
	r40 = (float)r42;
	r11->_00 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 0.;
	r40 = (float)r42;
	r11->_01 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 0.;
	r40 = (float)r42;
	r11->_02 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 0.;
	r40 = (float)r42;
	r11->_03 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 0.;
	r40 = (float)r42;
	r11->_10 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 1.;
	r40 = (float)r42;
	r11->_11 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 0.;
	r40 = (float)r42;
	r11->_12 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 0.;
	r40 = (float)r42;
	r11->_13 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 0.;
	r40 = (float)r42;
	r11->_20 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 0.;
	r40 = (float)r42;
	r11->_21 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 1.;
	r40 = (float)r42;
	r11->_22 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 0.;
	r40 = (float)r42;
	r11->_23 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 0.;
	r40 = (float)r42;
	r11->_30 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 0.;
	r40 = (float)r42;
	r11->_31 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 0.;
	r40 = (float)r42;
	r11->_32 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r42 = 1.;
	r40 = (float)r42;
	r11->_33 = r40;
	goto label$fbe494a_3_345;
	label$fbe494a_3_195:
	r42 = 1.;
	r43 = (double)r39;
	r42 = r42 / r43;
	r40 = (float)r42;
	r39 = r40;
	if( r8 == NULL ) hl_null_access();
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r16 * r38;
	r41 = r17 * r37;
	r40 = r40 - r41;
	r41 = r18 * r36;
	r40 = r40 + r41;
	r40 = r40 * r39;
	r11->_00 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r13 * r37;
	r41 = r12 * r38;
	r40 = r40 - r41;
	r41 = r14 * r36;
	r40 = r40 - r41;
	r40 = r40 * r39;
	r11->_01 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r24 * r32;
	r41 = r25 * r31;
	r40 = r40 - r41;
	r41 = r26 * r30;
	r40 = r40 + r41;
	r40 = r40 * r39;
	r11->_02 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r21 * r31;
	r41 = r20 * r32;
	r40 = r40 - r41;
	r41 = r22 * r30;
	r40 = r40 - r41;
	r40 = r40 * r39;
	r11->_03 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r17 * r35;
	r41 = r15 * r38;
	r40 = r40 - r41;
	r41 = r18 * r34;
	r40 = r40 - r41;
	r40 = r40 * r39;
	r11->_10 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r10 * r38;
	r41 = r13 * r35;
	r40 = r40 - r41;
	r41 = r14 * r34;
	r40 = r40 + r41;
	r40 = r40 * r39;
	r11->_11 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r25 * r29;
	r41 = r23 * r32;
	r40 = r40 - r41;
	r41 = r26 * r28;
	r40 = r40 - r41;
	r40 = r40 * r39;
	r11->_12 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r19 * r32;
	r41 = r21 * r29;
	r40 = r40 - r41;
	r41 = r22 * r28;
	r40 = r40 + r41;
	r40 = r40 * r39;
	r11->_13 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r15 * r37;
	r41 = r16 * r35;
	r40 = r40 - r41;
	r41 = r18 * r33;
	r40 = r40 + r41;
	r40 = r40 * r39;
	r11->_20 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r12 * r35;
	r41 = r10 * r37;
	r40 = r40 - r41;
	r41 = r14 * r33;
	r40 = r40 - r41;
	r40 = r40 * r39;
	r11->_21 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r23 * r31;
	r41 = r24 * r29;
	r40 = r40 - r41;
	r41 = r26 * r27;
	r40 = r40 + r41;
	r40 = r40 * r39;
	r11->_22 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r20 * r29;
	r41 = r19 * r31;
	r40 = r40 - r41;
	r41 = r22 * r27;
	r40 = r40 - r41;
	r40 = r40 * r39;
	r11->_23 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r16 * r34;
	r41 = r15 * r36;
	r40 = r40 - r41;
	r41 = r17 * r33;
	r40 = r40 - r41;
	r40 = r40 * r39;
	r11->_30 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r10 * r36;
	r41 = r12 * r34;
	r40 = r40 - r41;
	r41 = r13 * r33;
	r40 = r40 + r41;
	r40 = r40 * r39;
	r11->_31 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r24 * r28;
	r41 = r23 * r30;
	r40 = r40 - r41;
	r41 = r25 * r27;
	r40 = r40 - r41;
	r40 = r40 * r39;
	r11->_32 = r40;
	r11 = r8->self;
	if( r11 == NULL ) hl_null_access();
	r40 = r19 * r30;
	r41 = r20 * r28;
	r40 = r40 - r41;
	r41 = r21 * r27;
	r40 = r40 + r41;
	r40 = r40 * r39;
	r11->_33 = r40;
	label$fbe494a_3_345:
	iron_object_LightObject_updateViewFrustum(r0,r1);
	label$fbe494a_3_346:
	return;
}

void iron_object_LightObject_setCascade(iron__object__LightObject r0,iron__object__CameraObject r1,int r2) {
	iron__data__TLightData r49;
	hl__types__ArrayObj r10;
	hl_type *r12;
	kha__math__FastMatrix4 r7, r9;
	iron__math__Vec4 r66, r68, r69, r70;
	iron__data__LightData r50;
	iron__data__TCameraData r17;
	hl__types__ArrayBytes_Single r14;
	iron__object__Transform r65;
	iron__data__CameraData r18;
	iron__math__$Mat4 r67;
	kha__arrays__Float32ArrayPrivate r16;
	float r8, r23, r24, r29, r32, r35, r36, r37, r38, r39, r40, r41, r42, r43, r44, r45, r46, r47, r48, r51, r52, r53, r54, r55, r56, r58, r59, r60, r61, r62, r63, r64;
	iron__math__Mat4 r3, r6;
	double r20, r22, r28, r30, r31, r33, r34, r73, r74, r75, r76, r77, r78;
	int *r21;
	vdynamic *r19, *r57, *r71, *r72;
	vbyte *r15;
	int r13, r25, r26, r27;
	varray *r11;
	iron__object__$LightObject r4;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->m;
	if( r1 == NULL ) hl_null_access();
	r6 = r1->V;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	if( r6 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_00;
	r7->_00 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_01;
	r7->_01 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_02;
	r7->_02 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_03;
	r7->_03 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_10;
	r7->_10 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_11;
	r7->_11 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_12;
	r7->_12 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_13;
	r7->_13 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_20;
	r7->_20 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_21;
	r7->_21 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_22;
	r7->_22 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_23;
	r7->_23 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_30;
	r7->_30 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_31;
	r7->_31 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_32;
	r7->_32 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_33;
	r7->_33 = r8;
	r10 = r0->camSlicedP;
	if( r10 ) goto label$fbe494a_4_366;
	r12 = &$t_iron_math_Mat4;
	r13 = 0;
	r11 = hl_alloc_array(r12,r13);
	r10 = hl_types_ArrayObj_alloc(r11);
	r0->camSlicedP = r10;
	r13 = 0;
	r15 = hl_alloc_bytes(r13);
	r13 = 0;
	r13 = 0;
	r14 = hl_types_ArrayBase_allocF32(r15,r13);
	r0->cascadeSplit = r14;
	r18 = r1->data;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->raw;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->ortho;
	if( r16 ) goto label$fbe494a_4_267;
	r18 = r1->data;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->raw;
	if( r17 == NULL ) hl_null_access();
	r19 = r17->aspect;
	if( !r19 ) goto label$fbe494a_4_133;
	r18 = r1->data;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->raw;
	if( r17 == NULL ) hl_null_access();
	r19 = r17->aspect;
	goto label$fbe494a_4_142;
	label$fbe494a_4_133:
	r21 = NULL;
	r13 = kha_System_windowWidth(r21);
	r20 = (double)r13;
	r21 = NULL;
	r13 = kha_System_windowHeight(r21);
	r22 = (double)r13;
	r20 = r20 / r22;
	r8 = (float)r20;
	r19 = hl_alloc_dynamic(&$t_f32);
	r19->v.f = r8;
	label$fbe494a_4_142:
	r18 = r1->data;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->raw;
	if( r17 == NULL ) hl_null_access();
	r8 = r17->fov;
	r18 = r1->data;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->raw;
	if( r17 == NULL ) hl_null_access();
	r23 = r17->near_plane;
	r18 = r1->data;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->raw;
	if( r17 == NULL ) hl_null_access();
	r24 = r17->far_plane;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r13 = r4->cascadeCount;
	r25 = 2;
	if( r25 >= r13 ) goto label$fbe494a_4_164;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r20 = r4->cascadeSplitFactor;
	goto label$fbe494a_4_168;
	label$fbe494a_4_164:
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r20 = r4->cascadeSplitFactor;
	r22 = 0.25;
	r20 = r20 * r22;
	label$fbe494a_4_168:
	r13 = 0;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r25 = r4->cascadeCount;
	label$fbe494a_4_171:
	if( r13 >= r25 ) goto label$fbe494a_4_266;
	r26 = r13;
	++r13;
	r22 = (double)r26;
	r28 = 1.;
	r22 = r22 + r28;
	r28 = (double)r23;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r27 = r4->cascadeCount;
	r31 = (double)r27;
	r30 = r22 / r31;
	r29 = r24 - r23;
	r31 = (double)r29;
	r30 = r30 * r31;
	r28 = r28 + r30;
	r30 = 1.;
	r30 = r30 - r20;
	r28 = r28 * r30;
	r30 = (double)r23;
	r31 = (double)r24;
	r33 = (double)r23;
	r31 = r31 / r33;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r27 = r4->cascadeCount;
	r34 = (double)r27;
	r33 = r22 / r34;
	r31 = hl_math_pow(r31,r33);
	r30 = r30 * r31;
	r30 = r30 * r20;
	r28 = r28 + r30;
	r14 = r0->cascadeSplit;
	if( r14 == NULL ) hl_null_access();
	r29 = (float)r28;
	r27 = hl_types_ArrayBytes_Single_push(r14,r29);
	r10 = r0->camSlicedP;
	r30 = 1.;
	r31 = (double)r8;
	r33 = 2.;
	r31 = r31 / r33;
	r31 = hl_math_tan(r31);
	r30 = r30 / r31;
	r29 = r19 ? r19->v.f : 0;
	r33 = (double)r29;
	r31 = r30 / r33;
	if( r10 == NULL ) hl_null_access();
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r29 = (float)r31;
	r27 = 0;
	r32 = (float)r27;
	r27 = 0;
	r35 = (float)r27;
	r27 = 0;
	r36 = (float)r27;
	r27 = 0;
	r37 = (float)r27;
	r38 = (float)r30;
	r27 = 0;
	r39 = (float)r27;
	r27 = 0;
	r40 = (float)r27;
	r27 = 0;
	r41 = (float)r27;
	r27 = 0;
	r42 = (float)r27;
	r43 = (float)r28;
	r43 = r43 + r23;
	r33 = (double)r43;
	r44 = (float)r28;
	r43 = r23 - r44;
	r34 = (double)r43;
	r33 = r33 / r34;
	r43 = (float)r33;
	r27 = 2;
	r44 = (float)r27;
	r45 = (float)r28;
	r44 = r44 * r45;
	r44 = r44 * r23;
	r33 = (double)r44;
	r45 = (float)r28;
	r44 = r23 - r45;
	r34 = (double)r44;
	r33 = r33 / r34;
	r44 = (float)r33;
	r27 = 0;
	r45 = (float)r27;
	r27 = 0;
	r46 = (float)r27;
	r27 = -1;
	r47 = (float)r27;
	r27 = 0;
	r48 = (float)r27;
	iron_math_Mat4_new(r3,r29,r32,r35,r36,r37,r38,r39,r40,r41,r42,r43,r44,r45,r46,r47,r48);
	r27 = hl_types_ArrayObj_push(r10,((vdynamic*)r3));
	goto label$fbe494a_4_171;
	label$fbe494a_4_266:
	goto label$fbe494a_4_366;
	label$fbe494a_4_267:
	r13 = 0;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r25 = r4->cascadeCount;
	label$fbe494a_4_270:
	if( r13 >= r25 ) goto label$fbe494a_4_366;
	++r13;
	r14 = r0->cascadeSplit;
	if( r14 == NULL ) hl_null_access();
	r50 = r0->data;
	if( r50 == NULL ) hl_null_access();
	r49 = r50->raw;
	if( r49 == NULL ) hl_null_access();
	r19 = r49->far_plane;
	r8 = r19 ? r19->v.f : 0;
	r27 = hl_types_ArrayBytes_Single_push(r14,r8);
	r10 = r0->camSlicedP;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->self;
	r27 = 0;
	r8 = hl_kore_float32array_get(r15,r27);
	r15 = r16->self;
	r27 = 1;
	r23 = hl_kore_float32array_get(r15,r27);
	r15 = r16->self;
	r27 = 2;
	r24 = hl_kore_float32array_get(r15,r27);
	r15 = r16->self;
	r27 = 3;
	r29 = hl_kore_float32array_get(r15,r27);
	r50 = r0->data;
	if( r50 == NULL ) hl_null_access();
	r49 = r50->raw;
	if( r49 == NULL ) hl_null_access();
	r19 = r49->near_plane;
	r32 = r19 ? r19->v.f : 0;
	r50 = r0->data;
	if( r50 == NULL ) hl_null_access();
	r49 = r50->raw;
	if( r49 == NULL ) hl_null_access();
	r19 = r49->far_plane;
	r35 = r19 ? r19->v.f : 0;
	r36 = r23 - r8;
	r37 = r29 - r24;
	r38 = r35 - r32;
	r39 = r23 + r8;
	r39 = -r39;
	r20 = (double)r39;
	r22 = (double)r36;
	r20 = r20 / r22;
	r39 = r29 + r24;
	r39 = -r39;
	r22 = (double)r39;
	r28 = (double)r37;
	r22 = r22 / r28;
	r39 = r35 + r32;
	r39 = -r39;
	r28 = (double)r39;
	r30 = (double)r38;
	r28 = r28 / r30;
	if( r10 == NULL ) hl_null_access();
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r30 = 2.;
	r31 = (double)r36;
	r30 = r30 / r31;
	r39 = (float)r30;
	r27 = 0;
	r40 = (float)r27;
	r27 = 0;
	r41 = (float)r27;
	r42 = (float)r20;
	r27 = 0;
	r43 = (float)r27;
	r30 = 2.;
	r31 = (double)r37;
	r30 = r30 / r31;
	r44 = (float)r30;
	r27 = 0;
	r45 = (float)r27;
	r46 = (float)r22;
	r27 = 0;
	r47 = (float)r27;
	r27 = 0;
	r48 = (float)r27;
	r30 = -2.;
	r31 = (double)r38;
	r30 = r30 / r31;
	r51 = (float)r30;
	r52 = (float)r28;
	r27 = 0;
	r53 = (float)r27;
	r27 = 0;
	r54 = (float)r27;
	r27 = 0;
	r55 = (float)r27;
	r27 = 1;
	r56 = (float)r27;
	iron_math_Mat4_new(r3,r39,r40,r41,r42,r43,r44,r45,r46,r47,r48,r51,r52,r53,r54,r55,r56);
	r27 = hl_types_ArrayObj_push(r10,((vdynamic*)r3));
	goto label$fbe494a_4_270;
	label$fbe494a_4_366:
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->m;
	r10 = r0->camSlicedP;
	if( r10 == NULL ) hl_null_access();
	r25 = r10->length;
	if( ((unsigned)r2) < ((unsigned)r25) ) goto label$fbe494a_4_374;
	r6 = NULL;
	goto label$fbe494a_4_377;
	label$fbe494a_4_374:
	r11 = r10->array;
	r57 = ((vdynamic**)(r11 + 1))[r2];
	r6 = (iron__math__Mat4)r57;
	label$fbe494a_4_377:
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_00;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r23 = r7->_01;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r24 = r7->_02;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r29 = r7->_03;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r32 = r7->_10;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_11;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r36 = r7->_12;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r37 = r7->_13;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r38 = r7->_20;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r39 = r7->_21;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r40 = r7->_22;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r41 = r7->_23;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r42 = r7->_30;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r43 = r7->_31;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r44 = r7->_32;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_33;
	if( r6 == NULL ) hl_null_access();
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r46 = r7->_00;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r47 = r7->_10;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r48 = r7->_20;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r51 = r7->_30;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r8 * r46;
	r53 = r23 * r47;
	r52 = r52 + r53;
	r53 = r24 * r48;
	r52 = r52 + r53;
	r53 = r29 * r51;
	r52 = r52 + r53;
	r7->_00 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r32 * r46;
	r53 = r35 * r47;
	r52 = r52 + r53;
	r53 = r36 * r48;
	r52 = r52 + r53;
	r53 = r37 * r51;
	r52 = r52 + r53;
	r7->_10 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r38 * r46;
	r53 = r39 * r47;
	r52 = r52 + r53;
	r53 = r40 * r48;
	r52 = r52 + r53;
	r53 = r41 * r51;
	r52 = r52 + r53;
	r7->_20 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r42 * r46;
	r53 = r43 * r47;
	r52 = r52 + r53;
	r53 = r44 * r48;
	r52 = r52 + r53;
	r53 = r45 * r51;
	r52 = r52 + r53;
	r7->_30 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_01;
	r46 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_11;
	r47 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_21;
	r48 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_31;
	r51 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r8 * r46;
	r53 = r23 * r47;
	r52 = r52 + r53;
	r53 = r24 * r48;
	r52 = r52 + r53;
	r53 = r29 * r51;
	r52 = r52 + r53;
	r7->_01 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r32 * r46;
	r53 = r35 * r47;
	r52 = r52 + r53;
	r53 = r36 * r48;
	r52 = r52 + r53;
	r53 = r37 * r51;
	r52 = r52 + r53;
	r7->_11 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r38 * r46;
	r53 = r39 * r47;
	r52 = r52 + r53;
	r53 = r40 * r48;
	r52 = r52 + r53;
	r53 = r41 * r51;
	r52 = r52 + r53;
	r7->_21 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r42 * r46;
	r53 = r43 * r47;
	r52 = r52 + r53;
	r53 = r44 * r48;
	r52 = r52 + r53;
	r53 = r45 * r51;
	r52 = r52 + r53;
	r7->_31 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_02;
	r46 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_12;
	r47 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_22;
	r48 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_32;
	r51 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r8 * r46;
	r53 = r23 * r47;
	r52 = r52 + r53;
	r53 = r24 * r48;
	r52 = r52 + r53;
	r53 = r29 * r51;
	r52 = r52 + r53;
	r7->_02 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r32 * r46;
	r53 = r35 * r47;
	r52 = r52 + r53;
	r53 = r36 * r48;
	r52 = r52 + r53;
	r53 = r37 * r51;
	r52 = r52 + r53;
	r7->_12 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r38 * r46;
	r53 = r39 * r47;
	r52 = r52 + r53;
	r53 = r40 * r48;
	r52 = r52 + r53;
	r53 = r41 * r51;
	r52 = r52 + r53;
	r7->_22 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r42 * r46;
	r53 = r43 * r47;
	r52 = r52 + r53;
	r53 = r44 * r48;
	r52 = r52 + r53;
	r53 = r45 * r51;
	r52 = r52 + r53;
	r7->_32 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_03;
	r46 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_13;
	r47 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_23;
	r48 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_33;
	r51 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r8 * r46;
	r53 = r23 * r47;
	r52 = r52 + r53;
	r53 = r24 * r48;
	r52 = r52 + r53;
	r53 = r29 * r51;
	r52 = r52 + r53;
	r7->_03 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r32 * r46;
	r53 = r35 * r47;
	r52 = r52 + r53;
	r53 = r36 * r48;
	r52 = r52 + r53;
	r53 = r37 * r51;
	r52 = r52 + r53;
	r7->_13 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r38 * r46;
	r53 = r39 * r47;
	r52 = r52 + r53;
	r53 = r40 * r48;
	r52 = r52 + r53;
	r53 = r41 * r51;
	r52 = r52 + r53;
	r7->_23 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r42 * r46;
	r53 = r43 * r47;
	r52 = r52 + r53;
	r53 = r44 * r48;
	r52 = r52 + r53;
	r53 = r45 * r51;
	r52 = r52 + r53;
	r7->_33 = r52;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->m;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r6 = r4->m;
	if( r6 == NULL ) hl_null_access();
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_00;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r23 = r7->_01;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r24 = r7->_02;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r29 = r7->_03;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r32 = r7->_10;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_11;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r36 = r7->_12;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r37 = r7->_13;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r38 = r7->_20;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r39 = r7->_21;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r40 = r7->_22;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r41 = r7->_23;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r42 = r7->_30;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r43 = r7->_31;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r44 = r7->_32;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_33;
	r46 = r8 * r35;
	r47 = r23 * r32;
	r46 = r46 - r47;
	r47 = r8 * r36;
	r48 = r24 * r32;
	r47 = r47 - r48;
	r48 = r8 * r37;
	r51 = r29 * r32;
	r48 = r48 - r51;
	r51 = r23 * r36;
	r52 = r24 * r35;
	r51 = r51 - r52;
	r52 = r23 * r37;
	r53 = r29 * r35;
	r52 = r52 - r53;
	r53 = r24 * r37;
	r54 = r29 * r36;
	r53 = r53 - r54;
	r54 = r38 * r43;
	r55 = r39 * r42;
	r54 = r54 - r55;
	r55 = r38 * r44;
	r56 = r40 * r42;
	r55 = r55 - r56;
	r56 = r38 * r45;
	r58 = r41 * r42;
	r56 = r56 - r58;
	r58 = r39 * r44;
	r59 = r40 * r43;
	r58 = r58 - r59;
	r59 = r39 * r45;
	r60 = r41 * r43;
	r59 = r59 - r60;
	r60 = r40 * r45;
	r61 = r41 * r44;
	r60 = r60 - r61;
	r61 = r46 * r60;
	r62 = r47 * r59;
	r61 = r61 - r62;
	r62 = r48 * r58;
	r61 = r61 + r62;
	r62 = r51 * r56;
	r61 = r61 + r62;
	r62 = r52 * r55;
	r61 = r61 - r62;
	r62 = r53 * r54;
	r61 = r61 + r62;
	r20 = (double)r61;
	r22 = 0.;
	if( r20 != r22 ) goto label$fbe494a_4_832;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 1.;
	r62 = (float)r20;
	r7->_00 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_01 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_02 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_03 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_10 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 1.;
	r62 = (float)r20;
	r7->_11 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_12 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_13 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_20 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_21 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 1.;
	r62 = (float)r20;
	r7->_22 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_23 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_30 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_31 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_32 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 1.;
	r62 = (float)r20;
	r7->_33 = r62;
	goto label$fbe494a_4_982;
	label$fbe494a_4_832:
	r20 = 1.;
	r22 = (double)r61;
	r20 = r20 / r22;
	r62 = (float)r20;
	r61 = r62;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r35 * r60;
	r63 = r36 * r59;
	r62 = r62 - r63;
	r63 = r37 * r58;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_00 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r24 * r59;
	r63 = r23 * r60;
	r62 = r62 - r63;
	r63 = r29 * r58;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_01 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r43 * r53;
	r63 = r44 * r52;
	r62 = r62 - r63;
	r63 = r45 * r51;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_02 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r40 * r52;
	r63 = r39 * r53;
	r62 = r62 - r63;
	r63 = r41 * r51;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_03 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r36 * r56;
	r63 = r32 * r60;
	r62 = r62 - r63;
	r63 = r37 * r55;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_10 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r8 * r60;
	r63 = r24 * r56;
	r62 = r62 - r63;
	r63 = r29 * r55;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_11 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r44 * r48;
	r63 = r42 * r53;
	r62 = r62 - r63;
	r63 = r45 * r47;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_12 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r38 * r53;
	r63 = r40 * r48;
	r62 = r62 - r63;
	r63 = r41 * r47;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_13 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r32 * r59;
	r63 = r35 * r56;
	r62 = r62 - r63;
	r63 = r37 * r54;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_20 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r23 * r56;
	r63 = r8 * r59;
	r62 = r62 - r63;
	r63 = r29 * r54;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_21 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r42 * r52;
	r63 = r43 * r48;
	r62 = r62 - r63;
	r63 = r45 * r46;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_22 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r39 * r48;
	r63 = r38 * r52;
	r62 = r62 - r63;
	r63 = r41 * r46;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_23 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r35 * r55;
	r63 = r32 * r58;
	r62 = r62 - r63;
	r63 = r36 * r54;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_30 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r8 * r58;
	r63 = r23 * r55;
	r62 = r62 - r63;
	r63 = r24 * r54;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_31 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r43 * r47;
	r63 = r42 * r51;
	r62 = r62 - r63;
	r63 = r44 * r46;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_32 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r38 * r51;
	r63 = r39 * r47;
	r62 = r62 - r63;
	r63 = r40 * r46;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_33 = r62;
	label$fbe494a_4_982:
	r3 = r0->V;
	r65 = r0->transform;
	if( r65 == NULL ) hl_null_access();
	r6 = r65->world;
	if( r6 == NULL ) hl_null_access();
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_00;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r23 = r7->_01;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r24 = r7->_02;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r29 = r7->_03;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r32 = r7->_10;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_11;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r36 = r7->_12;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r37 = r7->_13;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r38 = r7->_20;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r39 = r7->_21;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r40 = r7->_22;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r41 = r7->_23;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r42 = r7->_30;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r43 = r7->_31;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r44 = r7->_32;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_33;
	r46 = r8 * r35;
	r47 = r23 * r32;
	r46 = r46 - r47;
	r47 = r8 * r36;
	r48 = r24 * r32;
	r47 = r47 - r48;
	r48 = r8 * r37;
	r51 = r29 * r32;
	r48 = r48 - r51;
	r51 = r23 * r36;
	r52 = r24 * r35;
	r51 = r51 - r52;
	r52 = r23 * r37;
	r53 = r29 * r35;
	r52 = r52 - r53;
	r53 = r24 * r37;
	r54 = r29 * r36;
	r53 = r53 - r54;
	r54 = r38 * r43;
	r55 = r39 * r42;
	r54 = r54 - r55;
	r55 = r38 * r44;
	r56 = r40 * r42;
	r55 = r55 - r56;
	r56 = r38 * r45;
	r58 = r41 * r42;
	r56 = r56 - r58;
	r58 = r39 * r44;
	r59 = r40 * r43;
	r58 = r58 - r59;
	r59 = r39 * r45;
	r60 = r41 * r43;
	r59 = r59 - r60;
	r60 = r40 * r45;
	r61 = r41 * r44;
	r60 = r60 - r61;
	r61 = r46 * r60;
	r62 = r47 * r59;
	r61 = r61 - r62;
	r62 = r48 * r58;
	r61 = r61 + r62;
	r62 = r51 * r56;
	r61 = r61 + r62;
	r62 = r52 * r55;
	r61 = r61 - r62;
	r62 = r53 * r54;
	r61 = r61 + r62;
	r20 = (double)r61;
	r22 = 0.;
	if( r20 != r22 ) goto label$fbe494a_4_1167;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 1.;
	r62 = (float)r20;
	r7->_00 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_01 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_02 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_03 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_10 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 1.;
	r62 = (float)r20;
	r7->_11 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_12 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_13 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_20 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_21 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 1.;
	r62 = (float)r20;
	r7->_22 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_23 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_30 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_31 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 0.;
	r62 = (float)r20;
	r7->_32 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r20 = 1.;
	r62 = (float)r20;
	r7->_33 = r62;
	goto label$fbe494a_4_1317;
	label$fbe494a_4_1167:
	r20 = 1.;
	r22 = (double)r61;
	r20 = r20 / r22;
	r62 = (float)r20;
	r61 = r62;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r35 * r60;
	r63 = r36 * r59;
	r62 = r62 - r63;
	r63 = r37 * r58;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_00 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r24 * r59;
	r63 = r23 * r60;
	r62 = r62 - r63;
	r63 = r29 * r58;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_01 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r43 * r53;
	r63 = r44 * r52;
	r62 = r62 - r63;
	r63 = r45 * r51;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_02 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r40 * r52;
	r63 = r39 * r53;
	r62 = r62 - r63;
	r63 = r41 * r51;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_03 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r36 * r56;
	r63 = r32 * r60;
	r62 = r62 - r63;
	r63 = r37 * r55;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_10 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r8 * r60;
	r63 = r24 * r56;
	r62 = r62 - r63;
	r63 = r29 * r55;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_11 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r44 * r48;
	r63 = r42 * r53;
	r62 = r62 - r63;
	r63 = r45 * r47;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_12 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r38 * r53;
	r63 = r40 * r48;
	r62 = r62 - r63;
	r63 = r41 * r47;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_13 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r32 * r59;
	r63 = r35 * r56;
	r62 = r62 - r63;
	r63 = r37 * r54;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_20 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r23 * r56;
	r63 = r8 * r59;
	r62 = r62 - r63;
	r63 = r29 * r54;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_21 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r42 * r52;
	r63 = r43 * r48;
	r62 = r62 - r63;
	r63 = r45 * r46;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_22 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r39 * r48;
	r63 = r38 * r52;
	r62 = r62 - r63;
	r63 = r41 * r46;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_23 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r35 * r55;
	r63 = r32 * r58;
	r62 = r62 - r63;
	r63 = r36 * r54;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_30 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r8 * r58;
	r63 = r23 * r55;
	r62 = r62 - r63;
	r63 = r24 * r54;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_31 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r43 * r47;
	r63 = r42 * r51;
	r62 = r62 - r63;
	r63 = r44 * r46;
	r62 = r62 - r63;
	r62 = r62 * r61;
	r7->_32 = r62;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r62 = r38 * r51;
	r63 = r39 * r47;
	r62 = r62 - r63;
	r63 = r40 * r46;
	r62 = r62 + r63;
	r62 = r62 * r61;
	r7->_33 = r62;
	label$fbe494a_4_1317:
	r3 = r0->V;
	r67 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r66 = r67->helpVec;
	if( r66 == NULL ) hl_null_access();
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_00;
	r66->x = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_01;
	r66->y = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_02;
	r66->z = r8;
	r20 = 1.;
	r8 = (float)r20;
	r66->w = r8;
	r20 = 1.;
	r8 = r66->x;
	r23 = r66->x;
	r8 = r8 * r23;
	r23 = r66->y;
	r24 = r66->y;
	r23 = r23 * r24;
	r8 = r8 + r23;
	r23 = r66->z;
	r24 = r66->z;
	r23 = r23 * r24;
	r8 = r8 + r23;
	r22 = (double)r8;
	r22 = hl_math_sqrt(r22);
	r8 = (float)r22;
	r22 = (double)r8;
	r20 = r20 / r22;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_00;
	r22 = (double)r8;
	r22 = r22 * r20;
	r8 = (float)r22;
	r7->_00 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_01;
	r22 = (double)r8;
	r22 = r22 * r20;
	r8 = (float)r22;
	r7->_01 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_02;
	r22 = (double)r8;
	r22 = r22 * r20;
	r8 = (float)r22;
	r7->_02 = r8;
	r67 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r69 = r67->helpVec;
	if( r69 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_10;
	r69->x = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_11;
	r69->y = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_12;
	r69->z = r8;
	r22 = 1.;
	r8 = (float)r22;
	r69->w = r8;
	r22 = 1.;
	r8 = r69->x;
	r23 = r69->x;
	r8 = r8 * r23;
	r23 = r69->y;
	r24 = r69->y;
	r23 = r23 * r24;
	r8 = r8 + r23;
	r23 = r69->z;
	r24 = r69->z;
	r23 = r23 * r24;
	r8 = r8 + r23;
	r28 = (double)r8;
	r28 = hl_math_sqrt(r28);
	r8 = (float)r28;
	r28 = (double)r8;
	r22 = r22 / r28;
	r20 = r22;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_10;
	r22 = (double)r8;
	r22 = r22 * r20;
	r8 = (float)r22;
	r7->_10 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_11;
	r22 = (double)r8;
	r22 = r22 * r20;
	r8 = (float)r22;
	r7->_11 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_12;
	r22 = (double)r8;
	r22 = r22 * r20;
	r8 = (float)r22;
	r7->_12 = r8;
	r67 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r70 = r67->helpVec;
	if( r70 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_20;
	r70->x = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_21;
	r70->y = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_22;
	r70->z = r8;
	r22 = 1.;
	r8 = (float)r22;
	r70->w = r8;
	r22 = 1.;
	r8 = r70->x;
	r23 = r70->x;
	r8 = r8 * r23;
	r23 = r70->y;
	r24 = r70->y;
	r23 = r23 * r24;
	r8 = r8 + r23;
	r23 = r70->z;
	r24 = r70->z;
	r23 = r23 * r24;
	r8 = r8 + r23;
	r28 = (double)r8;
	r28 = hl_math_sqrt(r28);
	r8 = (float)r28;
	r28 = (double)r8;
	r22 = r22 / r28;
	r20 = r22;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_20;
	r22 = (double)r8;
	r22 = r22 * r20;
	r8 = (float)r22;
	r7->_20 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_21;
	r22 = (double)r8;
	r22 = r22 * r20;
	r8 = (float)r22;
	r7->_21 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r3->self;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->_22;
	r22 = (double)r8;
	r22 = r22 * r20;
	r8 = (float)r22;
	r7->_22 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r22 = 0.;
	r8 = (float)r22;
	r7->_03 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r22 = 0.;
	r8 = (float)r22;
	r7->_13 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r22 = 0.;
	r8 = (float)r22;
	r7->_23 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r22 = 0.;
	r8 = (float)r22;
	r7->_30 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r22 = 0.;
	r8 = (float)r22;
	r7->_31 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r22 = 0.;
	r8 = (float)r22;
	r7->_32 = r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r22 = 1.;
	r8 = (float)r22;
	r7->_33 = r8;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->m;
	r6 = r0->V;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_00;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r23 = r7->_01;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r24 = r7->_02;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r29 = r7->_03;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r32 = r7->_10;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_11;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r36 = r7->_12;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r37 = r7->_13;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r38 = r7->_20;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r39 = r7->_21;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r40 = r7->_22;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r41 = r7->_23;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r42 = r7->_30;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r43 = r7->_31;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r44 = r7->_32;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r45 = r7->_33;
	if( r6 == NULL ) hl_null_access();
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r46 = r7->_00;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r47 = r7->_10;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r48 = r7->_20;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r51 = r7->_30;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r8 * r46;
	r53 = r23 * r47;
	r52 = r52 + r53;
	r53 = r24 * r48;
	r52 = r52 + r53;
	r53 = r29 * r51;
	r52 = r52 + r53;
	r7->_00 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r32 * r46;
	r53 = r35 * r47;
	r52 = r52 + r53;
	r53 = r36 * r48;
	r52 = r52 + r53;
	r53 = r37 * r51;
	r52 = r52 + r53;
	r7->_10 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r38 * r46;
	r53 = r39 * r47;
	r52 = r52 + r53;
	r53 = r40 * r48;
	r52 = r52 + r53;
	r53 = r41 * r51;
	r52 = r52 + r53;
	r7->_20 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r42 * r46;
	r53 = r43 * r47;
	r52 = r52 + r53;
	r53 = r44 * r48;
	r52 = r52 + r53;
	r53 = r45 * r51;
	r52 = r52 + r53;
	r7->_30 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_01;
	r46 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_11;
	r47 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_21;
	r48 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_31;
	r51 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r8 * r46;
	r53 = r23 * r47;
	r52 = r52 + r53;
	r53 = r24 * r48;
	r52 = r52 + r53;
	r53 = r29 * r51;
	r52 = r52 + r53;
	r7->_01 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r32 * r46;
	r53 = r35 * r47;
	r52 = r52 + r53;
	r53 = r36 * r48;
	r52 = r52 + r53;
	r53 = r37 * r51;
	r52 = r52 + r53;
	r7->_11 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r38 * r46;
	r53 = r39 * r47;
	r52 = r52 + r53;
	r53 = r40 * r48;
	r52 = r52 + r53;
	r53 = r41 * r51;
	r52 = r52 + r53;
	r7->_21 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r42 * r46;
	r53 = r43 * r47;
	r52 = r52 + r53;
	r53 = r44 * r48;
	r52 = r52 + r53;
	r53 = r45 * r51;
	r52 = r52 + r53;
	r7->_31 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_02;
	r46 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_12;
	r47 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_22;
	r48 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_32;
	r51 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r8 * r46;
	r53 = r23 * r47;
	r52 = r52 + r53;
	r53 = r24 * r48;
	r52 = r52 + r53;
	r53 = r29 * r51;
	r52 = r52 + r53;
	r7->_02 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r32 * r46;
	r53 = r35 * r47;
	r52 = r52 + r53;
	r53 = r36 * r48;
	r52 = r52 + r53;
	r53 = r37 * r51;
	r52 = r52 + r53;
	r7->_12 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r38 * r46;
	r53 = r39 * r47;
	r52 = r52 + r53;
	r53 = r40 * r48;
	r52 = r52 + r53;
	r53 = r41 * r51;
	r52 = r52 + r53;
	r7->_22 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r42 * r46;
	r53 = r43 * r47;
	r52 = r52 + r53;
	r53 = r44 * r48;
	r52 = r52 + r53;
	r53 = r45 * r51;
	r52 = r52 + r53;
	r7->_32 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_03;
	r46 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_13;
	r47 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_23;
	r48 = r52;
	r7 = r6->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r7->_33;
	r51 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r8 * r46;
	r53 = r23 * r47;
	r52 = r52 + r53;
	r53 = r24 * r48;
	r52 = r52 + r53;
	r53 = r29 * r51;
	r52 = r52 + r53;
	r7->_03 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r32 * r46;
	r53 = r35 * r47;
	r52 = r52 + r53;
	r53 = r36 * r48;
	r52 = r52 + r53;
	r53 = r37 * r51;
	r52 = r52 + r53;
	r7->_13 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r38 * r46;
	r53 = r39 * r47;
	r52 = r52 + r53;
	r53 = r40 * r48;
	r52 = r52 + r53;
	r53 = r41 * r51;
	r52 = r52 + r53;
	r7->_23 = r52;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r52 = r42 * r46;
	r53 = r43 * r47;
	r52 = r52 + r53;
	r53 = r44 * r48;
	r52 = r52 + r53;
	r53 = r45 * r51;
	r52 = r52 + r53;
	r7->_33 = r52;
	iron_object_LightObject_setCorners();
	r13 = 0;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r10 = r4->corners;
	label$fbe494a_4_1819:
	if( r10 == NULL ) hl_null_access();
	r26 = r10->length;
	if( r13 >= r26 ) goto label$fbe494a_4_1944;
	r26 = r10->length;
	if( ((unsigned)r13) < ((unsigned)r26) ) goto label$fbe494a_4_1827;
	r66 = NULL;
	goto label$fbe494a_4_1830;
	label$fbe494a_4_1827:
	r11 = r10->array;
	r57 = ((vdynamic**)(r11 + 1))[r13];
	r66 = (iron__math__Vec4)r57;
	label$fbe494a_4_1830:
	++r13;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->m;
	if( r66 == NULL ) hl_null_access();
	r8 = r66->x;
	r23 = r66->y;
	r24 = r66->z;
	r29 = r66->w;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r32 = r7->_00;
	r32 = r32 * r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_10;
	r35 = r35 * r23;
	r32 = r32 + r35;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_20;
	r35 = r35 * r24;
	r32 = r32 + r35;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_30;
	r35 = r35 * r29;
	r32 = r32 + r35;
	r66->x = r32;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r32 = r7->_01;
	r32 = r32 * r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_11;
	r35 = r35 * r23;
	r32 = r32 + r35;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_21;
	r35 = r35 * r24;
	r32 = r32 + r35;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_31;
	r35 = r35 * r29;
	r32 = r32 + r35;
	r66->y = r32;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r32 = r7->_02;
	r32 = r32 * r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_12;
	r35 = r35 * r23;
	r32 = r32 + r35;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_22;
	r35 = r35 * r24;
	r32 = r32 + r35;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_32;
	r35 = r35 * r29;
	r32 = r32 + r35;
	r66->z = r32;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r32 = r7->_03;
	r32 = r32 * r8;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_13;
	r35 = r35 * r23;
	r32 = r32 + r35;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_23;
	r35 = r35 * r24;
	r32 = r32 + r35;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r35 = r7->_33;
	r35 = r35 * r29;
	r32 = r32 + r35;
	r66->w = r32;
	r8 = r66->x;
	r20 = (double)r8;
	r8 = r66->w;
	r22 = (double)r8;
	r20 = r20 / r22;
	r8 = (float)r20;
	r66->x = r8;
	r8 = r66->y;
	r20 = (double)r8;
	r8 = r66->w;
	r22 = (double)r8;
	r20 = r20 / r22;
	r8 = (float)r20;
	r66->y = r8;
	r8 = r66->z;
	r20 = (double)r8;
	r8 = r66->w;
	r22 = (double)r8;
	r20 = r20 / r22;
	r8 = (float)r20;
	r66->z = r8;
	r20 = 1.;
	r8 = (float)r20;
	r66->w = r8;
	goto label$fbe494a_4_1819;
	label$fbe494a_4_1944:
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r10 = r4->corners;
	if( r10 == NULL ) hl_null_access();
	r13 = 0;
	r25 = r10->length;
	if( ((unsigned)r13) < ((unsigned)r25) ) goto label$fbe494a_4_1952;
	r66 = NULL;
	goto label$fbe494a_4_1955;
	label$fbe494a_4_1952:
	r11 = r10->array;
	r57 = ((vdynamic**)(r11 + 1))[r13];
	r66 = (iron__math__Vec4)r57;
	label$fbe494a_4_1955:
	if( r66 == NULL ) hl_null_access();
	r8 = r66->x;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r10 = r4->corners;
	if( r10 == NULL ) hl_null_access();
	r13 = 0;
	r25 = r10->length;
	if( ((unsigned)r13) < ((unsigned)r25) ) goto label$fbe494a_4_1965;
	r66 = NULL;
	goto label$fbe494a_4_1968;
	label$fbe494a_4_1965:
	r11 = r10->array;
	r57 = ((vdynamic**)(r11 + 1))[r13];
	r66 = (iron__math__Vec4)r57;
	label$fbe494a_4_1968:
	if( r66 == NULL ) hl_null_access();
	r23 = r66->y;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r10 = r4->corners;
	if( r10 == NULL ) hl_null_access();
	r13 = 0;
	r25 = r10->length;
	if( ((unsigned)r13) < ((unsigned)r25) ) goto label$fbe494a_4_1978;
	r66 = NULL;
	goto label$fbe494a_4_1981;
	label$fbe494a_4_1978:
	r11 = r10->array;
	r57 = ((vdynamic**)(r11 + 1))[r13];
	r66 = (iron__math__Vec4)r57;
	label$fbe494a_4_1981:
	if( r66 == NULL ) hl_null_access();
	r24 = r66->z;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r10 = r4->corners;
	if( r10 == NULL ) hl_null_access();
	r13 = 0;
	r25 = r10->length;
	if( ((unsigned)r13) < ((unsigned)r25) ) goto label$fbe494a_4_1991;
	r66 = NULL;
	goto label$fbe494a_4_1994;
	label$fbe494a_4_1991:
	r11 = r10->array;
	r57 = ((vdynamic**)(r11 + 1))[r13];
	r66 = (iron__math__Vec4)r57;
	label$fbe494a_4_1994:
	if( r66 == NULL ) hl_null_access();
	r29 = r66->x;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r10 = r4->corners;
	if( r10 == NULL ) hl_null_access();
	r13 = 0;
	r25 = r10->length;
	if( ((unsigned)r13) < ((unsigned)r25) ) goto label$fbe494a_4_2004;
	r66 = NULL;
	goto label$fbe494a_4_2007;
	label$fbe494a_4_2004:
	r11 = r10->array;
	r57 = ((vdynamic**)(r11 + 1))[r13];
	r66 = (iron__math__Vec4)r57;
	label$fbe494a_4_2007:
	if( r66 == NULL ) hl_null_access();
	r32 = r66->y;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r10 = r4->corners;
	if( r10 == NULL ) hl_null_access();
	r13 = 0;
	r25 = r10->length;
	if( ((unsigned)r13) < ((unsigned)r25) ) goto label$fbe494a_4_2017;
	r66 = NULL;
	goto label$fbe494a_4_2020;
	label$fbe494a_4_2017:
	r11 = r10->array;
	r57 = ((vdynamic**)(r11 + 1))[r13];
	r66 = (iron__math__Vec4)r57;
	label$fbe494a_4_2020:
	if( r66 == NULL ) hl_null_access();
	r35 = r66->z;
	r13 = 0;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r10 = r4->corners;
	label$fbe494a_4_2025:
	if( r10 == NULL ) hl_null_access();
	r26 = r10->length;
	if( r13 >= r26 ) goto label$fbe494a_4_2063;
	r26 = r10->length;
	if( ((unsigned)r13) < ((unsigned)r26) ) goto label$fbe494a_4_2033;
	r66 = NULL;
	goto label$fbe494a_4_2036;
	label$fbe494a_4_2033:
	r11 = r10->array;
	r57 = ((vdynamic**)(r11 + 1))[r13];
	r66 = (iron__math__Vec4)r57;
	label$fbe494a_4_2036:
	++r13;
	if( r66 == NULL ) hl_null_access();
	r36 = r66->x;
	if( !(r36 < r8) ) goto label$fbe494a_4_2042;
	r36 = r66->x;
	r8 = r36;
	label$fbe494a_4_2042:
	r36 = r66->x;
	if( !(r29 < r36) ) goto label$fbe494a_4_2046;
	r36 = r66->x;
	r29 = r36;
	label$fbe494a_4_2046:
	r36 = r66->y;
	if( !(r36 < r23) ) goto label$fbe494a_4_2050;
	r36 = r66->y;
	r23 = r36;
	label$fbe494a_4_2050:
	r36 = r66->y;
	if( !(r32 < r36) ) goto label$fbe494a_4_2054;
	r36 = r66->y;
	r32 = r36;
	label$fbe494a_4_2054:
	r36 = r66->z;
	if( !(r36 < r24) ) goto label$fbe494a_4_2058;
	r36 = r66->z;
	r24 = r36;
	label$fbe494a_4_2058:
	r36 = r66->z;
	if( !(r35 < r36) ) goto label$fbe494a_4_2062;
	r36 = r66->z;
	r35 = r36;
	label$fbe494a_4_2062:
	goto label$fbe494a_4_2025;
	label$fbe494a_4_2063:
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r10 = r4->corners;
	if( r10 == NULL ) hl_null_access();
	r13 = 0;
	r25 = r10->length;
	if( ((unsigned)r13) < ((unsigned)r25) ) goto label$fbe494a_4_2071;
	r66 = NULL;
	goto label$fbe494a_4_2074;
	label$fbe494a_4_2071:
	r11 = r10->array;
	r57 = ((vdynamic**)(r11 + 1))[r13];
	r66 = (iron__math__Vec4)r57;
	label$fbe494a_4_2074:
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r10 = r4->corners;
	if( r10 == NULL ) hl_null_access();
	r13 = 7;
	r25 = r10->length;
	if( ((unsigned)r13) < ((unsigned)r25) ) goto label$fbe494a_4_2082;
	r68 = NULL;
	goto label$fbe494a_4_2085;
	label$fbe494a_4_2082:
	r11 = r10->array;
	r57 = ((vdynamic**)(r11 + 1))[r13];
	r68 = (iron__math__Vec4)r57;
	label$fbe494a_4_2085:
	if( r66 == NULL ) hl_null_access();
	r36 = r66->x;
	if( r68 == NULL ) hl_null_access();
	r37 = r68->x;
	r36 = r36 - r37;
	r37 = r66->y;
	r38 = r68->y;
	r37 = r37 - r38;
	r38 = r66->z;
	r39 = r68->z;
	r38 = r38 - r39;
	r39 = r36 * r36;
	r40 = r37 * r37;
	r39 = r39 + r40;
	r40 = r38 * r38;
	r39 = r39 + r40;
	r20 = (double)r39;
	r20 = hl_math_sqrt(r20);
	r39 = (float)r20;
	r41 = r29 - r8;
	r40 = r39 - r41;
	r20 = (double)r40;
	r22 = 0.5;
	r20 = r20 * r22;
	r41 = r32 - r23;
	r40 = r39 - r41;
	r22 = (double)r40;
	r28 = 0.5;
	r22 = r22 * r28;
	r41 = (float)r20;
	r40 = r8 - r41;
	r8 = r40;
	r41 = (float)r20;
	r40 = r29 + r41;
	r29 = r40;
	r41 = (float)r22;
	r40 = r23 - r41;
	r23 = r40;
	r41 = (float)r22;
	r40 = r32 + r41;
	r32 = r40;
	r50 = r0->data;
	if( r50 == NULL ) hl_null_access();
	r49 = r50->raw;
	if( r49 == NULL ) hl_null_access();
	r71 = r49->shadowmap_size;
	r13 = r71 ? r71->v.i : 0;
	r28 = (double)r13;
	r30 = 4.;
	r28 = r28 / r30;
	r13 = (int)r28;
	r72 = hl_alloc_dynamic(&$t_i32);
	r72->v.i = r13;
	r40 = r29 - r8;
	r28 = (double)r40;
	r13 = r72 ? r72->v.i : 0;
	r30 = (double)r13;
	r28 = r28 / r30;
	r40 = r32 - r23;
	r30 = (double)r40;
	r13 = r72 ? r72->v.i : 0;
	r31 = (double)r13;
	r30 = r30 / r31;
	r40 = r35 - r24;
	r31 = (double)r40;
	r13 = r72 ? r72->v.i : 0;
	r33 = (double)r13;
	r31 = r31 / r33;
	r33 = (double)r8;
	r33 = r33 / r28;
	r13 = hl_math_floor(r33);
	r33 = (double)r13;
	r33 = r33 * r28;
	r40 = (float)r33;
	r8 = r40;
	r33 = (double)r23;
	r33 = r33 / r30;
	r13 = hl_math_floor(r33);
	r33 = (double)r13;
	r33 = r33 * r30;
	r40 = (float)r33;
	r23 = r40;
	r33 = (double)r24;
	r33 = r33 / r31;
	r13 = hl_math_floor(r33);
	r33 = (double)r13;
	r33 = r33 * r31;
	r40 = (float)r33;
	r24 = r40;
	r33 = (double)r29;
	r33 = r33 / r28;
	r13 = hl_math_floor(r33);
	r33 = (double)r13;
	r33 = r33 * r28;
	r40 = (float)r33;
	r29 = r40;
	r33 = (double)r32;
	r33 = r33 / r30;
	r13 = hl_math_floor(r33);
	r33 = (double)r13;
	r33 = r33 * r30;
	r40 = (float)r33;
	r32 = r40;
	r33 = (double)r35;
	r33 = r33 / r31;
	r13 = hl_math_floor(r33);
	r33 = (double)r13;
	r33 = r33 * r31;
	r40 = (float)r33;
	r35 = r40;
	r40 = r29 - r8;
	r33 = (double)r40;
	r34 = 2.;
	r33 = r33 / r34;
	r40 = r32 - r23;
	r34 = (double)r40;
	r73 = 2.;
	r34 = r34 / r73;
	r40 = r35 - r24;
	r73 = (double)r40;
	r74 = 2.;
	r73 = r73 / r74;
	r3 = r0->V;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r74 = (double)r8;
	r74 = r74 + r33;
	r74 = -r74;
	r40 = (float)r74;
	r7->_30 = r40;
	r3 = r0->V;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r74 = (double)r23;
	r74 = r74 + r34;
	r74 = -r74;
	r40 = (float)r74;
	r7->_31 = r40;
	r3 = r0->V;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r74 = (double)r24;
	r74 = r74 + r73;
	r74 = -r74;
	r40 = (float)r74;
	r7->_32 = r40;
	r74 = -r33;
	r40 = (float)r74;
	r74 = -r34;
	r41 = (float)r74;
	r74 = -r73;
	r75 = 4.;
	r74 = r74 * r75;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r75 = r4->cascadeBounds;
	r74 = r74 * r75;
	r42 = (float)r74;
	r43 = (float)r33;
	r43 = r43 - r40;
	r44 = (float)r34;
	r44 = r44 - r41;
	r45 = (float)r73;
	r45 = r45 - r42;
	r46 = (float)r33;
	r46 = r46 + r40;
	r46 = -r46;
	r74 = (double)r46;
	r75 = (double)r43;
	r74 = r74 / r75;
	r46 = (float)r34;
	r46 = r46 + r41;
	r46 = -r46;
	r75 = (double)r46;
	r76 = (double)r44;
	r75 = r75 / r76;
	r46 = (float)r73;
	r46 = r46 + r42;
	r46 = -r46;
	r76 = (double)r46;
	r77 = (double)r45;
	r76 = r76 / r77;
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r77 = 2.;
	r78 = (double)r43;
	r77 = r77 / r78;
	r46 = (float)r77;
	r13 = 0;
	r47 = (float)r13;
	r13 = 0;
	r48 = (float)r13;
	r51 = (float)r74;
	r13 = 0;
	r52 = (float)r13;
	r77 = 2.;
	r78 = (double)r44;
	r77 = r77 / r78;
	r53 = (float)r77;
	r13 = 0;
	r54 = (float)r13;
	r55 = (float)r75;
	r13 = 0;
	r56 = (float)r13;
	r13 = 0;
	r58 = (float)r13;
	r77 = -2.;
	r78 = (double)r45;
	r77 = r77 / r78;
	r59 = (float)r77;
	r60 = (float)r76;
	r13 = 0;
	r61 = (float)r13;
	r13 = 0;
	r62 = (float)r13;
	r13 = 0;
	r63 = (float)r13;
	r13 = 1;
	r64 = (float)r13;
	iron_math_Mat4_new(r3,r46,r47,r48,r51,r52,r53,r54,r55,r56,r58,r59,r60,r61,r62,r63,r64);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r4->m = r3;
	r3 = r0->P;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r6 = r4->m;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	if( r6 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_00;
	r7->_00 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_01;
	r7->_01 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_02;
	r7->_02 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_03;
	r7->_03 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_10;
	r7->_10 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_11;
	r7->_11 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_12;
	r7->_12 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_13;
	r7->_13 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_20;
	r7->_20 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_21;
	r7->_21 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_22;
	r7->_22 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_23;
	r7->_23 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_30;
	r7->_30 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_31;
	r7->_31 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_32;
	r7->_32 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_33;
	r7->_33 = r46;
	iron_object_LightObject_updateViewFrustum(r0,r1);
	r10 = r0->cascadeVP;
	if( r10 ) goto label$fbe494a_4_2460;
	r12 = &$t_iron_math_Mat4;
	r13 = 0;
	r11 = hl_alloc_array(r12,r13);
	r10 = hl_types_ArrayObj_alloc(r11);
	r0->cascadeVP = r10;
	r13 = 0;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r25 = r4->cascadeCount;
	label$fbe494a_4_2419:
	if( r13 >= r25 ) goto label$fbe494a_4_2460;
	++r13;
	r10 = r0->cascadeVP;
	if( r10 == NULL ) hl_null_access();
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r77 = 1.;
	r46 = (float)r77;
	r77 = 0.;
	r47 = (float)r77;
	r77 = 0.;
	r48 = (float)r77;
	r77 = 0.;
	r51 = (float)r77;
	r77 = 0.;
	r52 = (float)r77;
	r77 = 1.;
	r53 = (float)r77;
	r77 = 0.;
	r54 = (float)r77;
	r77 = 0.;
	r55 = (float)r77;
	r77 = 0.;
	r56 = (float)r77;
	r77 = 0.;
	r58 = (float)r77;
	r77 = 1.;
	r59 = (float)r77;
	r77 = 0.;
	r60 = (float)r77;
	r77 = 0.;
	r61 = (float)r77;
	r77 = 0.;
	r62 = (float)r77;
	r77 = 0.;
	r63 = (float)r77;
	r77 = 1.;
	r64 = (float)r77;
	iron_math_Mat4_new(r3,r46,r47,r48,r51,r52,r53,r54,r55,r56,r58,r59,r60,r61,r62,r63,r64);
	r27 = hl_types_ArrayObj_push(r10,((vdynamic*)r3));
	goto label$fbe494a_4_2419;
	label$fbe494a_4_2460:
	r10 = r0->cascadeVP;
	if( r10 == NULL ) hl_null_access();
	r25 = r10->length;
	if( ((unsigned)r2) < ((unsigned)r25) ) goto label$fbe494a_4_2466;
	r3 = NULL;
	goto label$fbe494a_4_2469;
	label$fbe494a_4_2466:
	r11 = r10->array;
	r57 = ((vdynamic**)(r11 + 1))[r2];
	r3 = (iron__math__Mat4)r57;
	label$fbe494a_4_2469:
	r6 = r0->VP;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	if( r6 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_00;
	r7->_00 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_01;
	r7->_01 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_02;
	r7->_02 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_03;
	r7->_03 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_10;
	r7->_10 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_11;
	r7->_11 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_12;
	r7->_12 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_13;
	r7->_13 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_20;
	r7->_20 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_21;
	r7->_21 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_22;
	r7->_22 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_23;
	r7->_23 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_30;
	r7->_30 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_31;
	r7->_31 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_32;
	r7->_32 = r46;
	r7 = r3->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r6->self;
	if( r9 == NULL ) hl_null_access();
	r46 = r9->_33;
	r7->_33 = r46;
	return;
}

void iron_object_LightObject_updateViewFrustum(iron__object__LightObject r0,iron__object__CameraObject r1) {
	hl__types__ArrayObj r33;
	hl_type *r35;
	iron__object__FrustumPlane r37;
	bool r32;
	kha__math__FastMatrix4 r7;
	iron__data__TCameraData r30;
	iron__data__CameraData r31;
	float r6, r8, r9, r10, r11, r12, r13, r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r26, r27, r28;
	iron__math__Mat4 r2, r4, r5;
	vdynamic *r29;
	int r36;
	varray *r34;
	r2 = r0->VP;
	r4 = r0->P;
	r5 = r0->V;
	if( r5 == NULL ) hl_null_access();
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->_00;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->_01;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r9 = r7->_02;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r10 = r7->_03;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r11 = r7->_10;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r12 = r7->_11;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r13 = r7->_12;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r14 = r7->_13;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r15 = r7->_20;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r16 = r7->_21;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r17 = r7->_22;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r18 = r7->_23;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r19 = r7->_30;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r20 = r7->_31;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r21 = r7->_32;
	r7 = r5->self;
	if( r7 == NULL ) hl_null_access();
	r22 = r7->_33;
	if( r4 == NULL ) hl_null_access();
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r23 = r7->_00;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r24 = r7->_10;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r25 = r7->_20;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r26 = r7->_30;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r6 * r23;
	r28 = r8 * r24;
	r27 = r27 + r28;
	r28 = r9 * r25;
	r27 = r27 + r28;
	r28 = r10 * r26;
	r27 = r27 + r28;
	r7->_00 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r11 * r23;
	r28 = r12 * r24;
	r27 = r27 + r28;
	r28 = r13 * r25;
	r27 = r27 + r28;
	r28 = r14 * r26;
	r27 = r27 + r28;
	r7->_10 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r15 * r23;
	r28 = r16 * r24;
	r27 = r27 + r28;
	r28 = r17 * r25;
	r27 = r27 + r28;
	r28 = r18 * r26;
	r27 = r27 + r28;
	r7->_20 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r19 * r23;
	r28 = r20 * r24;
	r27 = r27 + r28;
	r28 = r21 * r25;
	r27 = r27 + r28;
	r28 = r22 * r26;
	r27 = r27 + r28;
	r7->_30 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_01;
	r23 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_11;
	r24 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_21;
	r25 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_31;
	r26 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r6 * r23;
	r28 = r8 * r24;
	r27 = r27 + r28;
	r28 = r9 * r25;
	r27 = r27 + r28;
	r28 = r10 * r26;
	r27 = r27 + r28;
	r7->_01 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r11 * r23;
	r28 = r12 * r24;
	r27 = r27 + r28;
	r28 = r13 * r25;
	r27 = r27 + r28;
	r28 = r14 * r26;
	r27 = r27 + r28;
	r7->_11 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r15 * r23;
	r28 = r16 * r24;
	r27 = r27 + r28;
	r28 = r17 * r25;
	r27 = r27 + r28;
	r28 = r18 * r26;
	r27 = r27 + r28;
	r7->_21 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r19 * r23;
	r28 = r20 * r24;
	r27 = r27 + r28;
	r28 = r21 * r25;
	r27 = r27 + r28;
	r28 = r22 * r26;
	r27 = r27 + r28;
	r7->_31 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_02;
	r23 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_12;
	r24 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_22;
	r25 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_32;
	r26 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r6 * r23;
	r28 = r8 * r24;
	r27 = r27 + r28;
	r28 = r9 * r25;
	r27 = r27 + r28;
	r28 = r10 * r26;
	r27 = r27 + r28;
	r7->_02 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r11 * r23;
	r28 = r12 * r24;
	r27 = r27 + r28;
	r28 = r13 * r25;
	r27 = r27 + r28;
	r28 = r14 * r26;
	r27 = r27 + r28;
	r7->_12 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r15 * r23;
	r28 = r16 * r24;
	r27 = r27 + r28;
	r28 = r17 * r25;
	r27 = r27 + r28;
	r28 = r18 * r26;
	r27 = r27 + r28;
	r7->_22 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r19 * r23;
	r28 = r20 * r24;
	r27 = r27 + r28;
	r28 = r21 * r25;
	r27 = r27 + r28;
	r28 = r22 * r26;
	r27 = r27 + r28;
	r7->_32 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_03;
	r23 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_13;
	r24 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_23;
	r25 = r27;
	r7 = r4->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->_33;
	r26 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r6 * r23;
	r28 = r8 * r24;
	r27 = r27 + r28;
	r28 = r9 * r25;
	r27 = r27 + r28;
	r28 = r10 * r26;
	r27 = r27 + r28;
	r7->_03 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r11 * r23;
	r28 = r12 * r24;
	r27 = r27 + r28;
	r28 = r13 * r25;
	r27 = r27 + r28;
	r28 = r14 * r26;
	r27 = r27 + r28;
	r7->_13 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r15 * r23;
	r28 = r16 * r24;
	r27 = r27 + r28;
	r28 = r17 * r25;
	r27 = r27 + r28;
	r28 = r18 * r26;
	r27 = r27 + r28;
	r7->_23 = r27;
	r7 = r2->self;
	if( r7 == NULL ) hl_null_access();
	r27 = r19 * r23;
	r28 = r20 * r24;
	r27 = r27 + r28;
	r28 = r21 * r25;
	r27 = r27 + r28;
	r28 = r22 * r26;
	r27 = r27 + r28;
	r7->_33 = r27;
	if( r1 == NULL ) hl_null_access();
	r31 = r1->data;
	if( r31 == NULL ) hl_null_access();
	r30 = r31->raw;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->frustum_culling;
	r32 = r29 ? r29->v.b : 0;
	if( !r32 ) goto label$fbe494a_5_322;
	r33 = r0->frustumPlanes;
	if( r33 ) goto label$fbe494a_5_319;
	r35 = &$t_iron_object_FrustumPlane;
	r36 = 0;
	r34 = hl_alloc_array(r35,r36);
	r33 = hl_types_ArrayObj_alloc(r34);
	r0->frustumPlanes = r33;
	r33 = r0->frustumPlanes;
	if( r33 == NULL ) hl_null_access();
	r37 = (iron__object__FrustumPlane)hl_alloc_obj(&$t_iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r37);
	r36 = hl_types_ArrayObj_push(r33,((vdynamic*)r37));
	r33 = r0->frustumPlanes;
	if( r33 == NULL ) hl_null_access();
	r37 = (iron__object__FrustumPlane)hl_alloc_obj(&$t_iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r37);
	r36 = hl_types_ArrayObj_push(r33,((vdynamic*)r37));
	r33 = r0->frustumPlanes;
	if( r33 == NULL ) hl_null_access();
	r37 = (iron__object__FrustumPlane)hl_alloc_obj(&$t_iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r37);
	r36 = hl_types_ArrayObj_push(r33,((vdynamic*)r37));
	r33 = r0->frustumPlanes;
	if( r33 == NULL ) hl_null_access();
	r37 = (iron__object__FrustumPlane)hl_alloc_obj(&$t_iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r37);
	r36 = hl_types_ArrayObj_push(r33,((vdynamic*)r37));
	r33 = r0->frustumPlanes;
	if( r33 == NULL ) hl_null_access();
	r37 = (iron__object__FrustumPlane)hl_alloc_obj(&$t_iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r37);
	r36 = hl_types_ArrayObj_push(r33,((vdynamic*)r37));
	r33 = r0->frustumPlanes;
	if( r33 == NULL ) hl_null_access();
	r37 = (iron__object__FrustumPlane)hl_alloc_obj(&$t_iron_object_FrustumPlane);
	iron_object_FrustumPlane_new(r37);
	r36 = hl_types_ArrayObj_push(r33,((vdynamic*)r37));
	label$fbe494a_5_319:
	r2 = r0->VP;
	r33 = r0->frustumPlanes;
	iron_object_CameraObject_buildViewFrustum(r2,r33);
	label$fbe494a_5_322:
	return;
}

void iron_object_LightObject_setCubeFace(iron__object__LightObject r0,int r1,iron__object__CameraObject r2) {
	bool *r13;
	bool r11, r12;
	kha__math__FastMatrix4 r7;
	iron__math__Vec4 r3;
	iron__object__Transform r9;
	iron__math__Mat4 r8;
	float r6;
	double r10;
	iron__object__$LightObject r4;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->eye;
	if( r3 == NULL ) hl_null_access();
	r9 = r0->transform;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->world;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->self;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->_30;
	r3->x = r6;
	r9 = r0->transform;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->world;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->self;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->_31;
	r3->y = r6;
	r9 = r0->transform;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->world;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->self;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->_32;
	r3->z = r6;
	r10 = 1.;
	r6 = (float)r10;
	r3->w = r6;
	r11 = false;
	r8 = r0->V;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->eye;
	r12 = r11;
	r13 = &r12;
	iron_object_CameraObject_setCubeFace(r8,r3,r1,r13);
	iron_object_LightObject_updateViewFrustum(r0,r2);
	return;
}

kha__arrays__Float32ArrayPrivate iron_object_LightObject_getCascadeData(iron__object__LightObject r0) {
	hl__types__ArrayObj r8;
	kha__math__FastMatrix4 r15, r17;
	iron__object__$Uniforms r18;
	hl__types__ArrayBytes_Single r44;
	float r16, r23, r24, r25, r26, r27, r28, r29, r30, r31, r32, r33, r34, r35, r36, r37, r38, r39, r40, r41, r42, r43;
	iron__math__Mat4 r11, r13;
	kha__arrays__Float32ArrayPrivate r2;
	double r19, r20, r21, r22;
	vdynamic *r9;
	varray *r14;
	vbyte *r7;
	iron__object__$LightObject r4;
	int r3, r5, r6, r10, r12;
	r2 = r0->cascadeData;
	if( r2 ) goto label$fbe494a_7_16;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->cascadeCount;
	r5 = 16;
	r3 = r3 * r5;
	r5 = 4;
	r3 = r3 + r5;
	r2 = (kha__arrays__Float32ArrayPrivate)hl_alloc_obj(&$t_kha_arrays_Float32ArrayPrivate);
	kha_arrays_Float32ArrayPrivate_new(r2);
	r2->length = r3;
	r6 = 0;
	if( r6 >= r3 ) goto label$fbe494a_7_15;
	r7 = hl_kore_float32array_alloc(r3);
	r2->self = r7;
	label$fbe494a_7_15:
	r0->cascadeData = r2;
	label$fbe494a_7_16:
	r8 = r0->cascadeVP;
	if( r8 ) goto label$fbe494a_7_20;
	r2 = r0->cascadeData;
	return r2;
	label$fbe494a_7_20:
	r3 = 0;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r5 = r4->cascadeCount;
	label$fbe494a_7_23:
	if( r3 >= r5 ) goto label$fbe494a_7_779;
	r6 = r3;
	++r3;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	r8 = r0->cascadeVP;
	if( r8 == NULL ) hl_null_access();
	r12 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r12) ) goto label$fbe494a_7_35;
	r13 = NULL;
	goto label$fbe494a_7_38;
	label$fbe494a_7_35:
	r14 = r8->array;
	r9 = ((vdynamic**)(r14 + 1))[r6];
	r13 = (iron__math__Mat4)r9;
	label$fbe494a_7_38:
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	if( r13 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_00;
	r15->_00 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_01;
	r15->_01 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_02;
	r15->_02 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_03;
	r15->_03 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_10;
	r15->_10 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_11;
	r15->_11 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_12;
	r15->_12 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_13;
	r15->_13 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_20;
	r15->_20 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_21;
	r15->_21 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_22;
	r15->_22 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_23;
	r15->_23 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_30;
	r15->_30 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_31;
	r15->_31 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_32;
	r15->_32 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_33;
	r15->_33 = r16;
	r11 = r0->bias;
	r18 = (iron__object__$Uniforms)$g__iron_object_Uniforms;
	r13 = r18->biasMat;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	if( r13 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_00;
	r15->_00 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_01;
	r15->_01 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_02;
	r15->_02 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_03;
	r15->_03 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_10;
	r15->_10 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_11;
	r15->_11 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_12;
	r15->_12 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_13;
	r15->_13 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_20;
	r15->_20 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_21;
	r15->_21 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_22;
	r15->_22 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_23;
	r15->_23 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_30;
	r15->_30 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_31;
	r15->_31 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_32;
	r15->_32 = r16;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r13->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_33;
	r15->_33 = r16;
	r11 = r0->bias;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r11->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_00;
	r19 = (double)r16;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r10 = r4->cascadeCount;
	r20 = (double)r10;
	r19 = r19 / r20;
	r16 = (float)r19;
	r15->_00 = r16;
	r11 = r0->bias;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r11->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_30;
	r19 = (double)r16;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r10 = r4->cascadeCount;
	r20 = (double)r10;
	r19 = r19 / r20;
	r16 = (float)r19;
	r15->_30 = r16;
	r11 = r0->bias;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r17 = r11->self;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->_30;
	r19 = (double)r16;
	r20 = (double)r6;
	r21 = 1.;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r10 = r4->cascadeCount;
	r22 = (double)r10;
	r21 = r21 / r22;
	r20 = r20 * r21;
	r19 = r19 + r20;
	r16 = (float)r19;
	r15->_30 = r16;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	r13 = r0->bias;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_00;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r23 = r15->_01;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r24 = r15->_02;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r25 = r15->_03;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r26 = r15->_10;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r27 = r15->_11;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r28 = r15->_12;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r29 = r15->_13;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r30 = r15->_20;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r31 = r15->_21;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r32 = r15->_22;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r33 = r15->_23;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r34 = r15->_30;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r35 = r15->_31;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r36 = r15->_32;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r37 = r15->_33;
	if( r13 == NULL ) hl_null_access();
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r38 = r15->_00;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r39 = r15->_10;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r40 = r15->_20;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r41 = r15->_30;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r16 * r38;
	r43 = r23 * r39;
	r42 = r42 + r43;
	r43 = r24 * r40;
	r42 = r42 + r43;
	r43 = r25 * r41;
	r42 = r42 + r43;
	r15->_00 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r26 * r38;
	r43 = r27 * r39;
	r42 = r42 + r43;
	r43 = r28 * r40;
	r42 = r42 + r43;
	r43 = r29 * r41;
	r42 = r42 + r43;
	r15->_10 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r30 * r38;
	r43 = r31 * r39;
	r42 = r42 + r43;
	r43 = r32 * r40;
	r42 = r42 + r43;
	r43 = r33 * r41;
	r42 = r42 + r43;
	r15->_20 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r34 * r38;
	r43 = r35 * r39;
	r42 = r42 + r43;
	r43 = r36 * r40;
	r42 = r42 + r43;
	r43 = r37 * r41;
	r42 = r42 + r43;
	r15->_30 = r42;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r15->_01;
	r38 = r42;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r15->_11;
	r39 = r42;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r15->_21;
	r40 = r42;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r15->_31;
	r41 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r16 * r38;
	r43 = r23 * r39;
	r42 = r42 + r43;
	r43 = r24 * r40;
	r42 = r42 + r43;
	r43 = r25 * r41;
	r42 = r42 + r43;
	r15->_01 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r26 * r38;
	r43 = r27 * r39;
	r42 = r42 + r43;
	r43 = r28 * r40;
	r42 = r42 + r43;
	r43 = r29 * r41;
	r42 = r42 + r43;
	r15->_11 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r30 * r38;
	r43 = r31 * r39;
	r42 = r42 + r43;
	r43 = r32 * r40;
	r42 = r42 + r43;
	r43 = r33 * r41;
	r42 = r42 + r43;
	r15->_21 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r34 * r38;
	r43 = r35 * r39;
	r42 = r42 + r43;
	r43 = r36 * r40;
	r42 = r42 + r43;
	r43 = r37 * r41;
	r42 = r42 + r43;
	r15->_31 = r42;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r15->_02;
	r38 = r42;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r15->_12;
	r39 = r42;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r15->_22;
	r40 = r42;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r15->_32;
	r41 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r16 * r38;
	r43 = r23 * r39;
	r42 = r42 + r43;
	r43 = r24 * r40;
	r42 = r42 + r43;
	r43 = r25 * r41;
	r42 = r42 + r43;
	r15->_02 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r26 * r38;
	r43 = r27 * r39;
	r42 = r42 + r43;
	r43 = r28 * r40;
	r42 = r42 + r43;
	r43 = r29 * r41;
	r42 = r42 + r43;
	r15->_12 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r30 * r38;
	r43 = r31 * r39;
	r42 = r42 + r43;
	r43 = r32 * r40;
	r42 = r42 + r43;
	r43 = r33 * r41;
	r42 = r42 + r43;
	r15->_22 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r34 * r38;
	r43 = r35 * r39;
	r42 = r42 + r43;
	r43 = r36 * r40;
	r42 = r42 + r43;
	r43 = r37 * r41;
	r42 = r42 + r43;
	r15->_32 = r42;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r15->_03;
	r38 = r42;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r15->_13;
	r39 = r42;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r15->_23;
	r40 = r42;
	r15 = r13->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r15->_33;
	r41 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r16 * r38;
	r43 = r23 * r39;
	r42 = r42 + r43;
	r43 = r24 * r40;
	r42 = r42 + r43;
	r43 = r25 * r41;
	r42 = r42 + r43;
	r15->_03 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r26 * r38;
	r43 = r27 * r39;
	r42 = r42 + r43;
	r43 = r28 * r40;
	r42 = r42 + r43;
	r43 = r29 * r41;
	r42 = r42 + r43;
	r15->_13 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r30 * r38;
	r43 = r31 * r39;
	r42 = r42 + r43;
	r43 = r32 * r40;
	r42 = r42 + r43;
	r43 = r33 * r41;
	r42 = r42 + r43;
	r15->_23 = r42;
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r42 = r34 * r38;
	r43 = r35 * r39;
	r42 = r42 + r43;
	r43 = r36 * r40;
	r42 = r42 + r43;
	r43 = r37 * r41;
	r42 = r42 + r43;
	r15->_33 = r42;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_00;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_01;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 1;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_02;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 2;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_03;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 3;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_10;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 4;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_11;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 5;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_12;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 6;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_13;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 7;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_20;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 8;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_21;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 9;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_22;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 10;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_23;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 11;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_30;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 12;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_31;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 13;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_32;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 14;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r11 = r4->m;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->self;
	if( r15 == NULL ) hl_null_access();
	r16 = r15->_33;
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r12 = 16;
	r10 = r6 * r12;
	r12 = 15;
	r10 = r10 + r12;
	hl_kore_float32array_set(r7,r10,r16);
	goto label$fbe494a_7_23;
	label$fbe494a_7_779:
	r44 = r0->cascadeSplit;
	if( r44 == NULL ) hl_null_access();
	r3 = 0;
	r5 = r44->length;
	if( ((unsigned)r3) < ((unsigned)r5) ) goto label$fbe494a_7_786;
	r16 = 0.;
	goto label$fbe494a_7_790;
	label$fbe494a_7_786:
	r7 = r44->bytes;
	r5 = 2;
	r5 = r3 << r5;
	r16 = *(float*)(r7 + r5);
	label$fbe494a_7_790:
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->cascadeCount;
	r5 = 16;
	r3 = r3 * r5;
	hl_kore_float32array_set(r7,r3,r16);
	r44 = r0->cascadeSplit;
	if( r44 == NULL ) hl_null_access();
	r3 = 1;
	r5 = r44->length;
	if( ((unsigned)r3) < ((unsigned)r5) ) goto label$fbe494a_7_805;
	r16 = 0.;
	goto label$fbe494a_7_809;
	label$fbe494a_7_805:
	r7 = r44->bytes;
	r5 = 2;
	r5 = r3 << r5;
	r16 = *(float*)(r7 + r5);
	label$fbe494a_7_809:
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->cascadeCount;
	r5 = 16;
	r3 = r3 * r5;
	r5 = 1;
	r3 = r3 + r5;
	hl_kore_float32array_set(r7,r3,r16);
	r44 = r0->cascadeSplit;
	if( r44 == NULL ) hl_null_access();
	r3 = 2;
	r5 = r44->length;
	if( ((unsigned)r3) < ((unsigned)r5) ) goto label$fbe494a_7_826;
	r16 = 0.;
	goto label$fbe494a_7_830;
	label$fbe494a_7_826:
	r7 = r44->bytes;
	r5 = 2;
	r5 = r3 << r5;
	r16 = *(float*)(r7 + r5);
	label$fbe494a_7_830:
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->cascadeCount;
	r5 = 16;
	r3 = r3 * r5;
	r5 = 2;
	r3 = r3 + r5;
	hl_kore_float32array_set(r7,r3,r16);
	r44 = r0->cascadeSplit;
	if( r44 == NULL ) hl_null_access();
	r3 = 3;
	r5 = r44->length;
	if( ((unsigned)r3) < ((unsigned)r5) ) goto label$fbe494a_7_847;
	r16 = 0.;
	goto label$fbe494a_7_851;
	label$fbe494a_7_847:
	r7 = r44->bytes;
	r5 = 2;
	r5 = r3 << r5;
	r16 = *(float*)(r7 + r5);
	label$fbe494a_7_851:
	r2 = r0->cascadeData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->self;
	r4 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r3 = r4->cascadeCount;
	r5 = 16;
	r3 = r3 * r5;
	r5 = 3;
	r3 = r3 + r5;
	hl_kore_float32array_set(r7,r3,r16);
	r2 = r0->cascadeData;
	return r2;
}

void iron_object_LightObject_new(iron__object__LightObject r0,iron__data__LightData r1) {
	String r23, r26;
	iron__data__TLightData r24;
	hl__types__ArrayObj r2;
	hl_type *r29;
	iron__$Scene r43;
	iron__Scene r42;
	iron__math__Vec4 r31;
	kha__arrays__Float32ArrayPrivate r22;
	float r5, r6, r7, r8, r9, r10, r11, r12, r13, r14, r15, r16, r17, r18, r19, r20, r40, r41;
	iron__math__Mat4 r3;
	double r4, r37, r38, r39;
	vdynamic *r25, *r36;
	float *r32, *r33, *r34, *r35;
	int r30;
	varray *r28;
	iron__object__$LightObject r27;
	r2 = NULL;
	r0->frustumPlanes = r2;
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r4 = 1.;
	r5 = (float)r4;
	r4 = 0.;
	r6 = (float)r4;
	r4 = 0.;
	r7 = (float)r4;
	r4 = 0.;
	r8 = (float)r4;
	r4 = 0.;
	r9 = (float)r4;
	r4 = 1.;
	r10 = (float)r4;
	r4 = 0.;
	r11 = (float)r4;
	r4 = 0.;
	r12 = (float)r4;
	r4 = 0.;
	r13 = (float)r4;
	r4 = 0.;
	r14 = (float)r4;
	r4 = 1.;
	r15 = (float)r4;
	r4 = 0.;
	r16 = (float)r4;
	r4 = 0.;
	r17 = (float)r4;
	r4 = 0.;
	r18 = (float)r4;
	r4 = 0.;
	r19 = (float)r4;
	r4 = 1.;
	r20 = (float)r4;
	iron_math_Mat4_new(r3,r5,r6,r7,r8,r9,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20);
	r0->VP = r3;
	r3 = NULL;
	r0->P = r3;
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r4 = 1.;
	r5 = (float)r4;
	r4 = 0.;
	r6 = (float)r4;
	r4 = 0.;
	r7 = (float)r4;
	r4 = 0.;
	r8 = (float)r4;
	r4 = 0.;
	r9 = (float)r4;
	r4 = 1.;
	r10 = (float)r4;
	r4 = 0.;
	r11 = (float)r4;
	r4 = 0.;
	r12 = (float)r4;
	r4 = 0.;
	r13 = (float)r4;
	r4 = 0.;
	r14 = (float)r4;
	r4 = 1.;
	r15 = (float)r4;
	r4 = 0.;
	r16 = (float)r4;
	r4 = 0.;
	r17 = (float)r4;
	r4 = 0.;
	r18 = (float)r4;
	r4 = 0.;
	r19 = (float)r4;
	r4 = 1.;
	r20 = (float)r4;
	iron_math_Mat4_new(r3,r5,r6,r7,r8,r9,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20);
	r0->V = r3;
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r4 = 1.;
	r5 = (float)r4;
	r4 = 0.;
	r6 = (float)r4;
	r4 = 0.;
	r7 = (float)r4;
	r4 = 0.;
	r8 = (float)r4;
	r4 = 0.;
	r9 = (float)r4;
	r4 = 1.;
	r10 = (float)r4;
	r4 = 0.;
	r11 = (float)r4;
	r4 = 0.;
	r12 = (float)r4;
	r4 = 0.;
	r13 = (float)r4;
	r4 = 0.;
	r14 = (float)r4;
	r4 = 1.;
	r15 = (float)r4;
	r4 = 0.;
	r16 = (float)r4;
	r4 = 0.;
	r17 = (float)r4;
	r4 = 0.;
	r18 = (float)r4;
	r4 = 0.;
	r19 = (float)r4;
	r4 = 1.;
	r20 = (float)r4;
	iron_math_Mat4_new(r3,r5,r6,r7,r8,r9,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20);
	r0->bias = r3;
	r2 = NULL;
	r0->camSlicedP = r2;
	r22 = NULL;
	r0->cascadeData = r22;
	iron_object_Object_new(((iron__object__Object)r0));
	r0->data = r1;
	if( r1 == NULL ) hl_null_access();
	r24 = r1->raw;
	if( r24 == NULL ) hl_null_access();
	r23 = r24->type;
	r24 = r1->raw;
	if( r24 == NULL ) hl_null_access();
	r25 = r24->fov;
	r26 = (String)$s_sun;
	if( r23 != r26 && (!r23 || !r26 || String___compare(r23,(vdynamic*)r26) != 0) ) goto label$fbe494a_8_249;
	r27 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r27->corners;
	if( r2 ) goto label$fbe494a_8_213;
	r29 = &$t_iron_math_Vec4;
	r30 = 0;
	r28 = hl_alloc_array(r29,r30);
	r2 = hl_types_ArrayObj_alloc(r28);
	r27 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r27->corners = r2;
	r27 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r27->corners;
	if( r2 == NULL ) hl_null_access();
	r31 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	r35 = NULL;
	iron_math_Vec4_new(r31,r32,r33,r34,r35);
	r30 = hl_types_ArrayObj_push(r2,((vdynamic*)r31));
	r27 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r27->corners;
	if( r2 == NULL ) hl_null_access();
	r31 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	r35 = NULL;
	iron_math_Vec4_new(r31,r32,r33,r34,r35);
	r30 = hl_types_ArrayObj_push(r2,((vdynamic*)r31));
	r27 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r27->corners;
	if( r2 == NULL ) hl_null_access();
	r31 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	r35 = NULL;
	iron_math_Vec4_new(r31,r32,r33,r34,r35);
	r30 = hl_types_ArrayObj_push(r2,((vdynamic*)r31));
	r27 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r27->corners;
	if( r2 == NULL ) hl_null_access();
	r31 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	r35 = NULL;
	iron_math_Vec4_new(r31,r32,r33,r34,r35);
	r30 = hl_types_ArrayObj_push(r2,((vdynamic*)r31));
	r27 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r27->corners;
	if( r2 == NULL ) hl_null_access();
	r31 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	r35 = NULL;
	iron_math_Vec4_new(r31,r32,r33,r34,r35);
	r30 = hl_types_ArrayObj_push(r2,((vdynamic*)r31));
	r27 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r27->corners;
	if( r2 == NULL ) hl_null_access();
	r31 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	r35 = NULL;
	iron_math_Vec4_new(r31,r32,r33,r34,r35);
	r30 = hl_types_ArrayObj_push(r2,((vdynamic*)r31));
	r27 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r27->corners;
	if( r2 == NULL ) hl_null_access();
	r31 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	r35 = NULL;
	iron_math_Vec4_new(r31,r32,r33,r34,r35);
	r30 = hl_types_ArrayObj_push(r2,((vdynamic*)r31));
	r27 = (iron__object__$LightObject)$g__iron_object_LightObject;
	r2 = r27->corners;
	if( r2 == NULL ) hl_null_access();
	r31 = (iron__math__Vec4)hl_alloc_obj(&$t_iron_math_Vec4);
	r32 = NULL;
	r33 = NULL;
	r34 = NULL;
	r35 = NULL;
	iron_math_Vec4_new(r31,r32,r33,r34,r35);
	r30 = hl_types_ArrayObj_push(r2,((vdynamic*)r31));
	label$fbe494a_8_213:
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r4 = 1.;
	r5 = (float)r4;
	r4 = 0.;
	r6 = (float)r4;
	r4 = 0.;
	r7 = (float)r4;
	r4 = 0.;
	r8 = (float)r4;
	r4 = 0.;
	r9 = (float)r4;
	r4 = 1.;
	r10 = (float)r4;
	r4 = 0.;
	r11 = (float)r4;
	r4 = 0.;
	r12 = (float)r4;
	r4 = 0.;
	r13 = (float)r4;
	r4 = 0.;
	r14 = (float)r4;
	r4 = 1.;
	r15 = (float)r4;
	r4 = 0.;
	r16 = (float)r4;
	r4 = 0.;
	r17 = (float)r4;
	r4 = 0.;
	r18 = (float)r4;
	r4 = 0.;
	r19 = (float)r4;
	r4 = 1.;
	r20 = (float)r4;
	iron_math_Mat4_new(r3,r5,r6,r7,r8,r9,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20);
	r0->P = r3;
	goto label$fbe494a_8_378;
	label$fbe494a_8_249:
	r26 = (String)$s_point;
	if( r23 == r26 || (r23 && r26 && String___compare(r23,(vdynamic*)r26) == 0) ) goto label$fbe494a_8_253;
	r26 = (String)$s_area;
	if( r23 != r26 && (!r23 || !r26 || String___compare(r23,(vdynamic*)r26) != 0) ) goto label$fbe494a_8_315;
	label$fbe494a_8_253:
	r24 = r1->raw;
	if( r24 == NULL ) hl_null_access();
	r36 = r24->near_plane;
	r5 = r36 ? r36->v.f : 0;
	r24 = r1->raw;
	if( r24 == NULL ) hl_null_access();
	r36 = r24->far_plane;
	r6 = r36 ? r36->v.f : 0;
	r4 = 1.;
	r7 = r25 ? r25->v.f : 0;
	r37 = (double)r7;
	r38 = 2.;
	r37 = r37 / r38;
	r37 = hl_math_tan(r37);
	r4 = r4 / r37;
	r38 = 1.;
	r37 = r4 / r38;
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r7 = (float)r37;
	r30 = 0;
	r8 = (float)r30;
	r30 = 0;
	r9 = (float)r30;
	r30 = 0;
	r10 = (float)r30;
	r30 = 0;
	r11 = (float)r30;
	r12 = (float)r4;
	r30 = 0;
	r13 = (float)r30;
	r30 = 0;
	r14 = (float)r30;
	r30 = 0;
	r15 = (float)r30;
	r30 = 0;
	r16 = (float)r30;
	r17 = r6 + r5;
	r38 = (double)r17;
	r17 = r5 - r6;
	r39 = (double)r17;
	r38 = r38 / r39;
	r17 = (float)r38;
	r30 = 2;
	r18 = (float)r30;
	r18 = r18 * r6;
	r18 = r18 * r5;
	r38 = (double)r18;
	r18 = r5 - r6;
	r39 = (double)r18;
	r38 = r38 / r39;
	r18 = (float)r38;
	r30 = 0;
	r19 = (float)r30;
	r30 = 0;
	r20 = (float)r30;
	r30 = -1;
	r40 = (float)r30;
	r30 = 0;
	r41 = (float)r30;
	iron_math_Mat4_new(r3,r7,r8,r9,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20,r40,r41);
	r0->P = r3;
	goto label$fbe494a_8_378;
	label$fbe494a_8_315:
	r26 = (String)$s_spot;
	if( r23 != r26 && (!r23 || !r26 || String___compare(r23,(vdynamic*)r26) != 0) ) goto label$fbe494a_8_378;
	r24 = r1->raw;
	if( r24 == NULL ) hl_null_access();
	r36 = r24->near_plane;
	r5 = r36 ? r36->v.f : 0;
	r24 = r1->raw;
	if( r24 == NULL ) hl_null_access();
	r36 = r24->far_plane;
	r6 = r36 ? r36->v.f : 0;
	r4 = 1.;
	r7 = r25 ? r25->v.f : 0;
	r37 = (double)r7;
	r38 = 2.;
	r37 = r37 / r38;
	r37 = hl_math_tan(r37);
	r4 = r4 / r37;
	r38 = 1.;
	r37 = r4 / r38;
	r3 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r7 = (float)r37;
	r30 = 0;
	r8 = (float)r30;
	r30 = 0;
	r9 = (float)r30;
	r30 = 0;
	r10 = (float)r30;
	r30 = 0;
	r11 = (float)r30;
	r12 = (float)r4;
	r30 = 0;
	r13 = (float)r30;
	r30 = 0;
	r14 = (float)r30;
	r30 = 0;
	r15 = (float)r30;
	r30 = 0;
	r16 = (float)r30;
	r17 = r6 + r5;
	r38 = (double)r17;
	r17 = r5 - r6;
	r39 = (double)r17;
	r38 = r38 / r39;
	r17 = (float)r38;
	r30 = 2;
	r18 = (float)r30;
	r18 = r18 * r6;
	r18 = r18 * r5;
	r38 = (double)r18;
	r18 = r5 - r6;
	r39 = (double)r18;
	r38 = r38 / r39;
	r18 = (float)r38;
	r30 = 0;
	r19 = (float)r30;
	r30 = 0;
	r20 = (float)r30;
	r30 = -1;
	r40 = (float)r30;
	r30 = 0;
	r41 = (float)r30;
	iron_math_Mat4_new(r3,r7,r8,r9,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20,r40,r41);
	r0->P = r3;
	label$fbe494a_8_378:
	r43 = (iron__$Scene)$g__iron_Scene;
	r42 = r43->active;
	if( r42 == NULL ) hl_null_access();
	r2 = r42->lights;
	if( r2 == NULL ) hl_null_access();
	r30 = hl_types_ArrayObj_push(r2,((vdynamic*)r0));
	return;
}

