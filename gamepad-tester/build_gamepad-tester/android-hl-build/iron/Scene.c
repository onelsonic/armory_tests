// Generated by HLC 4.0.0 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <iron/Scene.h>
#include <haxe/Log.h>
extern iron__$Scene $g__iron_Scene;
extern haxe__$Log $g__haxe_Log;
extern String $s_No_camera_found_for_scene_;
String String___add__(String,String);
extern String $s_b15835f;
extern hl_type $t_vrt_329ffa8;
extern String $s_Sources_iron_Scene_hx;
extern hl_type $t_String;
extern hl_type $t_i32;
extern String $s_iron_Scene;
extern String $s_create;
extern hl_type $t_vrt_eaa6a3b;
iron__object__CameraObject iron_Scene_getCamera(iron__Scene,String);
extern hl_type $t_fun_7b48b4f;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
extern hl_type $t_fun_39da79b;
void iron_Scene_addScene(iron__Scene,String,iron__object__Object,vclosure*);
extern hl_type $t_iron_Scene;
void iron_Scene_new(iron__Scene);
extern hl_type $t_ctx_b88e235;
extern hl_type $t_fun_caaea87;
void iron_data_Data_getWorld(String,String,vclosure*);
#include <iron/object/MeshObject.h>
#include <iron/object/LightObject.h>
#include <iron/object/SpeakerObject.h>
void iron_object_MeshObject_remove(iron__object__MeshObject);
void iron_object_LightObject_remove(iron__object__LightObject);
void iron_object_CameraObject_remove(iron__object__CameraObject);
void iron_object_SpeakerObject_remove(iron__object__SpeakerObject);
extern hl_type $t_fun_faf3c0d;
extern hl_type $t_fun_1f578c9;
void iron_data_Data_getSceneRaw(String,vclosure*);
#include <iron/object/Animation.h>
#include <iron/system/Time.h>
extern iron__system__$Time $g__iron_system_Time;
void iron_object_Transform_update(iron__object__Transform);
#include <kha/graphics4/VertexBuffer.h>
#include <kha/Image.h>
#include <kha/graphics4/PipelineState.h>
#include <kha/math/FastMatrix3.h>
#include <kha/math/FastMatrix4.h>
#include <kha/graphics4/IndexBuffer.h>
#include <kha/arrays/Float32ArrayPrivate.h>
#include <kha/graphics4/CubeMap.h>
#include <iron/RenderPath.h>
extern iron__$RenderPath $g__iron_RenderPath;
void iron_object_CameraObject_renderFrame(iron__object__CameraObject,vvirtual*);
void iron_RenderPath_renderFrame(iron__RenderPath,vvirtual*);
extern hl_type $t_iron_object_Object;
void iron_object_Object_new(iron__object__Object);
void iron_object_Object_addChild(iron__object__Object,iron__object__Object,bool*);
iron__object__Object iron_object_Object_getChild(iron__object__Object,String);
#include <iron/Trait.h>
iron__Trait iron_object_Object_getTrait(iron__object__Object,hl__Class);
int String___compare(String,vdynamic*);
#include <iron/data/MeshData.h>
extern hl_type $t_iron_object_MeshObject;
void iron_object_MeshObject_new(iron__object__MeshObject,iron__data__MeshData,hl__types__ArrayObj);
#include <iron/data/LightData.h>
extern hl_type $t_iron_object_LightObject;
void iron_object_LightObject_new(iron__object__LightObject,iron__data__LightData);
#include <iron/data/CameraData.h>
extern hl_type $t_iron_object_CameraObject;
void iron_object_CameraObject_new(iron__object__CameraObject,iron__data__CameraData);
#include <iron/data/TSpeakerData.h>
extern hl_type $t_iron_object_SpeakerObject;
void iron_object_SpeakerObject_new(iron__object__SpeakerObject,iron__data__TSpeakerData);
void hl_types_ArrayBytes_Int___expand(hl__types__ArrayBytes_Int,int);
extern hl_type $t_ctx_7165f68;
extern hl_type $t_fun_7a0ef80;
void iron_Scene_createObject(iron__Scene,iron__data__TObj,iron__data__TSceneFormat,iron__object__Object,iron__data__TObj,vclosure*);
hl__types__ArrayBytes_Int hl_types_ArrayBase_allocI32(vbyte*,int);
int iron_Scene_getObjectsCount(iron__Scene,hl__types__ArrayObj,bool*);
extern hl_type $t_fun_0653f26;
extern hl_type $t_ctx_4df65cd;
extern hl_type $t_fun_12a8cdf;
void hl_types_ArrayObj___expand(hl__types__ArrayObj,int);
extern hl_type $t_fun_3956bee;
void iron_Scene_createTraits(hl__types__ArrayObj,iron__object__Object);
extern hl_type $t_ctx_cdff214;
void iron_Scene_loadEmbeddedData(iron__Scene,hl__types__ArrayObj,vclosure*);
extern hl_type $t_ctx_fbd2a35;
extern hl_type $t_fun_2dc7f4f;
extern hl_type $t_ctx_162fc66;
extern hl_type $t_fun_8ffff2e;
iron__data__TObj iron_Scene_getObj(iron__data__TSceneFormat,String);
extern hl_type $t_iron_data_TObj;
extern hl_type $t_fun_013d2ac;
extern hl_type $t_ctx_5de6072;
extern hl_type $t_fun_033c1e3;
iron__data__TObj iron_Scene_traverseObjs(hl__types__ArrayObj,String);
void iron_Scene_returnObject(iron__Scene,iron__object__Object,iron__data__TObj,vclosure*);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
extern String $s_5058f1a;
String String___alloc__(vbyte*,int);
extern hl_type $t_iron_data_Armature;
void iron_data_Armature_new(iron__data__Armature,int,String,hl__types__ArrayObj);
void iron_Scene_returnMeshObject(iron__Scene,String,String,String,iron__data__Armature,hl__types__ArrayObj,iron__object__Object,iron__data__TObj,vclosure*);
#include <iron/data/MaterialData.h>
extern String $s_6666cd7;
hl__types__ArrayObj String_split(String,String);
extern String $s_;
extern hl_type $t_iron_data_TSceneFormat;
extern hl_type $t_ctx_08ff263;
extern hl_type $t_fun_de865c1;
hl__types__ArrayObj iron_Scene_getGroupObjectRefs(iron__Scene,String);
extern hl_type $t_ctx_a5ec823;
extern hl_type $t_fun_2e84d18;
extern String $s_camera_object;
extern hl_type $t_ctx_a119f26;
extern hl_type $t_fun_b2758f4;
void iron_data_Data_getCamera(String,String,vclosure*);
extern String $s_light_object;
extern hl_type $t_fun_8fbee41;
void iron_data_Data_getLight(String,String,vclosure*);
extern String $s_mesh_object;
extern hl_type $t_iron_data_MaterialData;
extern hl_type $t_dyn;
extern hl_type $t_ctx_a0cb5a1;
extern hl_type $t_fun_5027319;
void iron_data_Data_getMaterial(String,String,vclosure*);
extern String $s_speaker_object;
iron__data__TSpeakerData iron_data_Data_getSpeakerRawByName(hl__types__ArrayObj,String);
extern String $s_object;
extern hl_type $t_ctx_1b2e85d;
extern hl_type $t_fun_f2147dc;
#include <iron/data/TGroup.h>
#include <iron/data/Geometry.h>
#include <iron/data/TParticleReference.h>
void iron_data_Geometry_addArmature(iron__data__Geometry,iron__data__Armature);
extern String $s_none;
void iron_data_Geometry_addAction(iron__data__Geometry,hl__types__ArrayObj,String);
void iron_object_MeshObject_setupParticleSystem(iron__object__MeshObject,String,iron__data__TParticleReference);
void iron_object_MeshObject_setupTilesheet(iron__object__MeshObject,String,String,String);
extern hl_type $t_ctx_4787021;
extern hl_type $t_fun_72bab18;
void iron_data_Data_getMesh(String,String,vclosure*);
void iron_Scene_returnObjectLoaded(iron__Scene,iron__object__Object,iron__data__TObj,hl__types__ArrayObj,vclosure*);
extern String $s_null;
extern hl_type $t_ctx_8aa5291;
extern hl_type $t_fun_c7c3a3e;
#include <iron/data/TProperty.h>
void iron_Scene_createConstraints(hl__types__ArrayObj,iron__object__Object);
void iron_Scene_generateTransform(iron__data__TObj,iron__object__Transform);
extern hl_type $t_haxe_ds_StringMap;
void haxe_ds_StringMap_new(haxe__ds__StringMap);
void haxe_ds_StringMap_set(haxe__ds__StringMap,String,vdynamic*);
#include <iron/data/TTransform.h>
#include <iron/math/Mat4.h>
#include <iron/math/Vec4.h>
#include <iron/math/Quat.h>
extern hl_type $t_iron_math_Mat4;
void iron_math_Mat4_new(iron__math__Mat4,float,float,float,float,float,float,float,float,float,float,float,float,float,float,float,float);
extern iron__math__$Mat4 $g__iron_math_Mat4;
#include <iron/data/TTrait.h>
extern String $s_Script;
#include <hl/types/ArrayBase.h>
hl__types__ArrayDyn hl_types_ArrayDyn_alloc(hl__types__ArrayBase,bool*);
vdynamic* iron_Scene_parseArg(String);
int hl_types_ArrayDyn_push(hl__types__ArrayDyn,vdynamic*);
vdynamic* iron_Scene_createTraitClassInstance(String,hl__types__ArrayDyn);
extern hl_type $t_iron_Trait;
extern String $s_Error_Trait_;
extern String $s__referenced_in_object_;
extern String $s__not_found;
extern String $s_createTraits;
void Reflect_setProperty(vdynamic*,String,vdynamic*);
void iron_object_Object_addTrait(iron__object__Object,iron__Trait);
extern String $s_true;
extern String $s_false;
String String_charAt(String,int);
extern String $s_3590cb8;
String StringTools_replace(String,String,String);
extern String $s_8154172;
extern String $s_0fbd177;
extern String $s_7215ee9;
extern String $s_c0cb5f0;
double Std_parseFloat(String);
vdynamic* Std_parseInt(String);
extern hl_type $t_f64;
#include <iron/data/TConstraint.h>
#include <iron/object/Constraint.h>
extern hl_type $t_iron_object_Constraint;
void iron_object_Constraint_new(iron__object__Constraint,iron__data__TConstraint);
hl__Class Type_resolveClass(String);
vdynamic* Type_createInstance(hl__Class,hl__types__ArrayDyn);
extern hl_type $t_ctx_f5a6c69;
extern hl_type $t_fun_790c618;
void iron_Scene_embedData(iron__Scene,String,vclosure*);
#include <kha/internal/BytesBlob.h>
#include <haxe/io/Bytes.h>
haxe__io__Bytes kha_internal_BytesBlob_toBytes(kha__internal__BytesBlob);
kha__Image kha_Image_fromBytes3D(haxe__io__Bytes,int,int,int,vdynamic*,vdynamic*);
extern String $s__raw;
bool StringTools_endsWith(String,String);
extern hl_type $t_ctx_d0fbc4f;
extern hl_type $t_fun_6f0f4f7;
void iron_data_Data_getBlob(String,vclosure*);
extern hl_type $t_fun_b37a54b;
void iron_data_Data_getImage(String,vclosure*,bool*,String);
extern hl_type $t_iron_object_Animation;
extern String $s_Root;

void iron_Scene_create__$2(venum* r0,iron__object__Object r1) {
	String r10, r11;
	vvirtual *r13, *r15;
	hl__types__ArrayObj r4;
	hl_type *r22;
	bool r18;
	iron__$Scene r6;
	iron__Scene r5, r17;
	haxe__$Log r9;
	iron__data__TSceneFormat r12;
	iron__object__CameraObject r16;
	vclosure *r8, *r20, *r23;
	vdynamic *r14;
	varray *r21;
	int r3, r7, r19;
	r6 = (iron__$Scene)$g__iron_Scene;
	r5 = r6->active;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->cameras;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->length;
	r7 = 0;
	if( r3 != r7 ) goto label$996775c_1_29;
	r9 = (haxe__$Log)$g__haxe_Log;
	r8 = r9->trace;
	if( r8 == NULL ) hl_null_access();
	r10 = (String)$s_No_camera_found_for_scene_;
	r12 = ((Enum$t_ctx_b88e235*)r0)->p0;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->name;
	r10 = String___add__(r10,r11);
	r11 = (String)$s_b15835f;
	r10 = String___add__(r10,r11);
	r13 = hl_alloc_virtual(&$t_vrt_329ffa8);
	r11 = (String)$s_Sources_iron_Scene_hx;
	if( hl_vfields(r13)[1] ) *(String*)(hl_vfields(r13)[1]) = (String)r11; else hl_dyn_setp(r13->value,37969014/*fileName*/,&$t_String,r11);
	r3 = 125;
	if( hl_vfields(r13)[2] ) *(int*)(hl_vfields(r13)[2]) = (int)r3; else hl_dyn_seti(r13->value,371360620/*lineNumber*/,&$t_i32,r3);
	r11 = (String)$s_iron_Scene;
	if( hl_vfields(r13)[0] ) *(String*)(hl_vfields(r13)[0]) = (String)r11; else hl_dyn_setp(r13->value,-63073762/*className*/,&$t_String,r11);
	r11 = (String)$s_create;
	if( hl_vfields(r13)[3] ) *(String*)(hl_vfields(r13)[3]) = (String)r11; else hl_dyn_setp(r13->value,302979532/*methodName*/,&$t_String,r11);
	r15 = hl_to_virtual(&$t_vrt_eaa6a3b,(vdynamic*)r13);
	r8->hasValue ? ((void (*)(vdynamic*,vdynamic*,vvirtual*))r8->fun)((vdynamic*)r8->value,((vdynamic*)r10),r15) : ((void (*)(vdynamic*,vvirtual*))r8->fun)(((vdynamic*)r10),r15);
	label$996775c_1_29:
	r6 = (iron__$Scene)$g__iron_Scene;
	r5 = r6->active;
	if( r5 == NULL ) hl_null_access();
	r6 = (iron__$Scene)$g__iron_Scene;
	r17 = r6->active;
	if( r17 == NULL ) hl_null_access();
	r12 = ((Enum$t_ctx_b88e235*)r0)->p0;
	if( r12 == NULL ) hl_null_access();
	r10 = r12->camera_ref;
	r16 = iron_Scene_getCamera(r17,r10);
	r5->camera = r16;
	r6 = (iron__$Scene)$g__iron_Scene;
	r5 = r6->active;
	if( r5 == NULL ) hl_null_access();
	r18 = true;
	r5->ready = r18;
	r3 = 0;
	r6 = (iron__$Scene)$g__iron_Scene;
	r5 = r6->active;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->traitInits;
	label$996775c_1_50:
	if( r4 == NULL ) hl_null_access();
	r19 = r4->length;
	if( r3 >= r19 ) goto label$996775c_1_65;
	r19 = r4->length;
	if( ((unsigned)r3) < ((unsigned)r19) ) goto label$996775c_1_58;
	r20 = NULL;
	goto label$996775c_1_61;
	label$996775c_1_58:
	r21 = r4->array;
	r14 = ((vdynamic**)(r21 + 1))[r3];
	r20 = (vclosure*)r14;
	label$996775c_1_61:
	++r3;
	if( r20 == NULL ) hl_null_access();
	r20->hasValue ? ((void (*)(vdynamic*))r20->fun)((vdynamic*)r20->value) : ((void (*)(void))r20->fun)();
	goto label$996775c_1_50;
	label$996775c_1_65:
	r6 = (iron__$Scene)$g__iron_Scene;
	r5 = r6->active;
	if( r5 == NULL ) hl_null_access();
	r22 = &$t_fun_7b48b4f;
	r3 = 0;
	r21 = hl_alloc_array(r22,r3);
	r4 = hl_types_ArrayObj_alloc(r21);
	r5->traitInits = r4;
	r6 = (iron__$Scene)$g__iron_Scene;
	r5 = r6->active;
	if( r5 == NULL ) hl_null_access();
	r5->sceneParent = r1;
	r23 = ((Enum$t_ctx_b88e235*)r0)->p1;
	if( r23 == NULL ) hl_null_access();
	r23->hasValue ? ((void (*)(vdynamic*,iron__object__Object))r23->fun)((vdynamic*)r23->value,r1) : ((void (*)(iron__object__Object))r23->fun)(r1);
	return;
}

void iron_Scene_create__$1(venum* r0,iron__data__WorldData r1) {
	String r5;
	iron__$Scene r3;
	iron__Scene r2;
	iron__data__TSceneFormat r6;
	vclosure *r8;
	iron__object__Object r7;
	r3 = (iron__$Scene)$g__iron_Scene;
	r2 = r3->active;
	if( r2 == NULL ) hl_null_access();
	r2->world = r1;
	r3 = (iron__$Scene)$g__iron_Scene;
	r2 = r3->active;
	if( r2 == NULL ) hl_null_access();
	r6 = ((Enum$t_ctx_b88e235*)r0)->p0;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->name;
	r7 = NULL;
	r8 = hl_alloc_closure_ptr(&$t_fun_39da79b,iron_Scene_create__$2,r0);
	iron_Scene_addScene(r2,r5,r7,r8);
	return;
}

void iron_Scene_create(iron__data__TSceneFormat r0,vclosure* r1) {
	String r6, r7;
	venum *r9;
	bool r5;
	iron__$Scene r4;
	iron__Scene r2;
	vclosure *r8;
	r2 = (iron__Scene)hl_alloc_obj(&$t_iron_Scene);
	iron_Scene_new(r2);
	r4 = (iron__$Scene)$g__iron_Scene;
	r4->active = r2;
	r4 = (iron__$Scene)$g__iron_Scene;
	r2 = r4->active;
	if( r2 == NULL ) hl_null_access();
	r5 = false;
	r2->ready = r5;
	r4 = (iron__$Scene)$g__iron_Scene;
	r2 = r4->active;
	if( r2 == NULL ) hl_null_access();
	r2->raw = r0;
	if( r0 == NULL ) hl_null_access();
	r6 = r0->name;
	r7 = r0->world_ref;
	r9 = hl_alloc_enum(&$t_ctx_b88e235,0);
	((Enum$t_ctx_b88e235*)r9)->p0 = (iron__data__TSceneFormat)r0;
	((Enum$t_ctx_b88e235*)r9)->p1 = (vclosure*)r1;
	r8 = hl_alloc_closure_ptr(&$t_fun_caaea87,iron_Scene_create__$1,r9);
	iron_data_Data_getWorld(r6,r7,r8);
	return;
}

void iron_Scene_remove(iron__Scene r0) {
	iron__object__MeshObject r8;
	haxe__ds__StringMap r13;
	iron__object__SpeakerObject r11;
	hl__types__ArrayObj r3;
	iron__object__LightObject r9;
	iron__object__CameraObject r10;
	vclosure *r5;
	iron__object__Object r12;
	vdynamic *r6;
	varray *r7;
	int r1, r4;
	r1 = 0;
	r3 = r0->traitRemoves;
	label$996775c_4_2:
	if( r3 == NULL ) hl_null_access();
	r4 = r3->length;
	if( r1 >= r4 ) goto label$996775c_4_17;
	r4 = r3->length;
	if( ((unsigned)r1) < ((unsigned)r4) ) goto label$996775c_4_10;
	r5 = NULL;
	goto label$996775c_4_13;
	label$996775c_4_10:
	r7 = r3->array;
	r6 = ((vdynamic**)(r7 + 1))[r1];
	r5 = (vclosure*)r6;
	label$996775c_4_13:
	++r1;
	if( r5 == NULL ) hl_null_access();
	r5->hasValue ? ((void (*)(vdynamic*))r5->fun)((vdynamic*)r5->value) : ((void (*)(void))r5->fun)();
	goto label$996775c_4_2;
	label$996775c_4_17:
	r1 = 0;
	r3 = r0->meshes;
	label$996775c_4_19:
	if( r3 == NULL ) hl_null_access();
	r4 = r3->length;
	if( r1 >= r4 ) goto label$996775c_4_34;
	r4 = r3->length;
	if( ((unsigned)r1) < ((unsigned)r4) ) goto label$996775c_4_27;
	r8 = NULL;
	goto label$996775c_4_30;
	label$996775c_4_27:
	r7 = r3->array;
	r6 = ((vdynamic**)(r7 + 1))[r1];
	r8 = (iron__object__MeshObject)r6;
	label$996775c_4_30:
	++r1;
	if( r8 == NULL ) hl_null_access();
	iron_object_MeshObject_remove(r8);
	goto label$996775c_4_19;
	label$996775c_4_34:
	r1 = 0;
	r3 = r0->lights;
	label$996775c_4_36:
	if( r3 == NULL ) hl_null_access();
	r4 = r3->length;
	if( r1 >= r4 ) goto label$996775c_4_51;
	r4 = r3->length;
	if( ((unsigned)r1) < ((unsigned)r4) ) goto label$996775c_4_44;
	r9 = NULL;
	goto label$996775c_4_47;
	label$996775c_4_44:
	r7 = r3->array;
	r6 = ((vdynamic**)(r7 + 1))[r1];
	r9 = (iron__object__LightObject)r6;
	label$996775c_4_47:
	++r1;
	if( r9 == NULL ) hl_null_access();
	iron_object_LightObject_remove(r9);
	goto label$996775c_4_36;
	label$996775c_4_51:
	r1 = 0;
	r3 = r0->cameras;
	label$996775c_4_53:
	if( r3 == NULL ) hl_null_access();
	r4 = r3->length;
	if( r1 >= r4 ) goto label$996775c_4_68;
	r4 = r3->length;
	if( ((unsigned)r1) < ((unsigned)r4) ) goto label$996775c_4_61;
	r10 = NULL;
	goto label$996775c_4_64;
	label$996775c_4_61:
	r7 = r3->array;
	r6 = ((vdynamic**)(r7 + 1))[r1];
	r10 = (iron__object__CameraObject)r6;
	label$996775c_4_64:
	++r1;
	if( r10 == NULL ) hl_null_access();
	iron_object_CameraObject_remove(r10);
	goto label$996775c_4_53;
	label$996775c_4_68:
	r1 = 0;
	r3 = r0->speakers;
	label$996775c_4_70:
	if( r3 == NULL ) hl_null_access();
	r4 = r3->length;
	if( r1 >= r4 ) goto label$996775c_4_85;
	r4 = r3->length;
	if( ((unsigned)r1) < ((unsigned)r4) ) goto label$996775c_4_78;
	r11 = NULL;
	goto label$996775c_4_81;
	label$996775c_4_78:
	r7 = r3->array;
	r6 = ((vdynamic**)(r7 + 1))[r1];
	r11 = (iron__object__SpeakerObject)r6;
	label$996775c_4_81:
	++r1;
	if( r11 == NULL ) hl_null_access();
	iron_object_SpeakerObject_remove(r11);
	goto label$996775c_4_70;
	label$996775c_4_85:
	r1 = 0;
	r3 = r0->empties;
	label$996775c_4_87:
	if( r3 == NULL ) hl_null_access();
	r4 = r3->length;
	if( r1 >= r4 ) goto label$996775c_4_102;
	r4 = r3->length;
	if( ((unsigned)r1) < ((unsigned)r4) ) goto label$996775c_4_95;
	r12 = NULL;
	goto label$996775c_4_98;
	label$996775c_4_95:
	r7 = r3->array;
	r6 = ((vdynamic**)(r7 + 1))[r1];
	r12 = (iron__object__Object)r6;
	label$996775c_4_98:
	++r1;
	if( r12 == NULL ) hl_null_access();
	((void (*)(iron__object__Object))r12->$type->vobj_proto[0])(r12);
	goto label$996775c_4_87;
	label$996775c_4_102:
	r13 = NULL;
	r0->groups = r13;
	r12 = r0->root;
	if( r12 == NULL ) hl_null_access();
	((void (*)(iron__object__Object))r12->$type->vobj_proto[0])(r12);
	return;
}

void iron_Scene_setActive__$2(vclosure* r0,iron__object__Object r1) {
	if( !r0 ) goto label$996775c_5_3;
	if( r0 == NULL ) hl_null_access();
	r0->hasValue ? ((void (*)(vdynamic*,iron__object__Object))r0->fun)((vdynamic*)r0->value,r1) : ((void (*)(iron__object__Object))r0->fun)(r1);
	label$996775c_5_3:
	return;
}

void iron_Scene_setActive__$1(vclosure* r0,iron__data__TSceneFormat r1) {
	vclosure *r3;
	r3 = hl_alloc_closure_ptr(&$t_fun_faf3c0d,iron_Scene_setActive__$2,r0);
	iron_Scene_create(r1,r3);
	return;
}

void iron_Scene_setActive(String r0,vclosure* r1) {
	iron__Scene r5;
	iron__$Scene r4;
	bool r3;
	vclosure *r6;
	r4 = (iron__$Scene)$g__iron_Scene;
	r3 = r4->framePassed;
	if( r3 ) goto label$996775c_7_4;
	return;
	label$996775c_7_4:
	r3 = false;
	r4 = (iron__$Scene)$g__iron_Scene;
	r4->framePassed = r3;
	r4 = (iron__$Scene)$g__iron_Scene;
	r5 = r4->active;
	if( !r5 ) goto label$996775c_7_14;
	r4 = (iron__$Scene)$g__iron_Scene;
	r5 = r4->active;
	if( r5 == NULL ) hl_null_access();
	iron_Scene_remove(r5);
	label$996775c_7_14:
	r6 = hl_alloc_closure_ptr(&$t_fun_1f578c9,iron_Scene_setActive__$1,r1);
	iron_data_Data_getSceneRaw(r0,r6);
	return;
}

void iron_Scene_updateFrame(iron__Scene r0) {
	hl__types__ArrayObj r5;
	bool r2;
	iron__object__Transform r15;
	float r12;
	double r9, r10;
	iron__object__Object r13, r14;
	vdynamic *r3;
	iron__system__$Time r11;
	varray *r8;
	iron__object__Animation r7;
	int r4, r6;
	r2 = r0->ready;
	if( r2 ) goto label$996775c_8_3;
	return;
	label$996775c_8_3:
	r4 = 0;
	r5 = r0->animations;
	label$996775c_8_5:
	if( r5 == NULL ) hl_null_access();
	r6 = r5->length;
	if( r4 >= r6 ) goto label$996775c_8_25;
	r6 = r5->length;
	if( ((unsigned)r4) < ((unsigned)r6) ) goto label$996775c_8_13;
	r7 = NULL;
	goto label$996775c_8_16;
	label$996775c_8_13:
	r8 = r5->array;
	r3 = ((vdynamic**)(r8 + 1))[r4];
	r7 = (iron__object__Animation)r3;
	label$996775c_8_16:
	++r4;
	if( r7 == NULL ) hl_null_access();
	r9 = 0.016666666666666666;
	r11 = (iron__system__$Time)$g__iron_system_Time;
	r10 = r11->scale;
	r9 = r9 * r10;
	r12 = (float)r9;
	((void (*)(iron__object__Animation,float))r7->$type->vobj_proto[1])(r7,r12);
	goto label$996775c_8_5;
	label$996775c_8_25:
	r4 = 0;
	r5 = r0->empties;
	label$996775c_8_27:
	if( r5 == NULL ) hl_null_access();
	r6 = r5->length;
	if( r4 >= r6 ) goto label$996775c_8_47;
	r6 = r5->length;
	if( ((unsigned)r4) < ((unsigned)r6) ) goto label$996775c_8_35;
	r13 = NULL;
	goto label$996775c_8_38;
	label$996775c_8_35:
	r8 = r5->array;
	r3 = ((vdynamic**)(r8 + 1))[r4];
	r13 = (iron__object__Object)r3;
	label$996775c_8_38:
	++r4;
	if( !r13 ) goto label$996775c_8_46;
	if( r13 == NULL ) hl_null_access();
	r14 = r13->parent;
	if( !r14 ) goto label$996775c_8_46;
	r15 = r13->transform;
	if( r15 == NULL ) hl_null_access();
	iron_object_Transform_update(r15);
	label$996775c_8_46:
	goto label$996775c_8_27;
	label$996775c_8_47:
	return;
}

void iron_Scene_renderFrame(iron__Scene r0,vvirtual* r1) {
	iron__$RenderPath r5;
	iron__$Scene r6;
	bool r3;
	iron__object__CameraObject r7;
	iron__RenderPath r4;
	r3 = r0->ready;
	if( !r3 ) goto label$996775c_9_5;
	r5 = (iron__$RenderPath)$g__iron_RenderPath;
	r4 = r5->active;
	if( r4 ) goto label$996775c_9_6;
	label$996775c_9_5:
	return;
	label$996775c_9_6:
	r3 = true;
	r6 = (iron__$Scene)$g__iron_Scene;
	r6->framePassed = r3;
	r7 = r0->camera;
	if( !r7 ) goto label$996775c_9_15;
	r7 = r0->camera;
	if( r7 == NULL ) hl_null_access();
	iron_object_CameraObject_renderFrame(r7,r1);
	goto label$996775c_9_19;
	label$996775c_9_15:
	r5 = (iron__$RenderPath)$g__iron_RenderPath;
	r4 = r5->active;
	if( r4 == NULL ) hl_null_access();
	iron_RenderPath_renderFrame(r4,r1);
	label$996775c_9_19:
	return;
}

iron__object__Object iron_Scene_addObject(iron__Scene r0,iron__object__Object r1) {
	bool *r5;
	iron__object__Object r2, r4;
	r2 = (iron__object__Object)hl_alloc_obj(&$t_iron_object_Object);
	iron_object_Object_new(r2);
	if( !r1 ) goto label$996775c_10_7;
	if( r1 == NULL ) hl_null_access();
	r5 = NULL;
	iron_object_Object_addChild(r1,r2,r5);
	goto label$996775c_10_11;
	label$996775c_10_7:
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r5 = NULL;
	iron_object_Object_addChild(r4,r2,r5);
	label$996775c_10_11:
	return r2;
}

iron__object__Object iron_Scene_getChild(iron__Scene r0,String r1) {
	iron__object__Object r2;
	r2 = r0->root;
	if( r2 == NULL ) hl_null_access();
	r2 = iron_object_Object_getChild(r2,r1);
	return r2;
}

vdynamic* iron_Scene_getTrait(iron__Scene r0,hl__Class r1) {
	hl__types__ArrayObj r3;
	iron__Trait r6;
	vdynamic *r7;
	iron__object__Object r4;
	varray *r8;
	int r2, r5;
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->children;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->length;
	r5 = 0;
	if( r5 >= r2 ) goto label$996775c_12_22;
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->children;
	if( r3 == NULL ) hl_null_access();
	r2 = 0;
	r5 = r3->length;
	if( ((unsigned)r2) < ((unsigned)r5) ) goto label$996775c_12_16;
	r4 = NULL;
	goto label$996775c_12_19;
	label$996775c_12_16:
	r8 = r3->array;
	r7 = ((vdynamic**)(r8 + 1))[r2];
	r4 = (iron__object__Object)r7;
	label$996775c_12_19:
	if( r4 == NULL ) hl_null_access();
	r6 = iron_object_Object_getTrait(r4,r1);
	return ((vdynamic*)r6);
	label$996775c_12_22:
	r7 = NULL;
	return r7;
}

iron__object__CameraObject iron_Scene_getCamera(iron__Scene r0,String r1) {
	String r8;
	hl__types__ArrayObj r3;
	iron__object__CameraObject r5;
	vdynamic *r6;
	varray *r7;
	int r2, r4;
	r2 = 0;
	r3 = r0->cameras;
	label$996775c_13_2:
	if( r3 == NULL ) hl_null_access();
	r4 = r3->length;
	if( r2 >= r4 ) goto label$996775c_13_19;
	r4 = r3->length;
	if( ((unsigned)r2) < ((unsigned)r4) ) goto label$996775c_13_10;
	r5 = NULL;
	goto label$996775c_13_13;
	label$996775c_13_10:
	r7 = r3->array;
	r6 = ((vdynamic**)(r7 + 1))[r2];
	r5 = (iron__object__CameraObject)r6;
	label$996775c_13_13:
	++r2;
	if( r5 == NULL ) hl_null_access();
	r8 = r5->name;
	if( r8 != r1 && (!r8 || !r1 || String___compare(r8,(vdynamic*)r1) != 0) ) goto label$996775c_13_18;
	return r5;
	label$996775c_13_18:
	goto label$996775c_13_2;
	label$996775c_13_19:
	r5 = NULL;
	return r5;
}

iron__object__MeshObject iron_Scene_addMeshObject(iron__Scene r0,iron__data__MeshData r1,hl__types__ArrayObj r2,iron__object__Object r3) {
	bool *r7;
	iron__object__MeshObject r4;
	iron__object__Object r6;
	r4 = (iron__object__MeshObject)hl_alloc_obj(&$t_iron_object_MeshObject);
	iron_object_MeshObject_new(r4,r1,r2);
	if( !r3 ) goto label$996775c_14_7;
	if( r3 == NULL ) hl_null_access();
	r7 = NULL;
	iron_object_Object_addChild(r3,((iron__object__Object)r4),r7);
	goto label$996775c_14_11;
	label$996775c_14_7:
	r6 = r0->root;
	if( r6 == NULL ) hl_null_access();
	r7 = NULL;
	iron_object_Object_addChild(r6,((iron__object__Object)r4),r7);
	label$996775c_14_11:
	return r4;
}

iron__object__LightObject iron_Scene_addLightObject(iron__Scene r0,iron__data__LightData r1,iron__object__Object r2) {
	bool *r6;
	iron__object__LightObject r3;
	iron__object__Object r5;
	r3 = (iron__object__LightObject)hl_alloc_obj(&$t_iron_object_LightObject);
	iron_object_LightObject_new(r3,r1);
	if( !r2 ) goto label$996775c_15_7;
	if( r2 == NULL ) hl_null_access();
	r6 = NULL;
	iron_object_Object_addChild(r2,((iron__object__Object)r3),r6);
	goto label$996775c_15_11;
	label$996775c_15_7:
	r5 = r0->root;
	if( r5 == NULL ) hl_null_access();
	r6 = NULL;
	iron_object_Object_addChild(r5,((iron__object__Object)r3),r6);
	label$996775c_15_11:
	return r3;
}

iron__object__CameraObject iron_Scene_addCameraObject(iron__Scene r0,iron__data__CameraData r1,iron__object__Object r2) {
	bool *r6;
	iron__object__CameraObject r3;
	iron__object__Object r5;
	r3 = (iron__object__CameraObject)hl_alloc_obj(&$t_iron_object_CameraObject);
	iron_object_CameraObject_new(r3,r1);
	if( !r2 ) goto label$996775c_16_7;
	if( r2 == NULL ) hl_null_access();
	r6 = NULL;
	iron_object_Object_addChild(r2,((iron__object__Object)r3),r6);
	goto label$996775c_16_11;
	label$996775c_16_7:
	r5 = r0->root;
	if( r5 == NULL ) hl_null_access();
	r6 = NULL;
	iron_object_Object_addChild(r5,((iron__object__Object)r3),r6);
	label$996775c_16_11:
	return r3;
}

iron__object__SpeakerObject iron_Scene_addSpeakerObject(iron__Scene r0,iron__data__TSpeakerData r1,iron__object__Object r2) {
	bool *r6;
	iron__object__SpeakerObject r3;
	iron__object__Object r5;
	r3 = (iron__object__SpeakerObject)hl_alloc_obj(&$t_iron_object_SpeakerObject);
	iron_object_SpeakerObject_new(r3,r1);
	if( !r2 ) goto label$996775c_17_7;
	if( r2 == NULL ) hl_null_access();
	r6 = NULL;
	iron_object_Object_addChild(r2,((iron__object__Object)r3),r6);
	goto label$996775c_17_11;
	label$996775c_17_7:
	r5 = r0->root;
	if( r5 == NULL ) hl_null_access();
	r6 = NULL;
	iron_object_Object_addChild(r5,((iron__object__Object)r3),r6);
	label$996775c_17_11:
	return r3;
}

void iron_Scene_addScene__$4(venum* r0,iron__object__Object r1) {
	hl__types__ArrayObj r3;
	hl__types__ArrayBytes_Int r11;
	iron__data__TObj r9;
	vclosure *r6, *r10;
	vdynamic *r7;
	vbyte *r12;
	varray *r8;
	int r4, r5, r13;
	if( !r1 ) goto label$996775c_18_18;
	r3 = ((Enum$t_ctx_7165f68*)r0)->p2;
	if( r3 == NULL ) hl_null_access();
	r4 = 0;
	r5 = r3->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$996775c_18_8;
	r6 = NULL;
	goto label$996775c_18_11;
	label$996775c_18_8:
	r8 = r3->array;
	r7 = ((vdynamic**)(r8 + 1))[r4];
	r6 = (vclosure*)r7;
	label$996775c_18_11:
	if( r6 == NULL ) hl_null_access();
	r9 = ((Enum$t_ctx_7165f68*)r0)->p4;
	if( r9 == NULL ) hl_null_access();
	r3 = r9->children;
	r9 = ((Enum$t_ctx_7165f68*)r0)->p4;
	r10 = ((Enum$t_ctx_7165f68*)r0)->p3;
	r6->hasValue ? ((void (*)(vdynamic*,iron__object__Object,hl__types__ArrayObj,iron__data__TObj,vclosure*))r6->fun)((vdynamic*)r6->value,r1,r3,r9,r10) : ((void (*)(iron__object__Object,hl__types__ArrayObj,iron__data__TObj,vclosure*))r6->fun)(r1,r3,r9,r10);
	label$996775c_18_18:
	r11 = ((Enum$t_ctx_7165f68*)r0)->p0;
	if( r11 == NULL ) hl_null_access();
	r4 = 0;
	r5 = r11->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$996775c_18_24;
	hl_types_ArrayBytes_Int___expand(r11,r4);
	label$996775c_18_24:
	r12 = r11->bytes;
	r5 = 2;
	r5 = r4 << r5;
	r13 = *(int*)(r12 + r5);
	++r13;
	*(int*)(r12 + r5) = r13;
	r4 = ((Enum$t_ctx_7165f68*)r0)->p1;
	if( r13 != r4 ) goto label$996775c_18_35;
	r10 = ((Enum$t_ctx_7165f68*)r0)->p3;
	if( r10 == NULL ) hl_null_access();
	r10->hasValue ? ((void (*)(vdynamic*))r10->fun)((vdynamic*)r10->value) : ((void (*)(void))r10->fun)();
	label$996775c_18_35:
	return;
}

void iron_Scene_addScene__$3(venum* r0,iron__object__Object r1,hl__types__ArrayObj r2,iron__data__TObj r3,vclosure* r4) {
	hl__types__ArrayObj r6;
	venum *r24;
	iron__Scene r21;
	bool r16;
	hl__types__ArrayBytes_Int r18;
	iron__data__TObj r13;
	iron__data__TSceneFormat r22;
	vclosure *r23;
	vdynamic *r7, *r15, *r17;
	vbyte *r19;
	varray *r14;
	int r8, r9, r10, r11, r12, r20;
	if( r2 ) goto label$996775c_19_2;
	return;
	label$996775c_19_2:
	r8 = 0;
	if( r2 == NULL ) hl_null_access();
	r9 = r2->length;
	label$996775c_19_5:
	if( r8 >= r9 ) goto label$996775c_19_56;
	r10 = r8;
	++r8;
	if( r2 == NULL ) hl_null_access();
	r12 = r2->length;
	if( ((unsigned)r10) < ((unsigned)r12) ) goto label$996775c_19_14;
	r13 = NULL;
	goto label$996775c_19_17;
	label$996775c_19_14:
	r14 = r2->array;
	r7 = ((vdynamic**)(r14 + 1))[r10];
	r13 = (iron__data__TObj)r7;
	label$996775c_19_17:
	if( r13 == NULL ) hl_null_access();
	r15 = r13->spawn;
	if( !r15 ) goto label$996775c_19_41;
	r15 = r13->spawn;
	r16 = false;
	r17 = hl_alloc_dynbool(r16);
	if( r15 != r17 && (!r15 || !r17 || (r15->v.b != r17->v.b)) ) goto label$996775c_19_41;
	r18 = ((Enum$t_ctx_4df65cd*)r0)->p2;
	if( r18 == NULL ) hl_null_access();
	r11 = 0;
	r12 = r18->length;
	if( ((unsigned)r11) < ((unsigned)r12) ) goto label$996775c_19_30;
	hl_types_ArrayBytes_Int___expand(r18,r11);
	label$996775c_19_30:
	r19 = r18->bytes;
	r12 = 2;
	r12 = r11 << r12;
	r20 = *(int*)(r19 + r12);
	++r20;
	*(int*)(r19 + r12) = r20;
	r11 = ((Enum$t_ctx_4df65cd*)r0)->p3;
	if( r20 != r11 ) goto label$996775c_19_40;
	if( r4 == NULL ) hl_null_access();
	r4->hasValue ? ((void (*)(vdynamic*))r4->fun)((vdynamic*)r4->value) : ((void (*)(void))r4->fun)();
	label$996775c_19_40:
	goto label$996775c_19_5;
	label$996775c_19_41:
	r21 = ((Enum$t_ctx_4df65cd*)r0)->p1;
	if( r21 == NULL ) hl_null_access();
	r22 = ((Enum$t_ctx_4df65cd*)r0)->p0;
	r24 = hl_alloc_enum(&$t_ctx_7165f68,0);
	r18 = ((Enum$t_ctx_4df65cd*)r0)->p2;
	((Enum$t_ctx_7165f68*)r24)->p0 = (hl__types__ArrayBytes_Int)r18;
	r11 = ((Enum$t_ctx_4df65cd*)r0)->p3;
	((Enum$t_ctx_7165f68*)r24)->p1 = (int)r11;
	r6 = ((Enum$t_ctx_4df65cd*)r0)->p4;
	((Enum$t_ctx_7165f68*)r24)->p2 = (hl__types__ArrayObj)r6;
	((Enum$t_ctx_7165f68*)r24)->p3 = (vclosure*)r4;
	((Enum$t_ctx_7165f68*)r24)->p4 = (iron__data__TObj)r13;
	r23 = hl_alloc_closure_ptr(&$t_fun_7a0ef80,iron_Scene_addScene__$4,r24);
	iron_Scene_createObject(r21,r13,r22,r1,r3,r23);
	goto label$996775c_19_5;
	label$996775c_19_56:
	return;
}

void iron_Scene_addScene__$5(venum* r0) {
	vclosure *r2;
	iron__object__Object r3;
	r2 = ((Enum$t_ctx_cdff214*)r0)->p1;
	if( r2 == NULL ) hl_null_access();
	r3 = ((Enum$t_ctx_cdff214*)r0)->p0;
	r2->hasValue ? ((void (*)(vdynamic*,iron__object__Object))r2->fun)((vdynamic*)r2->value,r3) : ((void (*)(iron__object__Object))r2->fun)(r3);
	return;
}

void iron_Scene_addScene__$2(venum* r0) {
	bool *r10;
	hl__types__ArrayObj r8, r14;
	venum *r15;
	hl_type *r12;
	iron__Scene r7;
	iron__data__TObj r19;
	hl__types__ArrayBytes_Int r1;
	iron__data__TSceneFormat r9;
	vclosure *r13, *r16, *r20;
	vdynamic *r18;
	iron__object__Object r17;
	varray *r11;
	int r3, r4, r5;
	vbyte *r2;
	r3 = 4;
	r2 = hl_alloc_bytes(r3);
	r3 = 0;
	r4 = 0;
	r5 = 2;
	r5 = r3 << r5;
	*(int*)(r2 + r5) = r4;
	++r3;
	r3 = 1;
	r1 = hl_types_ArrayBase_allocI32(r2,r3);
	r7 = ((Enum$t_ctx_cdff214*)r0)->p3;
	if( r7 == NULL ) hl_null_access();
	r9 = ((Enum$t_ctx_cdff214*)r0)->p2;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->objects;
	r10 = NULL;
	r3 = iron_Scene_getObjectsCount(r7,r8,r10);
	r12 = &$t_fun_0653f26;
	r4 = 1;
	r11 = hl_alloc_array(r12,r4);
	r13 = NULL;
	r4 = 0;
	((vclosure**)(r11 + 1))[r4] = r13;
	r8 = hl_types_ArrayObj_alloc(r11);
	if( r8 == NULL ) hl_null_access();
	r4 = 0;
	r15 = hl_alloc_enum(&$t_ctx_4df65cd,0);
	r9 = ((Enum$t_ctx_cdff214*)r0)->p2;
	((Enum$t_ctx_4df65cd*)r15)->p0 = (iron__data__TSceneFormat)r9;
	r7 = ((Enum$t_ctx_cdff214*)r0)->p3;
	((Enum$t_ctx_4df65cd*)r15)->p1 = (iron__Scene)r7;
	((Enum$t_ctx_4df65cd*)r15)->p2 = (hl__types__ArrayBytes_Int)r1;
	((Enum$t_ctx_4df65cd*)r15)->p3 = (int)r3;
	((Enum$t_ctx_4df65cd*)r15)->p4 = (hl__types__ArrayObj)r8;
	r13 = hl_alloc_closure_ptr(&$t_fun_12a8cdf,iron_Scene_addScene__$3,r15);
	r5 = r8->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$996775c_21_38;
	hl_types_ArrayObj___expand(r8,r4);
	label$996775c_21_38:
	r11 = r8->array;
	((vclosure**)(r11 + 1))[r4] = r13;
	r9 = ((Enum$t_ctx_cdff214*)r0)->p2;
	if( r9 == NULL ) hl_null_access();
	r14 = r9->objects;
	if( !r14 ) goto label$996775c_21_51;
	r9 = ((Enum$t_ctx_cdff214*)r0)->p2;
	if( r9 == NULL ) hl_null_access();
	r14 = r9->objects;
	if( r14 == NULL ) hl_null_access();
	r4 = r14->length;
	r5 = 0;
	if( r4 != r5 ) goto label$996775c_21_56;
	label$996775c_21_51:
	r16 = ((Enum$t_ctx_cdff214*)r0)->p1;
	if( r16 == NULL ) hl_null_access();
	r17 = ((Enum$t_ctx_cdff214*)r0)->p0;
	r16->hasValue ? ((void (*)(vdynamic*,iron__object__Object))r16->fun)((vdynamic*)r16->value,r17) : ((void (*)(iron__object__Object))r16->fun)(r17);
	goto label$996775c_21_72;
	label$996775c_21_56:
	r4 = 0;
	r5 = r8->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$996775c_21_61;
	r13 = NULL;
	goto label$996775c_21_64;
	label$996775c_21_61:
	r11 = r8->array;
	r18 = ((vdynamic**)(r11 + 1))[r4];
	r13 = (vclosure*)r18;
	label$996775c_21_64:
	if( r13 == NULL ) hl_null_access();
	r17 = ((Enum$t_ctx_cdff214*)r0)->p0;
	r9 = ((Enum$t_ctx_cdff214*)r0)->p2;
	if( r9 == NULL ) hl_null_access();
	r14 = r9->objects;
	r19 = NULL;
	r20 = hl_alloc_closure_ptr(&$t_fun_3956bee,iron_Scene_addScene__$5,r0);
	r13->hasValue ? ((void (*)(vdynamic*,iron__object__Object,hl__types__ArrayObj,iron__data__TObj,vclosure*))r13->fun)((vdynamic*)r13->value,r17,r14,r19,r20) : ((void (*)(iron__object__Object,hl__types__ArrayObj,iron__data__TObj,vclosure*))r13->fun)(r17,r14,r19,r20);
	label$996775c_21_72:
	return;
}

void iron_Scene_addScene__$1(venum* r0,iron__data__TSceneFormat r1) {
	hl__types__ArrayObj r3;
	venum *r7;
	iron__Scene r5, r9;
	vclosure *r6, *r8;
	iron__object__Object r4;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->traits;
	r4 = ((Enum$t_ctx_fbd2a35*)r0)->p0;
	iron_Scene_createTraits(r3,r4);
	r5 = ((Enum$t_ctx_fbd2a35*)r0)->p2;
	if( r5 == NULL ) hl_null_access();
	r3 = r1->embedded_datas;
	r7 = hl_alloc_enum(&$t_ctx_cdff214,0);
	r4 = ((Enum$t_ctx_fbd2a35*)r0)->p0;
	((Enum$t_ctx_cdff214*)r7)->p0 = (iron__object__Object)r4;
	r8 = ((Enum$t_ctx_fbd2a35*)r0)->p1;
	((Enum$t_ctx_cdff214*)r7)->p1 = (vclosure*)r8;
	((Enum$t_ctx_cdff214*)r7)->p2 = (iron__data__TSceneFormat)r1;
	r9 = ((Enum$t_ctx_fbd2a35*)r0)->p2;
	((Enum$t_ctx_cdff214*)r7)->p3 = (iron__Scene)r9;
	r6 = hl_alloc_closure_ptr(&$t_fun_3956bee,iron_Scene_addScene__$2,r7);
	iron_Scene_loadEmbeddedData(r5,r3,r6);
	return;
}

void iron_Scene_addScene(iron__Scene r0,String r1,iron__object__Object r2,vclosure* r3) {
	venum *r7;
	vclosure *r6;
	iron__object__Object r5;
	if( r2 ) goto label$996775c_23_6;
	r5 = NULL;
	r5 = iron_Scene_addObject(r0,r5);
	r2 = r5;
	if( r5 == NULL ) hl_null_access();
	r5->name = r1;
	label$996775c_23_6:
	r7 = hl_alloc_enum(&$t_ctx_fbd2a35,0);
	((Enum$t_ctx_fbd2a35*)r7)->p0 = (iron__object__Object)r2;
	((Enum$t_ctx_fbd2a35*)r7)->p1 = (vclosure*)r3;
	((Enum$t_ctx_fbd2a35*)r7)->p2 = (iron__Scene)r0;
	r6 = hl_alloc_closure_ptr(&$t_fun_2dc7f4f,iron_Scene_addScene__$1,r7);
	iron_data_Data_getSceneRaw(r1,r6);
	return;
}

int iron_Scene_getObjectsCount(iron__Scene r0,hl__types__ArrayObj r1,bool* r2) {
	hl__types__ArrayObj r4;
	bool r3, r12;
	iron__data__TObj r10;
	vdynamic *r6, *r13, *r14;
	varray *r11;
	int r5, r7, r8, r9;
	if( r2 ) goto label$996775c_24_3;
	r3 = true;
	goto label$996775c_24_4;
	label$996775c_24_3:
	r3 = *r2;
	label$996775c_24_4:
	if( r1 ) goto label$996775c_24_7;
	r5 = 0;
	return r5;
	label$996775c_24_7:
	if( r1 == NULL ) hl_null_access();
	r5 = r1->length;
	r7 = 0;
	label$996775c_24_10:
	if( r1 == NULL ) hl_null_access();
	r9 = r1->length;
	if( r7 >= r9 ) goto label$996775c_24_40;
	r9 = r1->length;
	if( ((unsigned)r7) < ((unsigned)r9) ) goto label$996775c_24_18;
	r10 = NULL;
	goto label$996775c_24_21;
	label$996775c_24_18:
	r11 = r1->array;
	r6 = ((vdynamic**)(r11 + 1))[r7];
	r10 = (iron__data__TObj)r6;
	label$996775c_24_21:
	++r7;
	if( !r3 ) goto label$996775c_24_31;
	if( r10 == NULL ) hl_null_access();
	r13 = r10->spawn;
	if( !r13 ) goto label$996775c_24_31;
	r13 = r10->spawn;
	r12 = false;
	r14 = hl_alloc_dynbool(r12);
	if( r13 != r14 && (!r13 || !r14 || (r13->v.b != r14->v.b)) ) goto label$996775c_24_31;
	goto label$996775c_24_10;
	label$996775c_24_31:
	if( r10 == NULL ) hl_null_access();
	r4 = r10->children;
	if( !r4 ) goto label$996775c_24_39;
	r4 = r10->children;
	r2 = NULL;
	r9 = iron_Scene_getObjectsCount(r0,r4,r2);
	r8 = r5 + r9;
	r5 = r8;
	label$996775c_24_39:
	goto label$996775c_24_10;
	label$996775c_24_40:
	return r5;
}

void iron_Scene_spawnObject__$2(venum* r0,iron__object__Object r1) {
	hl__types__ArrayObj r4, r9;
	bool r3;
	hl__types__ArrayBytes_Int r15;
	iron__data__TObj r5, r13;
	vclosure *r12, *r14;
	vdynamic *r10;
	vbyte *r16;
	varray *r11;
	int r6, r7, r8;
	r3 = ((Enum$t_ctx_162fc66*)r0)->p0;
	if( !r3 ) goto label$996775c_25_37;
	r5 = ((Enum$t_ctx_162fc66*)r0)->p4;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->children;
	if( !r4 ) goto label$996775c_25_37;
	r6 = 0;
	r5 = ((Enum$t_ctx_162fc66*)r0)->p4;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->children;
	label$996775c_25_10:
	if( r4 == NULL ) hl_null_access();
	r8 = r4->length;
	if( r6 >= r8 ) goto label$996775c_25_37;
	r8 = r4->length;
	if( ((unsigned)r6) < ((unsigned)r8) ) goto label$996775c_25_18;
	r5 = NULL;
	goto label$996775c_25_21;
	label$996775c_25_18:
	r11 = r4->array;
	r10 = ((vdynamic**)(r11 + 1))[r6];
	r5 = (iron__data__TObj)r10;
	label$996775c_25_21:
	++r6;
	r9 = ((Enum$t_ctx_162fc66*)r0)->p3;
	if( r9 == NULL ) hl_null_access();
	r7 = 0;
	r8 = r9->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$996775c_25_29;
	r12 = NULL;
	goto label$996775c_25_32;
	label$996775c_25_29:
	r11 = r9->array;
	r10 = ((vdynamic**)(r11 + 1))[r7];
	r12 = (vclosure*)r10;
	label$996775c_25_32:
	if( r12 == NULL ) hl_null_access();
	r13 = ((Enum$t_ctx_162fc66*)r0)->p4;
	r14 = ((Enum$t_ctx_162fc66*)r0)->p5;
	r12->hasValue ? ((void (*)(vdynamic*,iron__data__TObj,iron__object__Object,iron__data__TObj,vclosure*))r12->fun)((vdynamic*)r12->value,r5,r1,r13,r14) : ((void (*)(iron__data__TObj,iron__object__Object,iron__data__TObj,vclosure*))r12->fun)(r5,r1,r13,r14);
	goto label$996775c_25_10;
	label$996775c_25_37:
	r15 = ((Enum$t_ctx_162fc66*)r0)->p1;
	if( r15 == NULL ) hl_null_access();
	r6 = 0;
	r7 = r15->length;
	if( ((unsigned)r6) < ((unsigned)r7) ) goto label$996775c_25_43;
	hl_types_ArrayBytes_Int___expand(r15,r6);
	label$996775c_25_43:
	r16 = r15->bytes;
	r7 = 2;
	r7 = r6 << r7;
	r8 = *(int*)(r16 + r7);
	++r8;
	*(int*)(r16 + r7) = r8;
	r6 = ((Enum$t_ctx_162fc66*)r0)->p2;
	if( r8 != r6 ) goto label$996775c_25_56;
	r14 = ((Enum$t_ctx_162fc66*)r0)->p5;
	if( !r14 ) goto label$996775c_25_56;
	r14 = ((Enum$t_ctx_162fc66*)r0)->p5;
	if( r14 == NULL ) hl_null_access();
	r14->hasValue ? ((void (*)(vdynamic*,iron__object__Object))r14->fun)((vdynamic*)r14->value,r1) : ((void (*)(iron__object__Object))r14->fun)(r1);
	label$996775c_25_56:
	return;
}

void iron_Scene_spawnObject__$1(venum* r0,iron__data__TObj r1,iron__object__Object r2,iron__data__TObj r3,vclosure* r4) {
	hl__types__ArrayObj r14;
	venum *r10;
	bool r11;
	iron__Scene r6, r8;
	hl__types__ArrayBytes_Int r12;
	iron__data__TSceneFormat r7;
	vclosure *r9;
	int r13;
	r6 = ((Enum$t_ctx_5de6072*)r0)->p4;
	if( r6 == NULL ) hl_null_access();
	r8 = ((Enum$t_ctx_5de6072*)r0)->p4;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->raw;
	r10 = hl_alloc_enum(&$t_ctx_162fc66,0);
	r11 = ((Enum$t_ctx_5de6072*)r0)->p0;
	((Enum$t_ctx_162fc66*)r10)->p0 = (bool)r11;
	r12 = ((Enum$t_ctx_5de6072*)r0)->p1;
	((Enum$t_ctx_162fc66*)r10)->p1 = (hl__types__ArrayBytes_Int)r12;
	r13 = ((Enum$t_ctx_5de6072*)r0)->p2;
	((Enum$t_ctx_162fc66*)r10)->p2 = (int)r13;
	r14 = ((Enum$t_ctx_5de6072*)r0)->p3;
	((Enum$t_ctx_162fc66*)r10)->p3 = (hl__types__ArrayObj)r14;
	((Enum$t_ctx_162fc66*)r10)->p4 = (iron__data__TObj)r1;
	((Enum$t_ctx_162fc66*)r10)->p5 = (vclosure*)r4;
	r9 = hl_alloc_closure_ptr(&$t_fun_8ffff2e,iron_Scene_spawnObject__$2,r10);
	iron_Scene_createObject(r6,r1,r7,r2,r3,r9);
	return;
}

void iron_Scene_spawnObject(iron__Scene r0,String r1,iron__object__Object r2,vclosure* r3,bool* r4) {
	hl__types__ArrayObj r15;
	venum *r19;
	hl_type *r17;
	bool r5, r14;
	iron__data__TObj r12, r21;
	hl__types__ArrayBytes_Int r7;
	iron__data__TSceneFormat r13;
	vclosure *r18;
	vdynamic *r20;
	varray *r16;
	int r9, r10, r11;
	vbyte *r8;
	if( r4 ) goto label$996775c_27_3;
	r5 = true;
	goto label$996775c_27_4;
	label$996775c_27_3:
	r5 = *r4;
	label$996775c_27_4:
	r9 = 4;
	r8 = hl_alloc_bytes(r9);
	r9 = 0;
	r10 = 0;
	r11 = 2;
	r11 = r9 << r11;
	*(int*)(r8 + r11) = r10;
	++r9;
	r9 = 1;
	r7 = hl_types_ArrayBase_allocI32(r8,r9);
	r13 = r0->raw;
	r12 = iron_Scene_getObj(r13,r1);
	if( !r5 ) goto label$996775c_27_27;
	r17 = &$t_iron_data_TObj;
	r9 = 1;
	r16 = hl_alloc_array(r17,r9);
	r9 = 0;
	((iron__data__TObj*)(r16 + 1))[r9] = r12;
	r15 = hl_types_ArrayObj_alloc(r16);
	r14 = false;
	r4 = &r14;
	r9 = iron_Scene_getObjectsCount(r0,r15,r4);
	goto label$996775c_27_28;
	label$996775c_27_27:
	r9 = 1;
	label$996775c_27_28:
	r17 = &$t_fun_013d2ac;
	r10 = 1;
	r16 = hl_alloc_array(r17,r10);
	r18 = NULL;
	r10 = 0;
	((vclosure**)(r16 + 1))[r10] = r18;
	r15 = hl_types_ArrayObj_alloc(r16);
	if( r15 == NULL ) hl_null_access();
	r10 = 0;
	r19 = hl_alloc_enum(&$t_ctx_5de6072,0);
	((Enum$t_ctx_5de6072*)r19)->p0 = (bool)r5;
	((Enum$t_ctx_5de6072*)r19)->p1 = (hl__types__ArrayBytes_Int)r7;
	((Enum$t_ctx_5de6072*)r19)->p2 = (int)r9;
	((Enum$t_ctx_5de6072*)r19)->p3 = (hl__types__ArrayObj)r15;
	((Enum$t_ctx_5de6072*)r19)->p4 = (iron__Scene)r0;
	r18 = hl_alloc_closure_ptr(&$t_fun_033c1e3,iron_Scene_spawnObject__$1,r19);
	r11 = r15->length;
	if( ((unsigned)r10) < ((unsigned)r11) ) goto label$996775c_27_47;
	hl_types_ArrayObj___expand(r15,r10);
	label$996775c_27_47:
	r16 = r15->array;
	((vclosure**)(r16 + 1))[r10] = r18;
	r10 = 0;
	r11 = r15->length;
	if( ((unsigned)r10) < ((unsigned)r11) ) goto label$996775c_27_54;
	r18 = NULL;
	goto label$996775c_27_57;
	label$996775c_27_54:
	r16 = r15->array;
	r20 = ((vdynamic**)(r16 + 1))[r10];
	r18 = (vclosure*)r20;
	label$996775c_27_57:
	if( r18 == NULL ) hl_null_access();
	r21 = NULL;
	r18->hasValue ? ((void (*)(vdynamic*,iron__data__TObj,iron__object__Object,iron__data__TObj,vclosure*))r18->fun)((vdynamic*)r18->value,r12,r2,r21,r3) : ((void (*)(iron__data__TObj,iron__object__Object,iron__data__TObj,vclosure*))r18->fun)(r12,r2,r21,r3);
	return;
}

iron__data__TObj iron_Scene_getObj(iron__data__TSceneFormat r0,String r1) {
	hl__types__ArrayObj r3;
	iron__data__TObj r2;
	if( r0 == NULL ) hl_null_access();
	r3 = r0->objects;
	r2 = iron_Scene_traverseObjs(r3,r1);
	return r2;
}

iron__data__TObj iron_Scene_traverseObjs(hl__types__ArrayObj r0,String r1) {
	String r8;
	hl__types__ArrayObj r4;
	iron__data__TObj r5, r9;
	vdynamic *r6;
	varray *r7;
	int r2, r3;
	r2 = 0;
	label$996775c_29_1:
	if( r0 == NULL ) hl_null_access();
	r3 = r0->length;
	if( r2 >= r3 ) goto label$996775c_29_24;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$996775c_29_9;
	r5 = NULL;
	goto label$996775c_29_12;
	label$996775c_29_9:
	r7 = r0->array;
	r6 = ((vdynamic**)(r7 + 1))[r2];
	r5 = (iron__data__TObj)r6;
	label$996775c_29_12:
	++r2;
	if( r5 == NULL ) hl_null_access();
	r8 = r5->name;
	if( r8 != r1 && (!r8 || !r1 || String___compare(r8,(vdynamic*)r1) != 0) ) goto label$996775c_29_17;
	return r5;
	label$996775c_29_17:
	r4 = r5->children;
	if( !r4 ) goto label$996775c_29_23;
	r4 = r5->children;
	r9 = iron_Scene_traverseObjs(r4,r1);
	if( !r9 ) goto label$996775c_29_23;
	return r9;
	label$996775c_29_23:
	goto label$996775c_29_1;
	label$996775c_29_24:
	r5 = NULL;
	return r5;
}

void iron_Scene_createObject__$1(venum* r0,iron__data__CameraData r1) {
	iron__Scene r3;
	iron__data__TObj r6;
	vclosure *r7;
	iron__object__CameraObject r2;
	iron__object__Object r4;
	r3 = ((Enum$t_ctx_a119f26*)r0)->p3;
	if( r3 == NULL ) hl_null_access();
	r4 = ((Enum$t_ctx_a119f26*)r0)->p1;
	r2 = iron_Scene_addCameraObject(r3,r1,r4);
	r3 = ((Enum$t_ctx_a119f26*)r0)->p3;
	if( r3 == NULL ) hl_null_access();
	r6 = ((Enum$t_ctx_a119f26*)r0)->p0;
	r7 = ((Enum$t_ctx_a119f26*)r0)->p2;
	iron_Scene_returnObject(r3,((iron__object__Object)r2),r6,r7);
	return;
}

void iron_Scene_createObject__$2(venum* r0,iron__data__LightData r1) {
	iron__Scene r3;
	iron__object__LightObject r2;
	iron__data__TObj r6;
	vclosure *r7;
	iron__object__Object r4;
	r3 = ((Enum$t_ctx_a119f26*)r0)->p3;
	if( r3 == NULL ) hl_null_access();
	r4 = ((Enum$t_ctx_a119f26*)r0)->p1;
	r2 = iron_Scene_addLightObject(r3,r1,r4);
	r3 = ((Enum$t_ctx_a119f26*)r0)->p3;
	if( r3 == NULL ) hl_null_access();
	r6 = ((Enum$t_ctx_a119f26*)r0)->p0;
	r7 = ((Enum$t_ctx_a119f26*)r0)->p2;
	iron_Scene_returnObject(r3,((iron__object__Object)r2),r6,r7);
	return;
}

void iron_Scene_createObject__$4(venum* r0,iron__data__TSceneFormat r1) {
	String r14, r15, r19;
	hl__types__ArrayObj r3;
	iron__Scene r8;
	iron__data__Armature r7, r10;
	iron__data__TObj r6;
	vclosure *r20;
	int *r17;
	iron__object__Object r13, r16;
	vdynamic *r11;
	vbyte *r18;
	varray *r12;
	int r2, r5, r9;
	r3 = ((Enum$t_ctx_08ff263*)r0)->p9;
	if( r3 == NULL ) hl_null_access();
	r2 = hl_types_ArrayObj_push(r3,((vdynamic*)r1));
	r3 = ((Enum$t_ctx_08ff263*)r0)->p9;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->length;
	r6 = ((Enum$t_ctx_08ff263*)r0)->p2;
	if( r6 == NULL ) hl_null_access();
	r3 = r6->bone_actions;
	if( r3 == NULL ) hl_null_access();
	r5 = r3->length;
	if( r2 != r5 ) goto label$996775c_32_101;
	r7 = NULL;
	r2 = 0;
	r8 = ((Enum$t_ctx_08ff263*)r0)->p5;
	if( r8 == NULL ) hl_null_access();
	r3 = r8->armatures;
	label$996775c_32_17:
	if( r3 == NULL ) hl_null_access();
	r9 = r3->length;
	if( r2 >= r9 ) goto label$996775c_32_38;
	r9 = r3->length;
	if( ((unsigned)r2) < ((unsigned)r9) ) goto label$996775c_32_25;
	r10 = NULL;
	goto label$996775c_32_28;
	label$996775c_32_25:
	r12 = r3->array;
	r11 = ((vdynamic**)(r12 + 1))[r2];
	r10 = (iron__data__Armature)r11;
	label$996775c_32_28:
	++r2;
	if( r10 == NULL ) hl_null_access();
	r5 = r10->uid;
	r13 = ((Enum$t_ctx_08ff263*)r0)->p1;
	if( r13 == NULL ) hl_null_access();
	r9 = r13->uid;
	if( r5 != r9 ) goto label$996775c_32_37;
	r7 = r10;
	goto label$996775c_32_38;
	label$996775c_32_37:
	goto label$996775c_32_17;
	label$996775c_32_38:
	if( r7 ) goto label$996775c_32_91;
	r2 = 0;
	r8 = ((Enum$t_ctx_08ff263*)r0)->p5;
	if( r8 == NULL ) hl_null_access();
	r3 = r8->armatures;
	label$996775c_32_43:
	if( r3 == NULL ) hl_null_access();
	r9 = r3->length;
	if( r2 >= r9 ) goto label$996775c_32_76;
	r9 = r3->length;
	if( ((unsigned)r2) < ((unsigned)r9) ) goto label$996775c_32_51;
	r10 = NULL;
	goto label$996775c_32_54;
	label$996775c_32_51:
	r12 = r3->array;
	r11 = ((vdynamic**)(r12 + 1))[r2];
	r10 = (iron__data__Armature)r11;
	label$996775c_32_54:
	++r2;
	if( r10 == NULL ) hl_null_access();
	r14 = r10->name;
	r13 = ((Enum$t_ctx_08ff263*)r0)->p1;
	if( r13 == NULL ) hl_null_access();
	r15 = r13->name;
	if( r14 != r15 && (!r14 || !r15 || String___compare(r14,(vdynamic*)r15) != 0) ) goto label$996775c_32_75;
	r13 = ((Enum$t_ctx_08ff263*)r0)->p1;
	if( r13 == NULL ) hl_null_access();
	r14 = r13->name;
	r15 = (String)$s_5058f1a;
	r16 = ((Enum$t_ctx_08ff263*)r0)->p1;
	if( r16 == NULL ) hl_null_access();
	r5 = r16->uid;
	r17 = &r5;
	r18 = hl_itos(r5,r17);
	r19 = String___alloc__(r18,r5);
	r15 = String___add__(r15,r19);
	r14 = String___add__(r14,r15);
	r13->name = r14;
	goto label$996775c_32_76;
	label$996775c_32_75:
	goto label$996775c_32_43;
	label$996775c_32_76:
	r10 = (iron__data__Armature)hl_alloc_obj(&$t_iron_data_Armature);
	r13 = ((Enum$t_ctx_08ff263*)r0)->p1;
	if( r13 == NULL ) hl_null_access();
	r2 = r13->uid;
	r13 = ((Enum$t_ctx_08ff263*)r0)->p1;
	if( r13 == NULL ) hl_null_access();
	r14 = r13->name;
	r3 = ((Enum$t_ctx_08ff263*)r0)->p9;
	iron_data_Armature_new(r10,r2,r14,r3);
	r7 = r10;
	r8 = ((Enum$t_ctx_08ff263*)r0)->p5;
	if( r8 == NULL ) hl_null_access();
	r3 = r8->armatures;
	if( r3 == NULL ) hl_null_access();
	r2 = hl_types_ArrayObj_push(r3,((vdynamic*)r10));
	label$996775c_32_91:
	r8 = ((Enum$t_ctx_08ff263*)r0)->p5;
	if( r8 == NULL ) hl_null_access();
	r14 = ((Enum$t_ctx_08ff263*)r0)->p7;
	r15 = ((Enum$t_ctx_08ff263*)r0)->p8;
	r19 = ((Enum$t_ctx_08ff263*)r0)->p4;
	r3 = ((Enum$t_ctx_08ff263*)r0)->p6;
	r13 = ((Enum$t_ctx_08ff263*)r0)->p1;
	r6 = ((Enum$t_ctx_08ff263*)r0)->p0;
	r20 = ((Enum$t_ctx_08ff263*)r0)->p3;
	iron_Scene_returnMeshObject(r8,r14,r15,r19,r7,r3,r13,r6,r20);
	label$996775c_32_101:
	return;
}

void iron_Scene_createObject__$3(venum* r0,iron__data__MaterialData r1) {
	String r11, r12, r14, r23;
	hl__types__ArrayObj r2, r13, r17, r18;
	venum *r20;
	hl_type *r16;
	iron__Scene r24;
	iron__data__Armature r25;
	iron__data__TObj r10;
	hl__types__ArrayBytes_Int r7;
	vclosure *r19, *r22;
	iron__object__Object r21;
	vdynamic *r15;
	vbyte *r8;
	varray *r6;
	int r3, r4, r9;
	r2 = ((Enum$t_ctx_a0cb5a1*)r0)->p6;
	if( r2 == NULL ) hl_null_access();
	r3 = ((Enum$t_ctx_a0cb5a1*)r0)->p8;
	r4 = r2->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$996775c_33_6;
	hl_types_ArrayObj___expand(r2,r3);
	label$996775c_33_6:
	r6 = r2->array;
	((iron__data__MaterialData*)(r6 + 1))[r3] = r1;
	r7 = ((Enum$t_ctx_a0cb5a1*)r0)->p7;
	if( r7 == NULL ) hl_null_access();
	r3 = 0;
	r4 = r7->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$996775c_33_14;
	hl_types_ArrayBytes_Int___expand(r7,r3);
	label$996775c_33_14:
	r8 = r7->bytes;
	r4 = 2;
	r4 = r3 << r4;
	r9 = *(int*)(r8 + r4);
	++r9;
	*(int*)(r8 + r4) = r9;
	r7 = ((Enum$t_ctx_a0cb5a1*)r0)->p7;
	if( r7 == NULL ) hl_null_access();
	r3 = 0;
	r4 = r7->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$996775c_33_27;
	r3 = 0;
	goto label$996775c_33_31;
	label$996775c_33_27:
	r8 = r7->bytes;
	r4 = 2;
	r4 = r3 << r4;
	r3 = *(int*)(r8 + r4);
	label$996775c_33_31:
	r10 = ((Enum$t_ctx_a0cb5a1*)r0)->p0;
	if( r10 == NULL ) hl_null_access();
	r2 = r10->material_refs;
	if( r2 == NULL ) hl_null_access();
	r4 = r2->length;
	if( r3 != r4 ) goto label$996775c_33_131;
	r10 = ((Enum$t_ctx_a0cb5a1*)r0)->p0;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->data_ref;
	if( r11 == NULL ) hl_null_access();
	r12 = (String)$s_6666cd7;
	r2 = String_split(r11,r12);
	r11 = (String)$s_;
	r12 = (String)$s_;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->length;
	r4 = 2;
	if( r3 != r4 ) goto label$996775c_33_68;
	r3 = 0;
	r4 = r2->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$996775c_33_54;
	r14 = NULL;
	goto label$996775c_33_57;
	label$996775c_33_54:
	r6 = r2->array;
	r15 = ((vdynamic**)(r6 + 1))[r3];
	r14 = (String)r15;
	label$996775c_33_57:
	r11 = r14;
	r3 = 1;
	r4 = r2->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$996775c_33_63;
	r14 = NULL;
	goto label$996775c_33_66;
	label$996775c_33_63:
	r6 = r2->array;
	r15 = ((vdynamic**)(r6 + 1))[r3];
	r14 = (String)r15;
	label$996775c_33_66:
	r12 = r14;
	goto label$996775c_33_74;
	label$996775c_33_68:
	r14 = ((Enum$t_ctx_a0cb5a1*)r0)->p4;
	r11 = r14;
	r10 = ((Enum$t_ctx_a0cb5a1*)r0)->p0;
	if( r10 == NULL ) hl_null_access();
	r14 = r10->data_ref;
	r12 = r14;
	label$996775c_33_74:
	r10 = ((Enum$t_ctx_a0cb5a1*)r0)->p2;
	if( !r10 ) goto label$996775c_33_122;
	r10 = ((Enum$t_ctx_a0cb5a1*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r13 = r10->bone_actions;
	if( !r13 ) goto label$996775c_33_122;
	r16 = &$t_iron_data_TSceneFormat;
	r3 = 0;
	r6 = hl_alloc_array(r16,r3);
	r13 = hl_types_ArrayObj_alloc(r6);
	r3 = 0;
	r10 = ((Enum$t_ctx_a0cb5a1*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r17 = r10->bone_actions;
	label$996775c_33_88:
	if( r17 == NULL ) hl_null_access();
	r9 = r17->length;
	if( r3 >= r9 ) goto label$996775c_33_121;
	r9 = r17->length;
	if( ((unsigned)r3) < ((unsigned)r9) ) goto label$996775c_33_96;
	r14 = NULL;
	goto label$996775c_33_99;
	label$996775c_33_96:
	r6 = r17->array;
	r15 = ((vdynamic**)(r6 + 1))[r3];
	r14 = (String)r15;
	label$996775c_33_99:
	++r3;
	r20 = hl_alloc_enum(&$t_ctx_08ff263,0);
	r10 = ((Enum$t_ctx_a0cb5a1*)r0)->p0;
	((Enum$t_ctx_08ff263*)r20)->p0 = (iron__data__TObj)r10;
	r21 = ((Enum$t_ctx_a0cb5a1*)r0)->p1;
	((Enum$t_ctx_08ff263*)r20)->p1 = (iron__object__Object)r21;
	r10 = ((Enum$t_ctx_a0cb5a1*)r0)->p2;
	((Enum$t_ctx_08ff263*)r20)->p2 = (iron__data__TObj)r10;
	r22 = ((Enum$t_ctx_a0cb5a1*)r0)->p3;
	((Enum$t_ctx_08ff263*)r20)->p3 = (vclosure*)r22;
	r23 = ((Enum$t_ctx_a0cb5a1*)r0)->p4;
	((Enum$t_ctx_08ff263*)r20)->p4 = (String)r23;
	r24 = ((Enum$t_ctx_a0cb5a1*)r0)->p5;
	((Enum$t_ctx_08ff263*)r20)->p5 = (iron__Scene)r24;
	r18 = ((Enum$t_ctx_a0cb5a1*)r0)->p6;
	((Enum$t_ctx_08ff263*)r20)->p6 = (hl__types__ArrayObj)r18;
	((Enum$t_ctx_08ff263*)r20)->p7 = (String)r11;
	((Enum$t_ctx_08ff263*)r20)->p8 = (String)r12;
	((Enum$t_ctx_08ff263*)r20)->p9 = (hl__types__ArrayObj)r13;
	r19 = hl_alloc_closure_ptr(&$t_fun_de865c1,iron_Scene_createObject__$4,r20);
	iron_data_Data_getSceneRaw(r14,r19);
	goto label$996775c_33_88;
	label$996775c_33_121:
	goto label$996775c_33_131;
	label$996775c_33_122:
	r24 = ((Enum$t_ctx_a0cb5a1*)r0)->p5;
	if( r24 == NULL ) hl_null_access();
	r23 = ((Enum$t_ctx_a0cb5a1*)r0)->p4;
	r25 = NULL;
	r13 = ((Enum$t_ctx_a0cb5a1*)r0)->p6;
	r21 = ((Enum$t_ctx_a0cb5a1*)r0)->p1;
	r10 = ((Enum$t_ctx_a0cb5a1*)r0)->p0;
	r22 = ((Enum$t_ctx_a0cb5a1*)r0)->p3;
	iron_Scene_returnMeshObject(r24,r11,r12,r23,r25,r13,r21,r10,r22);
	label$996775c_33_131:
	return;
}

void iron_Scene_createObject__$6(venum* r0,iron__object__Object r1) {
	hl__types__ArrayObj r8;
	hl__types__ArrayBytes_Int r3;
	vclosure *r9;
	iron__object__Object r10;
	vbyte *r6;
	int r4, r5, r7;
	r3 = ((Enum$t_ctx_a5ec823*)r0)->p2;
	if( r3 == NULL ) hl_null_access();
	r4 = 0;
	r5 = r3->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$996775c_34_6;
	hl_types_ArrayBytes_Int___expand(r3,r4);
	label$996775c_34_6:
	r6 = r3->bytes;
	r5 = 2;
	r5 = r4 << r5;
	r7 = *(int*)(r6 + r5);
	++r7;
	*(int*)(r6 + r5) = r7;
	r8 = ((Enum$t_ctx_a5ec823*)r0)->p3;
	if( r8 == NULL ) hl_null_access();
	r4 = r8->length;
	if( r7 != r4 ) goto label$996775c_34_20;
	r9 = ((Enum$t_ctx_a5ec823*)r0)->p0;
	if( r9 == NULL ) hl_null_access();
	r10 = ((Enum$t_ctx_a5ec823*)r0)->p1;
	r9->hasValue ? ((void (*)(vdynamic*,iron__object__Object))r9->fun)((vdynamic*)r9->value,r10) : ((void (*)(iron__object__Object))r9->fun)(r10);
	label$996775c_34_20:
	return;
}

void iron_Scene_createObject__$5(venum* r0,iron__object__Object r1) {
	bool *r16;
	String r3;
	hl__types__ArrayObj r10;
	venum *r15;
	iron__Scene r11;
	hl__types__ArrayBytes_Int r5;
	iron__data__TObj r4;
	vclosure *r12;
	vdynamic *r13;
	varray *r14;
	int r7, r8, r9;
	vbyte *r6;
	r4 = ((Enum$t_ctx_1b2e85d*)r0)->p0;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->group_ref;
	if( !r3 ) goto label$996775c_35_54;
	r7 = 4;
	r6 = hl_alloc_bytes(r7);
	r7 = 0;
	r8 = 0;
	r9 = 2;
	r9 = r7 << r9;
	*(int*)(r6 + r9) = r8;
	++r7;
	r7 = 1;
	r5 = hl_types_ArrayBase_allocI32(r6,r7);
	r11 = ((Enum$t_ctx_1b2e85d*)r0)->p2;
	if( r11 == NULL ) hl_null_access();
	r4 = ((Enum$t_ctx_1b2e85d*)r0)->p0;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->group_ref;
	r10 = iron_Scene_getGroupObjectRefs(r11,r3);
	if( r10 == NULL ) hl_null_access();
	r7 = r10->length;
	r8 = 0;
	if( r7 != r8 ) goto label$996775c_35_28;
	r12 = ((Enum$t_ctx_1b2e85d*)r0)->p1;
	if( r12 == NULL ) hl_null_access();
	r12->hasValue ? ((void (*)(vdynamic*,iron__object__Object))r12->fun)((vdynamic*)r12->value,r1) : ((void (*)(iron__object__Object))r12->fun)(r1);
	goto label$996775c_35_53;
	label$996775c_35_28:
	r7 = 0;
	label$996775c_35_29:
	if( r10 == NULL ) hl_null_access();
	r9 = r10->length;
	if( r7 >= r9 ) goto label$996775c_35_53;
	r9 = r10->length;
	if( ((unsigned)r7) < ((unsigned)r9) ) goto label$996775c_35_37;
	r3 = NULL;
	goto label$996775c_35_40;
	label$996775c_35_37:
	r14 = r10->array;
	r13 = ((vdynamic**)(r14 + 1))[r7];
	r3 = (String)r13;
	label$996775c_35_40:
	++r7;
	r11 = ((Enum$t_ctx_1b2e85d*)r0)->p2;
	if( r11 == NULL ) hl_null_access();
	r15 = hl_alloc_enum(&$t_ctx_a5ec823,0);
	r12 = ((Enum$t_ctx_1b2e85d*)r0)->p1;
	((Enum$t_ctx_a5ec823*)r15)->p0 = (vclosure*)r12;
	((Enum$t_ctx_a5ec823*)r15)->p1 = (iron__object__Object)r1;
	((Enum$t_ctx_a5ec823*)r15)->p2 = (hl__types__ArrayBytes_Int)r5;
	((Enum$t_ctx_a5ec823*)r15)->p3 = (hl__types__ArrayObj)r10;
	r12 = hl_alloc_closure_ptr(&$t_fun_2e84d18,iron_Scene_createObject__$6,r15);
	r16 = NULL;
	iron_Scene_spawnObject(r11,r3,r1,r12,r16);
	goto label$996775c_35_29;
	label$996775c_35_53:
	goto label$996775c_35_57;
	label$996775c_35_54:
	r12 = ((Enum$t_ctx_1b2e85d*)r0)->p1;
	if( r12 == NULL ) hl_null_access();
	r12->hasValue ? ((void (*)(vdynamic*,iron__object__Object))r12->fun)((vdynamic*)r12->value,r1) : ((void (*)(iron__object__Object))r12->fun)(r1);
	label$996775c_35_57:
	return;
}

void iron_Scene_createObject(iron__Scene r0,iron__data__TObj r1,iron__data__TSceneFormat r2,iron__object__Object r3,iron__data__TObj r4,vclosure* r5) {
	String r8, r9, r10;
	iron__object__SpeakerObject r32;
	hl__types__ArrayObj r14, r22, r28;
	hl_type *r20;
	venum *r12, *r31, *r34;
	iron__Scene r6;
	hl__types__ArrayBytes_Int r25;
	iron__data__MaterialData r24;
	vclosure *r11, *r13, *r18, *r30;
	vdynamic *r23;
	iron__object__Object r17;
	iron__data__TSpeakerData r33;
	vbyte *r26;
	varray *r19;
	int r15, r16, r21, r27, r29;
	r6 = r0;
	if( r2 == NULL ) hl_null_access();
	r8 = r2->name;
	if( r1 == NULL ) hl_null_access();
	r9 = r1->type;
	r10 = (String)$s_camera_object;
	if( r9 != r10 && (!r9 || !r10 || String___compare(r9,(vdynamic*)r10) != 0) ) goto label$996775c_36_16;
	r10 = r1->data_ref;
	r12 = hl_alloc_enum(&$t_ctx_a119f26,0);
	((Enum$t_ctx_a119f26*)r12)->p0 = (iron__data__TObj)r1;
	((Enum$t_ctx_a119f26*)r12)->p1 = (iron__object__Object)r3;
	((Enum$t_ctx_a119f26*)r12)->p2 = (vclosure*)r5;
	((Enum$t_ctx_a119f26*)r12)->p3 = (iron__Scene)r0;
	r11 = hl_alloc_closure_ptr(&$t_fun_b2758f4,iron_Scene_createObject__$1,r12);
	iron_data_Data_getCamera(r8,r10,r11);
	goto label$996775c_36_126;
	label$996775c_36_16:
	r9 = r1->type;
	r10 = (String)$s_light_object;
	if( r9 != r10 && (!r9 || !r10 || String___compare(r9,(vdynamic*)r10) != 0) ) goto label$996775c_36_28;
	r10 = r1->data_ref;
	r12 = hl_alloc_enum(&$t_ctx_a119f26,0);
	((Enum$t_ctx_a119f26*)r12)->p0 = (iron__data__TObj)r1;
	((Enum$t_ctx_a119f26*)r12)->p1 = (iron__object__Object)r3;
	((Enum$t_ctx_a119f26*)r12)->p2 = (vclosure*)r5;
	((Enum$t_ctx_a119f26*)r12)->p3 = (iron__Scene)r0;
	r13 = hl_alloc_closure_ptr(&$t_fun_8fbee41,iron_Scene_createObject__$2,r12);
	iron_data_Data_getLight(r8,r10,r13);
	goto label$996775c_36_126;
	label$996775c_36_28:
	r9 = r1->type;
	r10 = (String)$s_mesh_object;
	if( r9 != r10 && (!r9 || !r10 || String___compare(r9,(vdynamic*)r10) != 0) ) goto label$996775c_36_103;
	r14 = r1->material_refs;
	if( !r14 ) goto label$996775c_36_38;
	r14 = r1->material_refs;
	if( r14 == NULL ) hl_null_access();
	r15 = r14->length;
	r16 = 0;
	if( r15 != r16 ) goto label$996775c_36_41;
	label$996775c_36_38:
	r17 = iron_Scene_addObject(r0,r3);
	iron_Scene_returnObject(r0,r17,r1,r5);
	goto label$996775c_36_102;
	label$996775c_36_41:
	r14 = r1->material_refs;
	if( r14 == NULL ) hl_null_access();
	r15 = r14->length;
	r20 = &$t_iron_data_MaterialData;
	r16 = 0;
	r19 = hl_alloc_array(r20,r16);
	r14 = hl_types_ArrayObj_alloc(r19);
	r21 = 0;
	if( r21 >= r15 ) goto label$996775c_36_60;
	if( r14 == NULL ) hl_null_access();
	r21 = 1;
	r16 = r15 - r21;
	r23 = NULL;
	r24 = (iron__data__MaterialData)hl_dyn_castp(&r23,&$t_dyn,&$t_iron_data_MaterialData);
	r21 = r14->length;
	if( ((unsigned)r16) < ((unsigned)r21) ) goto label$996775c_36_58;
	hl_types_ArrayObj___expand(r14,r16);
	label$996775c_36_58:
	r19 = r14->array;
	((iron__data__MaterialData*)(r19 + 1))[r16] = r24;
	label$996775c_36_60:
	r22 = r14;
	r16 = 4;
	r26 = hl_alloc_bytes(r16);
	r16 = 0;
	r21 = 0;
	r27 = 2;
	r27 = r16 << r27;
	*(int*)(r26 + r27) = r21;
	++r16;
	r16 = 1;
	r25 = hl_types_ArrayBase_allocI32(r26,r16);
	r16 = 0;
	r28 = r1->material_refs;
	if( r28 == NULL ) hl_null_access();
	r21 = r28->length;
	label$996775c_36_75:
	if( r16 >= r21 ) goto label$996775c_36_102;
	r27 = r16;
	++r16;
	if( r1 == NULL ) hl_null_access();
	r28 = r1->material_refs;
	if( r28 == NULL ) hl_null_access();
	r29 = r28->length;
	if( ((unsigned)r27) < ((unsigned)r29) ) goto label$996775c_36_86;
	r9 = NULL;
	goto label$996775c_36_89;
	label$996775c_36_86:
	r19 = r28->array;
	r23 = ((vdynamic**)(r19 + 1))[r27];
	r9 = (String)r23;
	label$996775c_36_89:
	r31 = hl_alloc_enum(&$t_ctx_a0cb5a1,0);
	((Enum$t_ctx_a0cb5a1*)r31)->p0 = (iron__data__TObj)r1;
	((Enum$t_ctx_a0cb5a1*)r31)->p1 = (iron__object__Object)r3;
	((Enum$t_ctx_a0cb5a1*)r31)->p2 = (iron__data__TObj)r4;
	((Enum$t_ctx_a0cb5a1*)r31)->p3 = (vclosure*)r5;
	((Enum$t_ctx_a0cb5a1*)r31)->p4 = (String)r8;
	((Enum$t_ctx_a0cb5a1*)r31)->p5 = (iron__Scene)r6;
	((Enum$t_ctx_a0cb5a1*)r31)->p6 = (hl__types__ArrayObj)r22;
	((Enum$t_ctx_a0cb5a1*)r31)->p7 = (hl__types__ArrayBytes_Int)r25;
	((Enum$t_ctx_a0cb5a1*)r31)->p8 = (int)r27;
	r30 = hl_alloc_closure_ptr(&$t_fun_5027319,iron_Scene_createObject__$3,r31);
	iron_data_Data_getMaterial(r8,r9,r30);
	goto label$996775c_36_75;
	label$996775c_36_102:
	goto label$996775c_36_126;
	label$996775c_36_103:
	r9 = r1->type;
	r10 = (String)$s_speaker_object;
	if( r9 != r10 && (!r9 || !r10 || String___compare(r9,(vdynamic*)r10) != 0) ) goto label$996775c_36_112;
	r14 = r2->speaker_datas;
	r9 = r1->data_ref;
	r33 = iron_data_Data_getSpeakerRawByName(r14,r9);
	r32 = iron_Scene_addSpeakerObject(r0,r33,r3);
	iron_Scene_returnObject(r0,((iron__object__Object)r32),r1,r5);
	goto label$996775c_36_126;
	label$996775c_36_112:
	r9 = r1->type;
	r10 = (String)$s_object;
	if( r9 != r10 && (!r9 || !r10 || String___compare(r9,(vdynamic*)r10) != 0) ) goto label$996775c_36_123;
	r17 = iron_Scene_addObject(r0,r3);
	r34 = hl_alloc_enum(&$t_ctx_1b2e85d,0);
	((Enum$t_ctx_1b2e85d*)r34)->p0 = (iron__data__TObj)r1;
	((Enum$t_ctx_1b2e85d*)r34)->p1 = (vclosure*)r5;
	((Enum$t_ctx_1b2e85d*)r34)->p2 = (iron__Scene)r0;
	r18 = hl_alloc_closure_ptr(&$t_fun_f2147dc,iron_Scene_createObject__$5,r34);
	iron_Scene_returnObject(r0,r17,r1,r18);
	goto label$996775c_36_126;
	label$996775c_36_123:
	if( r5 == NULL ) hl_null_access();
	r17 = NULL;
	r5->hasValue ? ((void (*)(vdynamic*,iron__object__Object))r5->fun)((vdynamic*)r5->value,r17) : ((void (*)(iron__object__Object))r5->fun)(r17);
	label$996775c_36_126:
	return;
}

hl__types__ArrayObj iron_Scene_getGroupObjectRefs(iron__Scene r0,String r1) {
	String r10;
	iron__data__TGroup r7;
	hl__types__ArrayObj r3, r6;
	iron__data__TSceneFormat r4;
	vdynamic *r8;
	varray *r9;
	int r2, r5;
	r2 = 0;
	r4 = r0->raw;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->groups;
	label$996775c_37_4:
	if( r3 == NULL ) hl_null_access();
	r5 = r3->length;
	if( r2 >= r5 ) goto label$996775c_37_22;
	r5 = r3->length;
	if( ((unsigned)r2) < ((unsigned)r5) ) goto label$996775c_37_12;
	r7 = NULL;
	goto label$996775c_37_15;
	label$996775c_37_12:
	r9 = r3->array;
	r8 = ((vdynamic**)(r9 + 1))[r2];
	r7 = (iron__data__TGroup)r8;
	label$996775c_37_15:
	++r2;
	if( r7 == NULL ) hl_null_access();
	r10 = r7->name;
	if( r10 != r1 && (!r10 || !r1 || String___compare(r10,(vdynamic*)r1) != 0) ) goto label$996775c_37_21;
	r6 = r7->object_refs;
	return r6;
	label$996775c_37_21:
	goto label$996775c_37_4;
	label$996775c_37_22:
	r3 = NULL;
	return r3;
}

void iron_Scene_returnMeshObject__$1(venum* r0,iron__data__MeshData r1) {
	String r8, r18, r19;
	iron__data__Geometry r4;
	iron__object__MeshObject r9;
	hl__types__ArrayObj r6;
	iron__Scene r10;
	bool r3;
	iron__data__Armature r5;
	iron__data__TParticleReference r15;
	iron__data__TObj r12;
	iron__data__TSceneFormat r7;
	vclosure *r20;
	vdynamic *r16;
	iron__object__Object r11;
	varray *r17;
	int r13, r14;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->isSkinned;
	if( !r3 ) goto label$996775c_38_16;
	r4 = r1->geom;
	r5 = ((Enum$t_ctx_4787021*)r0)->p1;
	if( !r5 ) goto label$996775c_38_10;
	if( r4 == NULL ) hl_null_access();
	r5 = ((Enum$t_ctx_4787021*)r0)->p1;
	iron_data_Geometry_addArmature(r4,r5);
	goto label$996775c_38_16;
	label$996775c_38_10:
	if( r4 == NULL ) hl_null_access();
	r7 = r1->format;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->objects;
	r8 = (String)$s_none;
	iron_data_Geometry_addAction(r4,r6,r8);
	label$996775c_38_16:
	r10 = ((Enum$t_ctx_4787021*)r0)->p6;
	if( r10 == NULL ) hl_null_access();
	r6 = ((Enum$t_ctx_4787021*)r0)->p2;
	r11 = ((Enum$t_ctx_4787021*)r0)->p3;
	r9 = iron_Scene_addMeshObject(r10,r1,r6,r11);
	r12 = ((Enum$t_ctx_4787021*)r0)->p4;
	if( r12 == NULL ) hl_null_access();
	r6 = r12->particle_refs;
	if( !r6 ) goto label$996775c_38_45;
	r13 = 0;
	r12 = ((Enum$t_ctx_4787021*)r0)->p4;
	if( r12 == NULL ) hl_null_access();
	r6 = r12->particle_refs;
	label$996775c_38_29:
	if( r6 == NULL ) hl_null_access();
	r14 = r6->length;
	if( r13 >= r14 ) goto label$996775c_38_45;
	r14 = r6->length;
	if( ((unsigned)r13) < ((unsigned)r14) ) goto label$996775c_38_37;
	r15 = NULL;
	goto label$996775c_38_40;
	label$996775c_38_37:
	r17 = r6->array;
	r16 = ((vdynamic**)(r17 + 1))[r13];
	r15 = (iron__data__TParticleReference)r16;
	label$996775c_38_40:
	++r13;
	if( r9 == NULL ) hl_null_access();
	r8 = ((Enum$t_ctx_4787021*)r0)->p0;
	iron_object_MeshObject_setupParticleSystem(r9,r8,r15);
	goto label$996775c_38_29;
	label$996775c_38_45:
	r12 = ((Enum$t_ctx_4787021*)r0)->p4;
	if( r12 == NULL ) hl_null_access();
	r8 = r12->tilesheet_ref;
	if( !r8 ) goto label$996775c_38_58;
	if( r9 == NULL ) hl_null_access();
	r8 = ((Enum$t_ctx_4787021*)r0)->p0;
	r12 = ((Enum$t_ctx_4787021*)r0)->p4;
	if( r12 == NULL ) hl_null_access();
	r18 = r12->tilesheet_ref;
	r12 = ((Enum$t_ctx_4787021*)r0)->p4;
	if( r12 == NULL ) hl_null_access();
	r19 = r12->tilesheet_action_ref;
	iron_object_MeshObject_setupTilesheet(r9,r8,r18,r19);
	label$996775c_38_58:
	r10 = ((Enum$t_ctx_4787021*)r0)->p6;
	if( r10 == NULL ) hl_null_access();
	r12 = ((Enum$t_ctx_4787021*)r0)->p4;
	r20 = ((Enum$t_ctx_4787021*)r0)->p5;
	iron_Scene_returnObject(r10,((iron__object__Object)r9),r12,r20);
	return;
}

void iron_Scene_returnMeshObject(iron__Scene r0,String r1,String r2,String r3,iron__data__Armature r4,hl__types__ArrayObj r5,iron__object__Object r6,iron__data__TObj r7,vclosure* r8) {
	venum *r11;
	vclosure *r10;
	r11 = hl_alloc_enum(&$t_ctx_4787021,0);
	((Enum$t_ctx_4787021*)r11)->p0 = (String)r3;
	((Enum$t_ctx_4787021*)r11)->p1 = (iron__data__Armature)r4;
	((Enum$t_ctx_4787021*)r11)->p2 = (hl__types__ArrayObj)r5;
	((Enum$t_ctx_4787021*)r11)->p3 = (iron__object__Object)r6;
	((Enum$t_ctx_4787021*)r11)->p4 = (iron__data__TObj)r7;
	((Enum$t_ctx_4787021*)r11)->p5 = (vclosure*)r8;
	((Enum$t_ctx_4787021*)r11)->p6 = (iron__Scene)r0;
	r10 = hl_alloc_closure_ptr(&$t_fun_72bab18,iron_Scene_returnMeshObject__$1,r11);
	iron_data_Data_getMesh(r1,r2,r10);
	return;
}

void iron_Scene_returnObject__$1(venum* r0,iron__data__TSceneFormat r1) {
	hl__types__ArrayObj r2;
	iron__Scene r11;
	iron__data__TObj r10;
	hl__types__ArrayBytes_Int r7;
	vclosure *r13;
	iron__object__Object r12;
	vbyte *r8;
	varray *r6;
	int r3, r4, r9;
	r2 = ((Enum$t_ctx_8aa5291*)r0)->p3;
	if( r2 == NULL ) hl_null_access();
	r3 = ((Enum$t_ctx_8aa5291*)r0)->p5;
	r4 = r2->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$996775c_40_6;
	hl_types_ArrayObj___expand(r2,r3);
	label$996775c_40_6:
	r6 = r2->array;
	((iron__data__TSceneFormat*)(r6 + 1))[r3] = r1;
	r7 = ((Enum$t_ctx_8aa5291*)r0)->p4;
	if( r7 == NULL ) hl_null_access();
	r3 = 0;
	r4 = r7->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$996775c_40_14;
	hl_types_ArrayBytes_Int___expand(r7,r3);
	label$996775c_40_14:
	r8 = r7->bytes;
	r4 = 2;
	r4 = r3 << r4;
	r9 = *(int*)(r8 + r4);
	++r9;
	*(int*)(r8 + r4) = r9;
	r7 = ((Enum$t_ctx_8aa5291*)r0)->p4;
	if( r7 == NULL ) hl_null_access();
	r3 = 0;
	r4 = r7->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$996775c_40_27;
	r3 = 0;
	goto label$996775c_40_31;
	label$996775c_40_27:
	r8 = r7->bytes;
	r4 = 2;
	r4 = r3 << r4;
	r3 = *(int*)(r8 + r4);
	label$996775c_40_31:
	r10 = ((Enum$t_ctx_8aa5291*)r0)->p1;
	if( r10 == NULL ) hl_null_access();
	r2 = r10->object_actions;
	if( r2 == NULL ) hl_null_access();
	r4 = r2->length;
	if( r3 != r4 ) goto label$996775c_40_44;
	r11 = ((Enum$t_ctx_8aa5291*)r0)->p6;
	if( r11 == NULL ) hl_null_access();
	r12 = ((Enum$t_ctx_8aa5291*)r0)->p0;
	r10 = ((Enum$t_ctx_8aa5291*)r0)->p1;
	r2 = ((Enum$t_ctx_8aa5291*)r0)->p3;
	r13 = ((Enum$t_ctx_8aa5291*)r0)->p2;
	iron_Scene_returnObjectLoaded(r11,r12,r10,r2,r13);
	label$996775c_40_44:
	return;
}

void iron_Scene_returnObject(iron__Scene r0,iron__object__Object r1,iron__data__TObj r2,vclosure* r3) {
	String r18, r20;
	hl__types__ArrayObj r6, r10;
	venum *r23;
	hl_type *r8;
	iron__Scene r4;
	hl__types__ArrayBytes_Int r13;
	iron__data__TSceneFormat r12;
	vclosure *r22;
	vdynamic *r19;
	vbyte *r14;
	int r9, r11, r15, r16, r17, r21;
	varray *r7;
	r4 = r0;
	if( !r1 ) goto label$996775c_41_74;
	if( r2 == NULL ) hl_null_access();
	r6 = r2->object_actions;
	if( !r6 ) goto label$996775c_41_74;
	r8 = &$t_iron_data_TSceneFormat;
	r9 = 0;
	r7 = hl_alloc_array(r8,r9);
	r6 = hl_types_ArrayObj_alloc(r7);
	label$996775c_41_9:
	if( r6 == NULL ) hl_null_access();
	r9 = r6->length;
	if( r2 == NULL ) hl_null_access();
	r10 = r2->object_actions;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->length;
	if( r9 >= r11 ) goto label$996775c_41_20;
	r12 = NULL;
	r9 = hl_types_ArrayObj_push(r6,((vdynamic*)r12));
	goto label$996775c_41_9;
	label$996775c_41_20:
	r9 = 4;
	r14 = hl_alloc_bytes(r9);
	r9 = 0;
	r11 = 0;
	r15 = 2;
	r15 = r9 << r15;
	*(int*)(r14 + r15) = r11;
	++r9;
	r9 = 1;
	r13 = hl_types_ArrayBase_allocI32(r14,r9);
	r9 = 0;
	r10 = r2->object_actions;
	if( r10 == NULL ) hl_null_access();
	r11 = r10->length;
	label$996775c_41_34:
	if( r9 >= r11 ) goto label$996775c_41_73;
	r15 = r9;
	++r9;
	if( r2 == NULL ) hl_null_access();
	r10 = r2->object_actions;
	if( r10 == NULL ) hl_null_access();
	r17 = r10->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$996775c_41_45;
	r18 = NULL;
	goto label$996775c_41_48;
	label$996775c_41_45:
	r7 = r10->array;
	r19 = ((vdynamic**)(r7 + 1))[r15];
	r18 = (String)r19;
	label$996775c_41_48:
	r20 = (String)$s_null;
	if( r18 != r20 && (!r18 || !r20 || String___compare(r18,(vdynamic*)r20) != 0) ) goto label$996775c_41_62;
	if( r13 == NULL ) hl_null_access();
	r16 = 0;
	r17 = r13->length;
	if( ((unsigned)r16) < ((unsigned)r17) ) goto label$996775c_41_55;
	hl_types_ArrayBytes_Int___expand(r13,r16);
	label$996775c_41_55:
	r14 = r13->bytes;
	r17 = 2;
	r17 = r16 << r17;
	r21 = *(int*)(r14 + r17);
	++r21;
	*(int*)(r14 + r17) = r21;
	goto label$996775c_41_34;
	label$996775c_41_62:
	r23 = hl_alloc_enum(&$t_ctx_8aa5291,0);
	((Enum$t_ctx_8aa5291*)r23)->p0 = (iron__object__Object)r1;
	((Enum$t_ctx_8aa5291*)r23)->p1 = (iron__data__TObj)r2;
	((Enum$t_ctx_8aa5291*)r23)->p2 = (vclosure*)r3;
	((Enum$t_ctx_8aa5291*)r23)->p3 = (hl__types__ArrayObj)r6;
	((Enum$t_ctx_8aa5291*)r23)->p4 = (hl__types__ArrayBytes_Int)r13;
	((Enum$t_ctx_8aa5291*)r23)->p5 = (int)r15;
	((Enum$t_ctx_8aa5291*)r23)->p6 = (iron__Scene)r4;
	r22 = hl_alloc_closure_ptr(&$t_fun_c7c3a3e,iron_Scene_returnObject__$1,r23);
	iron_data_Data_getSceneRaw(r18,r22);
	goto label$996775c_41_34;
	label$996775c_41_73:
	goto label$996775c_41_76;
	label$996775c_41_74:
	r6 = NULL;
	iron_Scene_returnObjectLoaded(r0,r1,r2,r6,r3);
	label$996775c_41_76:
	return;
}

void iron_Scene_returnObjectLoaded(iron__Scene r0,iron__object__Object r1,iron__data__TObj r2,hl__types__ArrayObj r3,vclosure* r4) {
	String r6;
	haxe__ds__StringMap r11;
	hl__types__ArrayObj r9;
	iron__data__TProperty r14;
	bool r8;
	iron__object__Transform r10;
	vdynamic *r7, *r15;
	varray *r16;
	int r12, r13;
	if( !r1 ) goto label$996775c_42_56;
	if( r1 == NULL ) hl_null_access();
	r1->raw = r2;
	if( r2 == NULL ) hl_null_access();
	r6 = r2->name;
	r1->name = r6;
	r7 = r2->visible;
	if( !r7 ) goto label$996775c_42_11;
	r7 = r2->visible;
	r8 = r7 ? r7->v.b : 0;
	r1->visible = r8;
	label$996775c_42_11:
	r7 = r2->visible_mesh;
	if( !r7 ) goto label$996775c_42_16;
	r7 = r2->visible_mesh;
	r8 = r7 ? r7->v.b : 0;
	r1->visibleMesh = r8;
	label$996775c_42_16:
	r7 = r2->visible_shadow;
	if( !r7 ) goto label$996775c_42_21;
	r7 = r2->visible_shadow;
	r8 = r7 ? r7->v.b : 0;
	r1->visibleShadow = r8;
	label$996775c_42_21:
	r9 = r2->constraints;
	iron_Scene_createConstraints(r9,r1);
	r10 = r1->transform;
	iron_Scene_generateTransform(r2,r10);
	((void (*)(iron__object__Object,hl__types__ArrayObj))r1->$type->vobj_proto[1])(r1,r3);
	r9 = r2->properties;
	if( !r9 ) goto label$996775c_42_53;
	r11 = (haxe__ds__StringMap)hl_alloc_obj(&$t_haxe_ds_StringMap);
	haxe_ds_StringMap_new(r11);
	r1->properties = r11;
	r12 = 0;
	r9 = r2->properties;
	label$996775c_42_33:
	if( r9 == NULL ) hl_null_access();
	r13 = r9->length;
	if( r12 >= r13 ) goto label$996775c_42_53;
	r13 = r9->length;
	if( ((unsigned)r12) < ((unsigned)r13) ) goto label$996775c_42_41;
	r14 = NULL;
	goto label$996775c_42_44;
	label$996775c_42_41:
	r16 = r9->array;
	r15 = ((vdynamic**)(r16 + 1))[r12];
	r14 = (iron__data__TProperty)r15;
	label$996775c_42_44:
	++r12;
	if( r1 == NULL ) hl_null_access();
	r11 = r1->properties;
	if( r11 == NULL ) hl_null_access();
	if( r14 == NULL ) hl_null_access();
	r6 = r14->name;
	r15 = r14->value;
	haxe_ds_StringMap_set(r11,r6,r15);
	goto label$996775c_42_33;
	label$996775c_42_53:
	if( r2 == NULL ) hl_null_access();
	r9 = r2->traits;
	iron_Scene_createTraits(r9,r1);
	label$996775c_42_56:
	if( r4 == NULL ) hl_null_access();
	r4->hasValue ? ((void (*)(vdynamic*,iron__object__Object))r4->fun)((vdynamic*)r4->value,r1) : ((void (*)(iron__object__Object))r4->fun)(r1);
	return;
}

void iron_Scene_generateTransform(iron__data__TObj r0,iron__object__Transform r1) {
	iron__math__Quat r27;
	bool r66;
	kha__math__FastMatrix4 r30, r35, r53;
	iron__math__Vec4 r26, r28, r29, r33, r34;
	iron__data__TTransform r3;
	iron__math__$Mat4 r32;
	float r7, r10, r11, r12, r13, r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r36, r37, r38, r39, r40, r41, r42, r43, r44, r45, r46, r47, r48, r49, r50, r51, r55, r56, r57, r58, r59, r60, r61, r62;
	iron__math__Mat4 r6, r31;
	kha__arrays__Float32ArrayPrivate r4;
	double r25, r52, r54, r63, r64;
	iron__object__Object r67;
	vdynamic *r65;
	vbyte *r8;
	int r5, r9;
	if( r0 == NULL ) hl_null_access();
	r3 = r0->transform;
	if( !r3 ) goto label$996775c_43_73;
	r3 = r0->transform;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->values;
	r5 = 0;
	r6 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	if( r4 == NULL ) hl_null_access();
	r8 = r4->self;
	r7 = hl_kore_float32array_get(r8,r5);
	r8 = r4->self;
	r9 = 1;
	r9 = r9 + r5;
	r10 = hl_kore_float32array_get(r8,r9);
	r8 = r4->self;
	r9 = 2;
	r9 = r9 + r5;
	r11 = hl_kore_float32array_get(r8,r9);
	r8 = r4->self;
	r9 = 3;
	r9 = r9 + r5;
	r12 = hl_kore_float32array_get(r8,r9);
	r8 = r4->self;
	r9 = 4;
	r9 = r9 + r5;
	r13 = hl_kore_float32array_get(r8,r9);
	r8 = r4->self;
	r9 = 5;
	r9 = r9 + r5;
	r14 = hl_kore_float32array_get(r8,r9);
	r8 = r4->self;
	r9 = 6;
	r9 = r9 + r5;
	r15 = hl_kore_float32array_get(r8,r9);
	r8 = r4->self;
	r9 = 7;
	r9 = r9 + r5;
	r16 = hl_kore_float32array_get(r8,r9);
	r8 = r4->self;
	r9 = 8;
	r9 = r9 + r5;
	r17 = hl_kore_float32array_get(r8,r9);
	r8 = r4->self;
	r9 = 9;
	r9 = r9 + r5;
	r18 = hl_kore_float32array_get(r8,r9);
	r8 = r4->self;
	r9 = 10;
	r9 = r9 + r5;
	r19 = hl_kore_float32array_get(r8,r9);
	r8 = r4->self;
	r9 = 11;
	r9 = r9 + r5;
	r20 = hl_kore_float32array_get(r8,r9);
	r8 = r4->self;
	r9 = 12;
	r9 = r9 + r5;
	r21 = hl_kore_float32array_get(r8,r9);
	r8 = r4->self;
	r9 = 13;
	r9 = r9 + r5;
	r22 = hl_kore_float32array_get(r8,r9);
	r8 = r4->self;
	r9 = 14;
	r9 = r9 + r5;
	r23 = hl_kore_float32array_get(r8,r9);
	r8 = r4->self;
	r9 = 15;
	r9 = r9 + r5;
	r24 = hl_kore_float32array_get(r8,r9);
	iron_math_Mat4_new(r6,r7,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20,r21,r22,r23,r24);
	goto label$996775c_43_107;
	label$996775c_43_73:
	r6 = (iron__math__Mat4)hl_alloc_obj(&$t_iron_math_Mat4);
	r25 = 1.;
	r7 = (float)r25;
	r25 = 0.;
	r10 = (float)r25;
	r25 = 0.;
	r11 = (float)r25;
	r25 = 0.;
	r12 = (float)r25;
	r25 = 0.;
	r13 = (float)r25;
	r25 = 1.;
	r14 = (float)r25;
	r25 = 0.;
	r15 = (float)r25;
	r25 = 0.;
	r16 = (float)r25;
	r25 = 0.;
	r17 = (float)r25;
	r25 = 0.;
	r18 = (float)r25;
	r25 = 1.;
	r19 = (float)r25;
	r25 = 0.;
	r20 = (float)r25;
	r25 = 0.;
	r21 = (float)r25;
	r25 = 0.;
	r22 = (float)r25;
	r25 = 0.;
	r23 = (float)r25;
	r25 = 1.;
	r24 = (float)r25;
	iron_math_Mat4_new(r6,r7,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20,r21,r22,r23,r24);
	label$996775c_43_107:
	if( r1 == NULL ) hl_null_access();
	r1->world = r6;
	r6 = r1->world;
	r26 = r1->loc;
	r27 = r1->rot;
	r28 = r1->scale;
	if( r26 == NULL ) hl_null_access();
	if( r6 == NULL ) hl_null_access();
	r30 = r6->self;
	if( r30 == NULL ) hl_null_access();
	r7 = r30->_30;
	r26->x = r7;
	r30 = r6->self;
	if( r30 == NULL ) hl_null_access();
	r7 = r30->_31;
	r26->y = r7;
	r30 = r6->self;
	if( r30 == NULL ) hl_null_access();
	r7 = r30->_32;
	r26->z = r7;
	r32 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r29 = r32->helpVec;
	if( r29 == NULL ) hl_null_access();
	r30 = r6->self;
	if( r30 == NULL ) hl_null_access();
	r7 = r30->_00;
	r29->x = r7;
	r30 = r6->self;
	if( r30 == NULL ) hl_null_access();
	r7 = r30->_01;
	r29->y = r7;
	r30 = r6->self;
	if( r30 == NULL ) hl_null_access();
	r7 = r30->_02;
	r29->z = r7;
	r25 = 1.;
	r7 = (float)r25;
	r29->w = r7;
	if( r28 == NULL ) hl_null_access();
	r7 = r29->x;
	r10 = r29->x;
	r7 = r7 * r10;
	r10 = r29->y;
	r11 = r29->y;
	r10 = r10 * r11;
	r7 = r7 + r10;
	r10 = r29->z;
	r11 = r29->z;
	r10 = r10 * r11;
	r7 = r7 + r10;
	r25 = (double)r7;
	r25 = hl_math_sqrt(r25);
	r7 = (float)r25;
	r28->x = r7;
	r32 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r33 = r32->helpVec;
	if( r33 == NULL ) hl_null_access();
	r30 = r6->self;
	if( r30 == NULL ) hl_null_access();
	r7 = r30->_10;
	r33->x = r7;
	r30 = r6->self;
	if( r30 == NULL ) hl_null_access();
	r7 = r30->_11;
	r33->y = r7;
	r30 = r6->self;
	if( r30 == NULL ) hl_null_access();
	r7 = r30->_12;
	r33->z = r7;
	r25 = 1.;
	r7 = (float)r25;
	r33->w = r7;
	r7 = r33->x;
	r10 = r33->x;
	r7 = r7 * r10;
	r10 = r33->y;
	r11 = r33->y;
	r10 = r10 * r11;
	r7 = r7 + r10;
	r10 = r33->z;
	r11 = r33->z;
	r10 = r10 * r11;
	r7 = r7 + r10;
	r25 = (double)r7;
	r25 = hl_math_sqrt(r25);
	r7 = (float)r25;
	r28->y = r7;
	r32 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r34 = r32->helpVec;
	if( r34 == NULL ) hl_null_access();
	r30 = r6->self;
	if( r30 == NULL ) hl_null_access();
	r7 = r30->_20;
	r34->x = r7;
	r30 = r6->self;
	if( r30 == NULL ) hl_null_access();
	r7 = r30->_21;
	r34->y = r7;
	r30 = r6->self;
	if( r30 == NULL ) hl_null_access();
	r7 = r30->_22;
	r34->z = r7;
	r25 = 1.;
	r7 = (float)r25;
	r34->w = r7;
	r7 = r34->x;
	r10 = r34->x;
	r7 = r7 * r10;
	r10 = r34->y;
	r11 = r34->y;
	r10 = r10 * r11;
	r7 = r7 + r10;
	r10 = r34->z;
	r11 = r34->z;
	r10 = r10 * r11;
	r7 = r7 + r10;
	r25 = (double)r7;
	r25 = hl_math_sqrt(r25);
	r7 = (float)r25;
	r28->z = r7;
	r30 = r6->self;
	if( r30 == NULL ) hl_null_access();
	r7 = r30->_12;
	r10 = r30->_22;
	r11 = r30->_32;
	r12 = r30->_13;
	r13 = r30->_23;
	r14 = r30->_33;
	r15 = r30->_11;
	r16 = r10 * r14;
	r17 = r11 * r13;
	r16 = r16 - r17;
	r15 = r15 * r16;
	r16 = r30->_21;
	r17 = r7 * r14;
	r18 = r11 * r12;
	r17 = r17 - r18;
	r16 = r16 * r17;
	r15 = r15 - r16;
	r16 = r30->_31;
	r17 = r7 * r13;
	r18 = r10 * r12;
	r17 = r17 - r18;
	r16 = r16 * r17;
	r15 = r15 + r16;
	r16 = r30->_12;
	r17 = r30->_22;
	r18 = r30->_32;
	r19 = r30->_13;
	r20 = r30->_23;
	r21 = r30->_33;
	r22 = r30->_10;
	r23 = r17 * r21;
	r24 = r18 * r20;
	r23 = r23 - r24;
	r22 = r22 * r23;
	r23 = r30->_20;
	r24 = r16 * r21;
	r36 = r18 * r19;
	r24 = r24 - r36;
	r23 = r23 * r24;
	r22 = r22 - r23;
	r23 = r30->_30;
	r24 = r16 * r20;
	r36 = r17 * r19;
	r24 = r24 - r36;
	r23 = r23 * r24;
	r22 = r22 + r23;
	r23 = r30->_11;
	r24 = r30->_21;
	r36 = r30->_31;
	r37 = r30->_13;
	r38 = r30->_23;
	r39 = r30->_33;
	r40 = r30->_10;
	r41 = r24 * r39;
	r42 = r36 * r38;
	r41 = r41 - r42;
	r40 = r40 * r41;
	r41 = r30->_20;
	r42 = r23 * r39;
	r43 = r36 * r37;
	r42 = r42 - r43;
	r41 = r41 * r42;
	r40 = r40 - r41;
	r41 = r30->_30;
	r42 = r23 * r38;
	r43 = r24 * r37;
	r42 = r42 - r43;
	r41 = r41 * r42;
	r40 = r40 + r41;
	r41 = r30->_11;
	r42 = r30->_21;
	r43 = r30->_31;
	r44 = r30->_12;
	r45 = r30->_22;
	r46 = r30->_32;
	r47 = r30->_10;
	r48 = r42 * r46;
	r49 = r43 * r45;
	r48 = r48 - r49;
	r47 = r47 * r48;
	r48 = r30->_20;
	r49 = r41 * r46;
	r50 = r43 * r44;
	r49 = r49 - r50;
	r48 = r48 * r49;
	r47 = r47 - r48;
	r48 = r30->_30;
	r49 = r41 * r45;
	r50 = r42 * r44;
	r49 = r49 - r50;
	r48 = r48 * r49;
	r47 = r47 + r48;
	r48 = r30->_00;
	r48 = r48 * r15;
	r49 = r30->_01;
	r49 = r49 * r22;
	r48 = r48 - r49;
	r49 = r30->_02;
	r49 = r49 * r40;
	r48 = r48 + r49;
	r49 = r30->_03;
	r49 = r49 * r47;
	r48 = r48 - r49;
	r25 = (double)r48;
	r52 = 0.;
	if( !(r25 < r52) ) goto label$996775c_43_338;
	r48 = r28->x;
	r48 = -r48;
	r28->x = r48;
	label$996775c_43_338:
	r25 = 1.;
	r48 = r28->x;
	r52 = (double)r48;
	r25 = r25 / r52;
	r32 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r31 = r32->helpMat;
	if( r31 == NULL ) hl_null_access();
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r53 = r6->self;
	if( r53 == NULL ) hl_null_access();
	r48 = r53->_00;
	r52 = (double)r48;
	r52 = r52 * r25;
	r48 = (float)r52;
	r35->_00 = r48;
	r32 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r31 = r32->helpMat;
	if( r31 == NULL ) hl_null_access();
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r53 = r6->self;
	if( r53 == NULL ) hl_null_access();
	r48 = r53->_01;
	r52 = (double)r48;
	r52 = r52 * r25;
	r48 = (float)r52;
	r35->_01 = r48;
	r32 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r31 = r32->helpMat;
	if( r31 == NULL ) hl_null_access();
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r53 = r6->self;
	if( r53 == NULL ) hl_null_access();
	r48 = r53->_02;
	r52 = (double)r48;
	r52 = r52 * r25;
	r48 = (float)r52;
	r35->_02 = r48;
	r52 = 1.;
	r48 = r28->y;
	r54 = (double)r48;
	r52 = r52 / r54;
	r25 = r52;
	r32 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r31 = r32->helpMat;
	if( r31 == NULL ) hl_null_access();
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r53 = r6->self;
	if( r53 == NULL ) hl_null_access();
	r48 = r53->_10;
	r52 = (double)r48;
	r52 = r52 * r25;
	r48 = (float)r52;
	r35->_10 = r48;
	r32 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r31 = r32->helpMat;
	if( r31 == NULL ) hl_null_access();
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r53 = r6->self;
	if( r53 == NULL ) hl_null_access();
	r48 = r53->_11;
	r52 = (double)r48;
	r52 = r52 * r25;
	r48 = (float)r52;
	r35->_11 = r48;
	r32 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r31 = r32->helpMat;
	if( r31 == NULL ) hl_null_access();
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r53 = r6->self;
	if( r53 == NULL ) hl_null_access();
	r48 = r53->_12;
	r52 = (double)r48;
	r52 = r52 * r25;
	r48 = (float)r52;
	r35->_12 = r48;
	r52 = 1.;
	r48 = r28->z;
	r54 = (double)r48;
	r52 = r52 / r54;
	r25 = r52;
	r32 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r31 = r32->helpMat;
	if( r31 == NULL ) hl_null_access();
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r53 = r6->self;
	if( r53 == NULL ) hl_null_access();
	r48 = r53->_20;
	r52 = (double)r48;
	r52 = r52 * r25;
	r48 = (float)r52;
	r35->_20 = r48;
	r32 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r31 = r32->helpMat;
	if( r31 == NULL ) hl_null_access();
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r53 = r6->self;
	if( r53 == NULL ) hl_null_access();
	r48 = r53->_21;
	r52 = (double)r48;
	r52 = r52 * r25;
	r48 = (float)r52;
	r35->_21 = r48;
	r32 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r31 = r32->helpMat;
	if( r31 == NULL ) hl_null_access();
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r53 = r6->self;
	if( r53 == NULL ) hl_null_access();
	r48 = r53->_22;
	r52 = (double)r48;
	r52 = r52 * r25;
	r48 = (float)r52;
	r35->_22 = r48;
	r32 = (iron__math__$Mat4)$g__iron_math_Mat4;
	r31 = r32->helpMat;
	if( r31 == NULL ) hl_null_access();
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r48 = r35->_00;
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r49 = r35->_10;
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r50 = r35->_20;
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r51 = r35->_01;
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r55 = r35->_11;
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r56 = r35->_21;
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r57 = r35->_02;
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r58 = r35->_12;
	r35 = r31->self;
	if( r35 == NULL ) hl_null_access();
	r59 = r35->_22;
	r60 = r48 + r55;
	r60 = r60 + r59;
	r52 = 0.;
	r5 = 0;
	r62 = (float)r5;
	if( !(r62 < r60) ) goto label$996775c_43_524;
	r54 = 0.5;
	r63 = (double)r60;
	r64 = 1.;
	r63 = r63 + r64;
	r63 = hl_math_sqrt(r63);
	r54 = r54 / r63;
	r52 = r54;
	if( r27 == NULL ) hl_null_access();
	r54 = 0.25;
	r54 = r54 / r52;
	r61 = (float)r54;
	r27->w = r61;
	r61 = r58 - r56;
	r54 = (double)r61;
	r54 = r54 * r52;
	r61 = (float)r54;
	r27->x = r61;
	r61 = r50 - r57;
	r54 = (double)r61;
	r54 = r54 * r52;
	r61 = (float)r54;
	r27->y = r61;
	r61 = r51 - r49;
	r54 = (double)r61;
	r54 = r54 * r52;
	r61 = (float)r54;
	r27->z = r61;
	goto label$996775c_43_622;
	label$996775c_43_524:
	if( !(r55 < r48) ) goto label$996775c_43_558;
	if( !(r59 < r48) ) goto label$996775c_43_558;
	r54 = 2.;
	r63 = 1.;
	r64 = (double)r48;
	r63 = r63 + r64;
	r64 = (double)r55;
	r63 = r63 - r64;
	r64 = (double)r59;
	r63 = r63 - r64;
	r63 = hl_math_sqrt(r63);
	r54 = r54 * r63;
	r52 = r54;
	if( r27 == NULL ) hl_null_access();
	r61 = r58 - r56;
	r54 = (double)r61;
	r54 = r54 / r52;
	r61 = (float)r54;
	r27->w = r61;
	r54 = 0.25;
	r54 = r54 * r52;
	r61 = (float)r54;
	r27->x = r61;
	r61 = r49 + r51;
	r54 = (double)r61;
	r54 = r54 / r52;
	r61 = (float)r54;
	r27->y = r61;
	r61 = r50 + r57;
	r54 = (double)r61;
	r54 = r54 / r52;
	r61 = (float)r54;
	r27->z = r61;
	goto label$996775c_43_622;
	label$996775c_43_558:
	if( !(r59 < r55) ) goto label$996775c_43_591;
	r54 = 2.;
	r63 = 1.;
	r64 = (double)r55;
	r63 = r63 + r64;
	r64 = (double)r48;
	r63 = r63 - r64;
	r64 = (double)r59;
	r63 = r63 - r64;
	r63 = hl_math_sqrt(r63);
	r54 = r54 * r63;
	r52 = r54;
	if( r27 == NULL ) hl_null_access();
	r61 = r50 - r57;
	r54 = (double)r61;
	r54 = r54 / r52;
	r61 = (float)r54;
	r27->w = r61;
	r61 = r49 + r51;
	r54 = (double)r61;
	r54 = r54 / r52;
	r61 = (float)r54;
	r27->x = r61;
	r54 = 0.25;
	r54 = r54 * r52;
	r61 = (float)r54;
	r27->y = r61;
	r61 = r56 + r58;
	r54 = (double)r61;
	r54 = r54 / r52;
	r61 = (float)r54;
	r27->z = r61;
	goto label$996775c_43_622;
	label$996775c_43_591:
	r54 = 2.;
	r63 = 1.;
	r64 = (double)r59;
	r63 = r63 + r64;
	r64 = (double)r48;
	r63 = r63 - r64;
	r64 = (double)r55;
	r63 = r63 - r64;
	r63 = hl_math_sqrt(r63);
	r54 = r54 * r63;
	r52 = r54;
	if( r27 == NULL ) hl_null_access();
	r61 = r51 - r49;
	r54 = (double)r61;
	r54 = r54 / r52;
	r61 = (float)r54;
	r27->w = r61;
	r61 = r50 + r57;
	r54 = (double)r61;
	r54 = r54 / r52;
	r61 = (float)r54;
	r27->x = r61;
	r61 = r56 + r58;
	r54 = (double)r61;
	r54 = r54 / r52;
	r61 = (float)r54;
	r27->y = r61;
	r54 = 0.25;
	r54 = r54 * r52;
	r61 = (float)r54;
	r27->z = r61;
	label$996775c_43_622:
	r65 = r0->local_only;
	if( !r65 ) goto label$996775c_43_627;
	r65 = r0->local_only;
	r66 = r65 ? r65->v.b : 0;
	r1->localOnly = r66;
	label$996775c_43_627:
	r67 = r1->object;
	if( r67 == NULL ) hl_null_access();
	r67 = r67->parent;
	if( !r67 ) goto label$996775c_43_632;
	iron_object_Transform_update(r1);
	label$996775c_43_632:
	return;
}

void iron_Scene_createTraits(hl__types__ArrayObj r0,iron__object__Object r1) {
	bool *r15;
	String r10, r11, r26;
	vvirtual *r20, *r21;
	hl__types__ArrayObj r3;
	hl_type *r13;
	iron__data__TTrait r8;
	bool r14;
	iron__Trait r17;
	haxe__$Log r19;
	double r22, r23;
	vclosure *r18;
	hl__types__ArrayDyn r12;
	vdynamic *r4;
	varray *r9;
	int r5, r6, r7, r16, r24, r25;
	if( r0 ) goto label$996775c_44_2;
	return;
	label$996775c_44_2:
	r5 = 0;
	label$996775c_44_3:
	if( r0 == NULL ) hl_null_access();
	r7 = r0->length;
	if( r5 >= r7 ) goto label$996775c_44_123;
	r7 = r0->length;
	if( ((unsigned)r5) < ((unsigned)r7) ) goto label$996775c_44_11;
	r8 = NULL;
	goto label$996775c_44_14;
	label$996775c_44_11:
	r9 = r0->array;
	r4 = ((vdynamic**)(r9 + 1))[r5];
	r8 = (iron__data__TTrait)r4;
	label$996775c_44_14:
	++r5;
	if( r8 == NULL ) hl_null_access();
	r10 = r8->type;
	r11 = (String)$s_Script;
	if( r10 != r11 && (!r10 || !r11 || String___compare(r10,(vdynamic*)r11) != 0) ) goto label$996775c_44_122;
	r13 = &$t_dyn;
	r6 = 0;
	r9 = hl_alloc_array(r13,r6);
	r3 = hl_types_ArrayObj_alloc(r9);
	r14 = true;
	r15 = &r14;
	r12 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r3),r15);
	r3 = r8->parameters;
	if( !r3 ) goto label$996775c_44_46;
	r6 = 0;
	r3 = r8->parameters;
	label$996775c_44_30:
	if( r3 == NULL ) hl_null_access();
	r16 = r3->length;
	if( r6 >= r16 ) goto label$996775c_44_46;
	r16 = r3->length;
	if( ((unsigned)r6) < ((unsigned)r16) ) goto label$996775c_44_38;
	r10 = NULL;
	goto label$996775c_44_41;
	label$996775c_44_38:
	r9 = r3->array;
	r4 = ((vdynamic**)(r9 + 1))[r6];
	r10 = (String)r4;
	label$996775c_44_41:
	++r6;
	if( r12 == NULL ) hl_null_access();
	r4 = iron_Scene_parseArg(r10);
	r7 = hl_types_ArrayDyn_push(r12,r4);
	goto label$996775c_44_30;
	label$996775c_44_46:
	if( r8 == NULL ) hl_null_access();
	r10 = r8->class_name;
	r4 = iron_Scene_createTraitClassInstance(r10,r12);
	r17 = (iron__Trait)hl_dyn_castp(&r4,&$t_dyn,&$t_iron_Trait);
	if( r17 ) goto label$996775c_44_76;
	r19 = (haxe__$Log)$g__haxe_Log;
	r18 = r19->trace;
	if( r18 == NULL ) hl_null_access();
	r10 = (String)$s_Error_Trait_;
	r11 = r8->class_name;
	r10 = String___add__(r10,r11);
	r11 = (String)$s__referenced_in_object_;
	r10 = String___add__(r10,r11);
	if( r1 == NULL ) hl_null_access();
	r11 = r1->name;
	r10 = String___add__(r10,r11);
	r11 = (String)$s__not_found;
	r10 = String___add__(r10,r11);
	r20 = hl_alloc_virtual(&$t_vrt_329ffa8);
	r11 = (String)$s_Sources_iron_Scene_hx;
	if( hl_vfields(r20)[1] ) *(String*)(hl_vfields(r20)[1]) = (String)r11; else hl_dyn_setp(r20->value,37969014/*fileName*/,&$t_String,r11);
	r6 = 673;
	if( hl_vfields(r20)[2] ) *(int*)(hl_vfields(r20)[2]) = (int)r6; else hl_dyn_seti(r20->value,371360620/*lineNumber*/,&$t_i32,r6);
	r11 = (String)$s_iron_Scene;
	if( hl_vfields(r20)[0] ) *(String*)(hl_vfields(r20)[0]) = (String)r11; else hl_dyn_setp(r20->value,-63073762/*className*/,&$t_String,r11);
	r11 = (String)$s_createTraits;
	if( hl_vfields(r20)[3] ) *(String*)(hl_vfields(r20)[3]) = (String)r11; else hl_dyn_setp(r20->value,302979532/*methodName*/,&$t_String,r11);
	r21 = hl_to_virtual(&$t_vrt_eaa6a3b,(vdynamic*)r20);
	r18->hasValue ? ((void (*)(vdynamic*,vdynamic*,vvirtual*))r18->fun)((vdynamic*)r18->value,((vdynamic*)r10),r21) : ((void (*)(vdynamic*,vvirtual*))r18->fun)(((vdynamic*)r10),r21);
	goto label$996775c_44_3;
	label$996775c_44_76:
	r3 = r8->props;
	if( !r3 ) goto label$996775c_44_120;
	r6 = 0;
	r3 = r8->props;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->length;
	r22 = (double)r7;
	r23 = 2.;
	r22 = r22 / r23;
	r7 = (int)r22;
	label$996775c_44_86:
	if( r6 >= r7 ) goto label$996775c_44_120;
	r16 = r6;
	++r6;
	if( r8 == NULL ) hl_null_access();
	r3 = r8->props;
	if( r3 == NULL ) hl_null_access();
	r25 = 2;
	r24 = r16 * r25;
	r25 = r3->length;
	if( ((unsigned)r24) < ((unsigned)r25) ) goto label$996775c_44_99;
	r10 = NULL;
	goto label$996775c_44_102;
	label$996775c_44_99:
	r9 = r3->array;
	r4 = ((vdynamic**)(r9 + 1))[r24];
	r10 = (String)r4;
	label$996775c_44_102:
	r3 = r8->props;
	if( r3 == NULL ) hl_null_access();
	r25 = 2;
	r24 = r16 * r25;
	r25 = 1;
	r24 = r24 + r25;
	r25 = r3->length;
	if( ((unsigned)r24) < ((unsigned)r25) ) goto label$996775c_44_112;
	r11 = NULL;
	goto label$996775c_44_115;
	label$996775c_44_112:
	r9 = r3->array;
	r4 = ((vdynamic**)(r9 + 1))[r24];
	r11 = (String)r4;
	label$996775c_44_115:
	r26 = (String)$s_;
	if( r11 == r26 || (r11 && r26 && String___compare(r11,(vdynamic*)r26) == 0) ) goto label$996775c_44_119;
	r4 = iron_Scene_parseArg(r11);
	Reflect_setProperty(((vdynamic*)r17),r10,r4);
	label$996775c_44_119:
	goto label$996775c_44_86;
	label$996775c_44_120:
	if( r1 == NULL ) hl_null_access();
	iron_object_Object_addTrait(r1,r17);
	label$996775c_44_122:
	goto label$996775c_44_3;
	label$996775c_44_123:
	return;
}

vdynamic* iron_Scene_parseArg(String r0) {
	bool *r11;
	String r1, r2, r6;
	hl__types__ArrayObj r10;
	hl_type *r9;
	bool r3;
	double r15, r17;
	hl__types__ArrayDyn r7;
	vdynamic *r4, *r13, *r14, *r16, *r18, *r19;
	varray *r8;
	int r5, r12;
	r2 = (String)$s_true;
	if( r0 != r2 && (!r0 || !r2 || String___compare(r0,(vdynamic*)r2) != 0) ) goto label$996775c_45_5;
	r3 = true;
	r4 = hl_alloc_dynbool(r3);
	return r4;
	label$996775c_45_5:
	r2 = (String)$s_false;
	if( r0 != r2 && (!r0 || !r2 || String___compare(r0,(vdynamic*)r2) != 0) ) goto label$996775c_45_10;
	r3 = false;
	r4 = hl_alloc_dynbool(r3);
	return r4;
	label$996775c_45_10:
	r2 = (String)$s_null;
	if( r0 != r2 && (!r0 || !r2 || String___compare(r0,(vdynamic*)r2) != 0) ) goto label$996775c_45_14;
	r4 = NULL;
	return r4;
	label$996775c_45_14:
	if( r0 == NULL ) hl_null_access();
	r5 = 0;
	r1 = String_charAt(r0,r5);
	r2 = (String)$s_3590cb8;
	if( r1 != r2 && (!r1 || !r2 || String___compare(r1,(vdynamic*)r2) != 0) ) goto label$996775c_45_23;
	r2 = (String)$s_3590cb8;
	r6 = (String)$s_;
	r1 = StringTools_replace(r0,r2,r6);
	return ((vdynamic*)r1);
	label$996775c_45_23:
	r5 = 0;
	r1 = String_charAt(r0,r5);
	r2 = (String)$s_b15835f;
	if( r1 != r2 && (!r1 || !r2 || String___compare(r1,(vdynamic*)r2) != 0) ) goto label$996775c_45_31;
	r2 = (String)$s_b15835f;
	r6 = (String)$s_;
	r1 = StringTools_replace(r0,r2,r6);
	return ((vdynamic*)r1);
	label$996775c_45_31:
	r5 = 0;
	r1 = String_charAt(r0,r5);
	r2 = (String)$s_8154172;
	if( r1 != r2 && (!r1 || !r2 || String___compare(r1,(vdynamic*)r2) != 0) ) goto label$996775c_45_75;
	r2 = (String)$s_8154172;
	r6 = (String)$s_;
	r1 = StringTools_replace(r0,r2,r6);
	r2 = (String)$s_0fbd177;
	r6 = (String)$s_;
	r1 = StringTools_replace(r1,r2,r6);
	r2 = (String)$s_7215ee9;
	r6 = (String)$s_;
	r1 = StringTools_replace(r1,r2,r6);
	r9 = &$t_dyn;
	r5 = 0;
	r8 = hl_alloc_array(r9,r5);
	r10 = hl_types_ArrayObj_alloc(r8);
	r3 = true;
	r11 = &r3;
	r7 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r10),r11);
	r4 = ((vdynamic*)r7);
	if( r1 == NULL ) hl_null_access();
	r2 = (String)$s_c0cb5f0;
	r10 = String_split(r1,r2);
	r5 = 0;
	label$996775c_45_56:
	if( r10 == NULL ) hl_null_access();
	r12 = r10->length;
	if( r5 >= r12 ) goto label$996775c_45_74;
	r12 = r10->length;
	if( ((unsigned)r5) < ((unsigned)r12) ) goto label$996775c_45_64;
	r1 = NULL;
	goto label$996775c_45_67;
	label$996775c_45_64:
	r8 = r10->array;
	r13 = ((vdynamic**)(r8 + 1))[r5];
	r1 = (String)r13;
	label$996775c_45_67:
	++r5;
	if( r4 == NULL ) hl_null_access();
	r13 = (vdynamic*)hl_dyn_getp((vdynamic*)r4,174133988/*push*/,&$t_dyn);
	if( r13 == NULL ) hl_null_access();
	r14 = iron_Scene_parseArg(r1);
	{
		vdynamic *args[] = {r14};
		r13 = (vdynamic*)hl_dyn_call((vclosure*)r13,args,1);
	}
	goto label$996775c_45_56;
	label$996775c_45_74:
	return r4;
	label$996775c_45_75:
	r15 = Std_parseFloat(r0);
	r16 = Std_parseInt(r0);
	r18 = hl_alloc_dynamic(&$t_f64);
	r18->v.d = r15;
	if( !r16 ) goto label$996775c_45_83;
	r5 = r16 ? r16->v.i : 0;
	r17 = (double)r5;
	r19 = hl_alloc_dynamic(&$t_f64);
	r19->v.d = r17;
	goto label$996775c_45_84;
	label$996775c_45_83:
	r19 = NULL;
	label$996775c_45_84:
	if( r18 != r19 && (!r18 || !r19 || (r18->v.d != r19->v.d)) ) goto label$996775c_45_86;
	return ((vdynamic*)r16);
	label$996775c_45_86:
	r4 = hl_alloc_dynamic(&$t_f64);
	r4->v.d = r15;
	return r4;
}

void iron_Scene_createConstraints(hl__types__ArrayObj r0,iron__object__Object r1) {
	hl__types__ArrayObj r3;
	hl_type *r6;
	iron__object__Constraint r11;
	iron__data__TConstraint r10;
	vdynamic *r4;
	int r7, r8, r9;
	varray *r5;
	if( r0 ) goto label$996775c_46_2;
	return;
	label$996775c_46_2:
	if( r1 == NULL ) hl_null_access();
	r6 = &$t_iron_object_Constraint;
	r7 = 0;
	r5 = hl_alloc_array(r6,r7);
	r3 = hl_types_ArrayObj_alloc(r5);
	r1->constraints = r3;
	r7 = 0;
	label$996775c_46_9:
	if( r0 == NULL ) hl_null_access();
	r9 = r0->length;
	if( r7 >= r9 ) goto label$996775c_46_28;
	r9 = r0->length;
	if( ((unsigned)r7) < ((unsigned)r9) ) goto label$996775c_46_17;
	r10 = NULL;
	goto label$996775c_46_20;
	label$996775c_46_17:
	r5 = r0->array;
	r4 = ((vdynamic**)(r5 + 1))[r7];
	r10 = (iron__data__TConstraint)r4;
	label$996775c_46_20:
	++r7;
	r11 = (iron__object__Constraint)hl_alloc_obj(&$t_iron_object_Constraint);
	iron_object_Constraint_new(r11,r10);
	if( r1 == NULL ) hl_null_access();
	r3 = r1->constraints;
	if( r3 == NULL ) hl_null_access();
	r8 = hl_types_ArrayObj_push(r3,((vdynamic*)r11));
	goto label$996775c_46_9;
	label$996775c_46_28:
	return;
}

vdynamic* iron_Scene_createTraitClassInstance(String r0,hl__types__ArrayDyn r1) {
	hl__Class r2;
	vdynamic *r3;
	r2 = Type_resolveClass(r0);
	if( r2 ) goto label$996775c_47_4;
	r3 = NULL;
	return r3;
	label$996775c_47_4:
	r3 = Type_createInstance(r2,r1);
	return r3;
}

void iron_Scene_loadEmbeddedData__$1(venum* r0) {
	hl__types__ArrayObj r7;
	hl__types__ArrayBytes_Int r1;
	vclosure *r8;
	vbyte *r5;
	int r2, r3, r6;
	r1 = ((Enum$t_ctx_f5a6c69*)r0)->p2;
	if( r1 == NULL ) hl_null_access();
	r2 = 0;
	r3 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$996775c_48_6;
	hl_types_ArrayBytes_Int___expand(r1,r2);
	label$996775c_48_6:
	r5 = r1->bytes;
	r3 = 2;
	r3 = r2 << r3;
	r6 = *(int*)(r5 + r3);
	++r6;
	*(int*)(r5 + r3) = r6;
	r1 = ((Enum$t_ctx_f5a6c69*)r0)->p2;
	if( r1 == NULL ) hl_null_access();
	r2 = 0;
	r3 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$996775c_48_19;
	r2 = 0;
	goto label$996775c_48_23;
	label$996775c_48_19:
	r5 = r1->bytes;
	r3 = 2;
	r3 = r2 << r3;
	r2 = *(int*)(r5 + r3);
	label$996775c_48_23:
	r7 = ((Enum$t_ctx_f5a6c69*)r0)->p0;
	if( r7 == NULL ) hl_null_access();
	r3 = r7->length;
	if( r2 != r3 ) goto label$996775c_48_30;
	r8 = ((Enum$t_ctx_f5a6c69*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->hasValue ? ((void (*)(vdynamic*))r8->fun)((vdynamic*)r8->value) : ((void (*)(void))r8->fun)();
	label$996775c_48_30:
	return;
}

void iron_Scene_loadEmbeddedData(iron__Scene r0,hl__types__ArrayObj r1,vclosure* r2) {
	String r11;
	venum *r13;
	hl__types__ArrayBytes_Int r6;
	vclosure *r4;
	vdynamic *r5;
	varray *r12;
	int r8, r9, r10;
	vbyte *r7;
	if( r1 ) goto label$996775c_49_4;
	if( r2 == NULL ) hl_null_access();
	r2->hasValue ? ((void (*)(vdynamic*))r2->fun)((vdynamic*)r2->value) : ((void (*)(void))r2->fun)();
	return;
	label$996775c_49_4:
	r8 = 4;
	r7 = hl_alloc_bytes(r8);
	r8 = 0;
	r9 = 0;
	r10 = 2;
	r10 = r8 << r10;
	*(int*)(r7 + r10) = r9;
	++r8;
	r8 = 1;
	r6 = hl_types_ArrayBase_allocI32(r7,r8);
	r8 = 0;
	label$996775c_49_15:
	if( r1 == NULL ) hl_null_access();
	r10 = r1->length;
	if( r8 >= r10 ) goto label$996775c_49_34;
	r10 = r1->length;
	if( ((unsigned)r8) < ((unsigned)r10) ) goto label$996775c_49_23;
	r11 = NULL;
	goto label$996775c_49_26;
	label$996775c_49_23:
	r12 = r1->array;
	r5 = ((vdynamic**)(r12 + 1))[r8];
	r11 = (String)r5;
	label$996775c_49_26:
	++r8;
	r13 = hl_alloc_enum(&$t_ctx_f5a6c69,0);
	((Enum$t_ctx_f5a6c69*)r13)->p0 = (hl__types__ArrayObj)r1;
	((Enum$t_ctx_f5a6c69*)r13)->p1 = (vclosure*)r2;
	((Enum$t_ctx_f5a6c69*)r13)->p2 = (hl__types__ArrayBytes_Int)r6;
	r4 = hl_alloc_closure_ptr(&$t_fun_790c618,iron_Scene_loadEmbeddedData__$1,r13);
	iron_Scene_embedData(r0,r11,r4);
	goto label$996775c_49_15;
	label$996775c_49_34:
	return;
}

void iron_Scene_embedData__$1(venum* r0,kha__internal__BytesBlob r1) {
	String r14;
	kha__Image r8;
	haxe__ds__StringMap r12;
	iron__Scene r13;
	haxe__io__Bytes r2;
	vclosure *r15;
	double r4, r6;
	vdynamic *r10, *r11;
	int r5, r7, r9;
	if( r1 == NULL ) hl_null_access();
	r2 = kha_internal_BytesBlob_toBytes(r1);
	if( r2 == NULL ) hl_null_access();
	r5 = r2->length;
	r4 = (double)r5;
	r6 = 0.33333333333333331;
	r4 = hl_math_pow(r4,r6);
	r5 = (int)r4;
	r7 = 1;
	r5 = r5 + r7;
	r9 = 1;
	r10 = hl_alloc_dynamic(&$t_i32);
	r10->v.i = r9;
	r11 = NULL;
	r8 = kha_Image_fromBytes3D(r2,r5,r5,r5,r10,r11);
	r13 = ((Enum$t_ctx_d0fbc4f*)r0)->p2;
	if( r13 == NULL ) hl_null_access();
	r12 = r13->embedded;
	if( r12 == NULL ) hl_null_access();
	r14 = ((Enum$t_ctx_d0fbc4f*)r0)->p0;
	haxe_ds_StringMap_set(r12,r14,((vdynamic*)r8));
	r15 = ((Enum$t_ctx_d0fbc4f*)r0)->p1;
	if( r15 == NULL ) hl_null_access();
	r15->hasValue ? ((void (*)(vdynamic*))r15->fun)((vdynamic*)r15->value) : ((void (*)(void))r15->fun)();
	return;
}

void iron_Scene_embedData__$2(venum* r0,kha__Image r1) {
	String r5;
	haxe__ds__StringMap r3;
	iron__Scene r4;
	vclosure *r6;
	r4 = ((Enum$t_ctx_d0fbc4f*)r0)->p2;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->embedded;
	if( r3 == NULL ) hl_null_access();
	r5 = ((Enum$t_ctx_d0fbc4f*)r0)->p0;
	haxe_ds_StringMap_set(r3,r5,((vdynamic*)r1));
	r6 = ((Enum$t_ctx_d0fbc4f*)r0)->p1;
	if( r6 == NULL ) hl_null_access();
	r6->hasValue ? ((void (*)(vdynamic*))r6->fun)((vdynamic*)r6->value) : ((void (*)(void))r6->fun)();
	return;
}

void iron_Scene_embedData(iron__Scene r0,String r1,vclosure* r2) {
	bool *r9;
	String r5;
	venum *r7;
	bool r4;
	vclosure *r6, *r8;
	r5 = (String)$s__raw;
	r4 = StringTools_endsWith(r1,r5);
	if( !r4 ) goto label$996775c_52_10;
	r7 = hl_alloc_enum(&$t_ctx_d0fbc4f,0);
	((Enum$t_ctx_d0fbc4f*)r7)->p0 = (String)r1;
	((Enum$t_ctx_d0fbc4f*)r7)->p1 = (vclosure*)r2;
	((Enum$t_ctx_d0fbc4f*)r7)->p2 = (iron__Scene)r0;
	r6 = hl_alloc_closure_ptr(&$t_fun_6f0f4f7,iron_Scene_embedData__$1,r7);
	iron_data_Data_getBlob(r1,r6);
	goto label$996775c_52_18;
	label$996775c_52_10:
	r7 = hl_alloc_enum(&$t_ctx_d0fbc4f,0);
	((Enum$t_ctx_d0fbc4f*)r7)->p0 = (String)r1;
	((Enum$t_ctx_d0fbc4f*)r7)->p1 = (vclosure*)r2;
	((Enum$t_ctx_d0fbc4f*)r7)->p2 = (iron__Scene)r0;
	r8 = hl_alloc_closure_ptr(&$t_fun_b37a54b,iron_Scene_embedData__$2,r7);
	r9 = NULL;
	r5 = NULL;
	iron_data_Data_getImage(r1,r8,r9,r5);
	label$996775c_52_18:
	return;
}

void iron_Scene_notifyOnInit(iron__Scene r0,vclosure* r1) {
	hl__types__ArrayObj r5;
	bool r3;
	int r4;
	r3 = r0->ready;
	if( !r3 ) goto label$996775c_53_5;
	if( r1 == NULL ) hl_null_access();
	r1->hasValue ? ((void (*)(vdynamic*))r1->fun)((vdynamic*)r1->value) : ((void (*)(void))r1->fun)();
	goto label$996775c_53_8;
	label$996775c_53_5:
	r5 = r0->traitInits;
	if( r5 == NULL ) hl_null_access();
	r4 = hl_types_ArrayObj_push(r5,((vdynamic*)r1));
	label$996775c_53_8:
	return;
}

void iron_Scene_new(iron__Scene r0) {
	String r10;
	haxe__ds__StringMap r5;
	hl__types__ArrayObj r1;
	hl_type *r3;
	iron__$Scene r6;
	iron__object__Object r9;
	int r4, r7;
	varray *r2;
	r3 = &$t_fun_7b48b4f;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r0->traitRemoves = r1;
	r3 = &$t_fun_7b48b4f;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r0->traitInits = r1;
	r5 = NULL;
	r0->groups = r5;
	r6 = (iron__$Scene)$g__iron_Scene;
	r4 = r6->uidCounter;
	r7 = r4;
	++r4;
	r6->uidCounter = r4;
	r0->uid = r7;
	r3 = &$t_iron_object_MeshObject;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r0->meshes = r1;
	r3 = &$t_iron_object_LightObject;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r0->lights = r1;
	r3 = &$t_iron_object_CameraObject;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r0->cameras = r1;
	r3 = &$t_iron_object_SpeakerObject;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r0->speakers = r1;
	r3 = &$t_iron_object_Object;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r0->empties = r1;
	r3 = &$t_iron_object_Animation;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r0->animations = r1;
	r3 = &$t_iron_data_Armature;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r0->armatures = r1;
	r5 = (haxe__ds__StringMap)hl_alloc_obj(&$t_haxe_ds_StringMap);
	haxe_ds_StringMap_new(r5);
	r0->embedded = r5;
	r9 = (iron__object__Object)hl_alloc_obj(&$t_iron_object_Object);
	iron_object_Object_new(r9);
	r0->root = r9;
	r9 = r0->root;
	if( r9 == NULL ) hl_null_access();
	r10 = (String)$s_Root;
	r9->name = r10;
	r3 = &$t_fun_7b48b4f;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r0->traitInits = r1;
	r3 = &$t_fun_7b48b4f;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r0->traitRemoves = r1;
	r6 = (iron__$Scene)$g__iron_Scene;
	r9 = r6->global;
	if( r9 ) goto label$996775c_54_80;
	r9 = (iron__object__Object)hl_alloc_obj(&$t_iron_object_Object);
	iron_object_Object_new(r9);
	r6 = (iron__$Scene)$g__iron_Scene;
	r6->global = r9;
	label$996775c_54_80:
	return;
}

