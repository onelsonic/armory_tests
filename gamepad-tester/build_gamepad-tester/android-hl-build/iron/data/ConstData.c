// Generated by HLC 4.0.0 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <iron/data/ConstData.h>
#include <kha/graphics4/VertexStructure.h>
#include <kha/arrays/Float32ArrayPrivate.h>
#include <kha/arrays/Uint32ArrayPrivate.h>
#include <hl/natives.h>
hl__types__ArrayBytes_Float hl_types_ArrayBase_allocF64(vbyte*,int);
hl__types__ArrayBytes_Int hl_types_ArrayBase_allocI32(vbyte*,int);
extern hl_type $t_kha_graphics4_VertexStructure;
void kha_graphics4_VertexStructure_new(kha__graphics4__VertexStructure);
extern String $s_pos;
void kha_graphics4_VertexStructure_add(kha__graphics4__VertexStructure,String,int);
int kha_graphics4_VertexStructure_byteSize(kha__graphics4__VertexStructure);
extern hl_type $t_kha_graphics4_VertexBuffer;
void kha_graphics4_VertexBuffer_new(kha__graphics4__VertexBuffer,int,kha__graphics4__VertexStructure,int,int*,bool*);
extern iron__data__$ConstData $g__iron_data_ConstData;
kha__arrays__Float32ArrayPrivate kha_graphics4_VertexBuffer_lock(kha__graphics4__VertexBuffer,vdynamic*,vdynamic*);
void kha_graphics4_VertexBuffer_unlock(kha__graphics4__VertexBuffer,vdynamic*);
extern hl_type $t_kha_graphics4_IndexBuffer;
void kha_graphics4_IndexBuffer_new(kha__graphics4__IndexBuffer,int,int,bool*);
kha__arrays__Uint32ArrayPrivate kha_graphics4_IndexBuffer_lock(kha__graphics4__IndexBuffer);
void kha_graphics4_IndexBuffer_unlock(kha__graphics4__IndexBuffer);
extern String $s_nor;

void iron_data_ConstData_createScreenAlignedData() {
	bool *r14;
	String r9;
	iron__data__$ConstData r15;
	hl__types__ArrayBytes_Int r6;
	kha__graphics4__VertexBuffer r12;
	kha__graphics4__IndexBuffer r23;
	float r22;
	kha__arrays__Float32ArrayPrivate r16;
	hl__types__ArrayBytes_Float r0;
	kha__arrays__Uint32ArrayPrivate r24;
	double r3, r10, r11;
	vdynamic *r17, *r18;
	int *r13;
	kha__graphics4__VertexStructure r8;
	int r2, r4, r7, r19, r20, r21;
	vbyte *r1;
	r2 = 48;
	r1 = hl_alloc_bytes(r2);
	r2 = 0;
	r3 = -1.;
	r4 = 3;
	r4 = r2 << r4;
	*(double*)(r1 + r4) = r3;
	++r2;
	r3 = -1.;
	r4 = 3;
	r4 = r2 << r4;
	*(double*)(r1 + r4) = r3;
	++r2;
	r3 = 3.;
	r4 = 3;
	r4 = r2 << r4;
	*(double*)(r1 + r4) = r3;
	++r2;
	r3 = -1.;
	r4 = 3;
	r4 = r2 << r4;
	*(double*)(r1 + r4) = r3;
	++r2;
	r3 = -1.;
	r4 = 3;
	r4 = r2 << r4;
	*(double*)(r1 + r4) = r3;
	++r2;
	r3 = 3.;
	r4 = 3;
	r4 = r2 << r4;
	*(double*)(r1 + r4) = r3;
	++r2;
	r2 = 6;
	r0 = hl_types_ArrayBase_allocF64(r1,r2);
	r2 = 12;
	r1 = hl_alloc_bytes(r2);
	r2 = 0;
	r4 = 0;
	r7 = 2;
	r7 = r2 << r7;
	*(int*)(r1 + r7) = r4;
	++r2;
	r4 = 1;
	r7 = 2;
	r7 = r2 << r7;
	*(int*)(r1 + r7) = r4;
	++r2;
	r4 = 2;
	r7 = 2;
	r7 = r2 << r7;
	*(int*)(r1 + r7) = r4;
	++r2;
	r2 = 3;
	r6 = hl_types_ArrayBase_allocI32(r1,r2);
	r8 = (kha__graphics4__VertexStructure)hl_alloc_obj(&$t_kha_graphics4_VertexStructure);
	kha_graphics4_VertexStructure_new(r8);
	r9 = (String)$s_pos;
	r2 = 1;
	kha_graphics4_VertexStructure_add(r8,r9,r2);
	if( r0 == NULL ) hl_null_access();
	r2 = r0->length;
	r4 = kha_graphics4_VertexStructure_byteSize(r8);
	r3 = (double)r4;
	r10 = 4.;
	r3 = r3 / r10;
	r10 = (double)r2;
	r4 = (int)r3;
	r11 = (double)r4;
	r10 = r10 / r11;
	r12 = (kha__graphics4__VertexBuffer)hl_alloc_obj(&$t_kha_graphics4_VertexBuffer);
	r4 = (int)r10;
	r7 = 0;
	r13 = NULL;
	r14 = NULL;
	kha_graphics4_VertexBuffer_new(r12,r4,r8,r7,r13,r14);
	r15 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r15->screenAlignedVB = r12;
	r15 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r12 = r15->screenAlignedVB;
	if( r12 == NULL ) hl_null_access();
	r17 = NULL;
	r18 = NULL;
	r16 = kha_graphics4_VertexBuffer_lock(r12,r17,r18);
	r4 = 0;
	if( r16 == NULL ) hl_null_access();
	r7 = r16->length;
	label$7b5f280_1_87:
	if( r4 >= r7 ) goto label$7b5f280_1_105;
	r19 = r4;
	++r4;
	if( r0 == NULL ) hl_null_access();
	r21 = r0->length;
	if( ((unsigned)r19) < ((unsigned)r21) ) goto label$7b5f280_1_96;
	r11 = 0.;
	goto label$7b5f280_1_100;
	label$7b5f280_1_96:
	r1 = r0->bytes;
	r21 = 3;
	r21 = r19 << r21;
	r11 = *(double*)(r1 + r21);
	label$7b5f280_1_100:
	r22 = (float)r11;
	if( r16 == NULL ) hl_null_access();
	r1 = r16->self;
	hl_kore_float32array_set(r1,r19,r22);
	goto label$7b5f280_1_87;
	label$7b5f280_1_105:
	r15 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r12 = r15->screenAlignedVB;
	if( r12 == NULL ) hl_null_access();
	r17 = NULL;
	kha_graphics4_VertexBuffer_unlock(r12,r17);
	r23 = (kha__graphics4__IndexBuffer)hl_alloc_obj(&$t_kha_graphics4_IndexBuffer);
	if( r6 == NULL ) hl_null_access();
	r4 = r6->length;
	r7 = 0;
	r14 = NULL;
	kha_graphics4_IndexBuffer_new(r23,r4,r7,r14);
	r15 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r15->screenAlignedIB = r23;
	r15 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r23 = r15->screenAlignedIB;
	if( r23 == NULL ) hl_null_access();
	r24 = kha_graphics4_IndexBuffer_lock(r23);
	r4 = 0;
	if( r24 == NULL ) hl_null_access();
	r7 = r24->length;
	label$7b5f280_1_125:
	if( r4 >= r7 ) goto label$7b5f280_1_142;
	r19 = r4;
	++r4;
	if( r6 == NULL ) hl_null_access();
	r21 = r6->length;
	if( ((unsigned)r19) < ((unsigned)r21) ) goto label$7b5f280_1_134;
	r20 = 0;
	goto label$7b5f280_1_138;
	label$7b5f280_1_134:
	r1 = r6->bytes;
	r21 = 2;
	r21 = r19 << r21;
	r20 = *(int*)(r1 + r21);
	label$7b5f280_1_138:
	if( r24 == NULL ) hl_null_access();
	r1 = r24->self;
	hl_kore_uint32array_set(r1,r19,r20);
	goto label$7b5f280_1_125;
	label$7b5f280_1_142:
	r15 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r23 = r15->screenAlignedIB;
	if( r23 == NULL ) hl_null_access();
	kha_graphics4_IndexBuffer_unlock(r23);
	return;
}

void iron_data_ConstData_createSkydomeData() {
	bool *r14;
	String r2;
	iron__data__$ConstData r7;
	hl__types__ArrayBytes_Int r24;
	kha__graphics4__VertexBuffer r11;
	kha__graphics4__IndexBuffer r25;
	float r23;
	kha__arrays__Float32ArrayPrivate r15;
	hl__types__ArrayBytes_Float r6, r8;
	kha__arrays__Uint32ArrayPrivate r26;
	double r4, r5, r10, r18;
	vdynamic *r16, *r17;
	int *r13;
	vbyte *r22;
	int r3, r9, r12, r19, r20, r21;
	kha__graphics4__VertexStructure r0;
	r0 = (kha__graphics4__VertexStructure)hl_alloc_obj(&$t_kha_graphics4_VertexStructure);
	kha_graphics4_VertexStructure_new(r0);
	r2 = (String)$s_pos;
	r3 = 2;
	kha_graphics4_VertexStructure_add(r0,r2,r3);
	r2 = (String)$s_nor;
	r3 = 2;
	kha_graphics4_VertexStructure_add(r0,r2,r3);
	r3 = kha_graphics4_VertexStructure_byteSize(r0);
	r4 = (double)r3;
	r5 = 4.;
	r4 = r4 / r5;
	r3 = (int)r4;
	r7 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r6 = r7->skydomePos;
	r7 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r8 = r7->skydomeNor;
	if( r6 == NULL ) hl_null_access();
	r9 = r6->length;
	r5 = (double)r9;
	r10 = 3.;
	r5 = r5 / r10;
	r11 = (kha__graphics4__VertexBuffer)hl_alloc_obj(&$t_kha_graphics4_VertexBuffer);
	r9 = (int)r5;
	r12 = 0;
	r13 = NULL;
	r14 = NULL;
	kha_graphics4_VertexBuffer_new(r11,r9,r0,r12,r13,r14);
	r7 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r7->skydomeVB = r11;
	r7 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r11 = r7->skydomeVB;
	if( r11 == NULL ) hl_null_access();
	r16 = NULL;
	r17 = NULL;
	r15 = kha_graphics4_VertexBuffer_lock(r11,r16,r17);
	r9 = 0;
	if( r15 == NULL ) hl_null_access();
	r12 = r15->length;
	r10 = (double)r12;
	r18 = (double)r3;
	r10 = r10 / r18;
	r12 = (int)r10;
	label$7b5f280_2_43:
	if( r9 >= r12 ) goto label$7b5f280_2_156;
	r19 = r9;
	++r9;
	if( r6 == NULL ) hl_null_access();
	r21 = 3;
	r20 = r19 * r21;
	r21 = r6->length;
	if( ((unsigned)r20) < ((unsigned)r21) ) goto label$7b5f280_2_54;
	r18 = 0.;
	goto label$7b5f280_2_58;
	label$7b5f280_2_54:
	r22 = r6->bytes;
	r21 = 3;
	r21 = r20 << r21;
	r18 = *(double*)(r22 + r21);
	label$7b5f280_2_58:
	r23 = (float)r18;
	if( r15 == NULL ) hl_null_access();
	r22 = r15->self;
	r20 = r19 * r3;
	hl_kore_float32array_set(r22,r20,r23);
	r21 = 3;
	r20 = r19 * r21;
	r21 = 1;
	r20 = r20 + r21;
	r21 = r6->length;
	if( ((unsigned)r20) < ((unsigned)r21) ) goto label$7b5f280_2_71;
	r18 = 0.;
	goto label$7b5f280_2_75;
	label$7b5f280_2_71:
	r22 = r6->bytes;
	r21 = 3;
	r21 = r20 << r21;
	r18 = *(double*)(r22 + r21);
	label$7b5f280_2_75:
	r23 = (float)r18;
	r22 = r15->self;
	r20 = r19 * r3;
	r21 = 1;
	r20 = r20 + r21;
	hl_kore_float32array_set(r22,r20,r23);
	r21 = 3;
	r20 = r19 * r21;
	r21 = 2;
	r20 = r20 + r21;
	r21 = r6->length;
	if( ((unsigned)r20) < ((unsigned)r21) ) goto label$7b5f280_2_89;
	r18 = 0.;
	goto label$7b5f280_2_93;
	label$7b5f280_2_89:
	r22 = r6->bytes;
	r21 = 3;
	r21 = r20 << r21;
	r18 = *(double*)(r22 + r21);
	label$7b5f280_2_93:
	r23 = (float)r18;
	r22 = r15->self;
	r20 = r19 * r3;
	r21 = 2;
	r20 = r20 + r21;
	hl_kore_float32array_set(r22,r20,r23);
	if( r8 == NULL ) hl_null_access();
	r21 = 3;
	r20 = r19 * r21;
	r21 = r8->length;
	if( ((unsigned)r20) < ((unsigned)r21) ) goto label$7b5f280_2_106;
	r18 = 0.;
	goto label$7b5f280_2_110;
	label$7b5f280_2_106:
	r22 = r8->bytes;
	r21 = 3;
	r21 = r20 << r21;
	r18 = *(double*)(r22 + r21);
	label$7b5f280_2_110:
	r18 = -r18;
	r23 = (float)r18;
	r22 = r15->self;
	r20 = r19 * r3;
	r21 = 3;
	r20 = r20 + r21;
	hl_kore_float32array_set(r22,r20,r23);
	r21 = 3;
	r20 = r19 * r21;
	r21 = 1;
	r20 = r20 + r21;
	r21 = r8->length;
	if( ((unsigned)r20) < ((unsigned)r21) ) goto label$7b5f280_2_125;
	r18 = 0.;
	goto label$7b5f280_2_129;
	label$7b5f280_2_125:
	r22 = r8->bytes;
	r21 = 3;
	r21 = r20 << r21;
	r18 = *(double*)(r22 + r21);
	label$7b5f280_2_129:
	r18 = -r18;
	r23 = (float)r18;
	r22 = r15->self;
	r20 = r19 * r3;
	r21 = 4;
	r20 = r20 + r21;
	hl_kore_float32array_set(r22,r20,r23);
	r21 = 3;
	r20 = r19 * r21;
	r21 = 2;
	r20 = r20 + r21;
	r21 = r8->length;
	if( ((unsigned)r20) < ((unsigned)r21) ) goto label$7b5f280_2_144;
	r18 = 0.;
	goto label$7b5f280_2_148;
	label$7b5f280_2_144:
	r22 = r8->bytes;
	r21 = 3;
	r21 = r20 << r21;
	r18 = *(double*)(r22 + r21);
	label$7b5f280_2_148:
	r18 = -r18;
	r23 = (float)r18;
	r22 = r15->self;
	r20 = r19 * r3;
	r21 = 5;
	r20 = r20 + r21;
	hl_kore_float32array_set(r22,r20,r23);
	goto label$7b5f280_2_43;
	label$7b5f280_2_156:
	r7 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r11 = r7->skydomeVB;
	if( r11 == NULL ) hl_null_access();
	r16 = NULL;
	kha_graphics4_VertexBuffer_unlock(r11,r16);
	r7 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r24 = r7->skydomeIndices;
	r25 = (kha__graphics4__IndexBuffer)hl_alloc_obj(&$t_kha_graphics4_IndexBuffer);
	if( r24 == NULL ) hl_null_access();
	r9 = r24->length;
	r12 = 0;
	r14 = NULL;
	kha_graphics4_IndexBuffer_new(r25,r9,r12,r14);
	r7 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r7->skydomeIB = r25;
	r7 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r25 = r7->skydomeIB;
	if( r25 == NULL ) hl_null_access();
	r26 = kha_graphics4_IndexBuffer_lock(r25);
	r9 = 0;
	if( r26 == NULL ) hl_null_access();
	r12 = r26->length;
	label$7b5f280_2_178:
	if( r9 >= r12 ) goto label$7b5f280_2_195;
	r19 = r9;
	++r9;
	if( r24 == NULL ) hl_null_access();
	r21 = r24->length;
	if( ((unsigned)r19) < ((unsigned)r21) ) goto label$7b5f280_2_187;
	r20 = 0;
	goto label$7b5f280_2_191;
	label$7b5f280_2_187:
	r22 = r24->bytes;
	r21 = 2;
	r21 = r19 << r21;
	r20 = *(int*)(r22 + r21);
	label$7b5f280_2_191:
	if( r26 == NULL ) hl_null_access();
	r22 = r26->self;
	hl_kore_uint32array_set(r22,r19,r20);
	goto label$7b5f280_2_178;
	label$7b5f280_2_195:
	r7 = (iron__data__$ConstData)$g__iron_data_ConstData;
	r25 = r7->skydomeIB;
	if( r25 == NULL ) hl_null_access();
	kha_graphics4_IndexBuffer_unlock(r25);
	return;
}

