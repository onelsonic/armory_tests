// Generated by HLC 4.0.0 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <zui/Zui.h>
extern zui__$Zui $g__zui_Zui;
extern hl_type $t_f64;
extern hl_type $t_nul_f64;
extern hl_type $t_i32;
extern hl_type $t_kha_Kravur;
double kha_Kravur_height(kha__Kravur,int);
void kha_Image_unload(kha__Image);
extern hl_type $t_nul_i32;
kha__Image kha_Image_createRenderTarget(int,int,vdynamic*,int*,int*,int*);
kha__graphics2__Graphics kha_Image_get_g2(kha__Image);
int kha_Image_get_width(kha__Image);
int kha_Image_get_height(kha__Image);
#include <kha/input/Mouse.h>
#include <kha/input/Keyboard.h>
kha__input__Mouse kha_input_Mouse_get(int*);
void zui_Zui_onMouseDown(zui__Zui,int,int,int);
extern hl_type $t_fun_149083c;
void zui_Zui_onMouseUp(zui__Zui,int,int,int);
void zui_Zui_onMouseMove(zui__Zui,int,int,int,int);
extern hl_type $t_fun_f4d77dc;
void zui_Zui_onMouseWheel(zui__Zui,int);
extern hl_type $t_fun_46cd1bc;
void kha_input_Mouse_notifyWindowed(kha__input__Mouse,int,vclosure*,vclosure*,vclosure*,vclosure*,vclosure*);
kha__input__Keyboard kha_input_Keyboard_get(int*);
void zui_Zui_onKeyDown(zui__Zui,int);
void zui_Zui_onKeyUp(zui__Zui,int);
void zui_Zui_onKeyPress(zui__Zui,String);
extern hl_type $t_fun_161bd10;
void kha_input_Keyboard_notify(kha__input__Keyboard,vclosure*,vclosure*,vclosure*);
void zui_Zui_endWindow(zui__Zui,bool*);
void zui_Zui_drawCombo(zui__Zui);
extern String $s_;
int String___compare(String,vdynamic*);
bool zui_Zui_inputChanged(zui__Zui);
double kha_Scheduler_time(void);
void zui_Zui_drawTooltip(zui__Zui);
void zui_Zui_drawTooltipImage(zui__Zui);
void zui_Zui_endInput(zui__Zui);
void zui_Zui_drawTabs(zui__Zui);
#include <hl/natives.h>
double Math_max(double,double);
bool zui_Zui_getInputInRect(zui__Zui,double,double,double,double,double*);
void zui_Zui_scroll(zui__Zui,double,double);
void kha_graphics2_Graphics_drawScaledImage(kha__graphics2__Graphics,kha__Image,float,float,float,float);
double kha_Kravur_width(kha__Kravur,int,String);
bool zui_Zui_getReleased(zui__Zui,double*);
bool zui_Zui_getPushed(zui__Zui,double*);
bool zui_Zui_getHover(zui__Zui,double*);
zui__Handle zui_Handle_nest(zui__Handle,int,vvirtual*);
void zui_Zui_fadeColor(zui__Zui);
void zui_Zui_drawString(zui__Zui,kha__graphics2__Graphics,String,vdynamic*,double*,int*);
double Math_min(double,double);
bool zui_Zui_isVisible(zui__Zui,double);
void zui_Zui_endElement(zui__Zui,vdynamic*);
bool zui_Zui_getStarted(zui__Zui,double*);
void kha_input_Keyboard_show(kha__input__Keyboard);
String String_substr(String,int,vdynamic*);
String String___add__(String,String);
void zui_Zui_deselectText(zui__Zui);
vdynamic* String_charCodeAt(String,int);
String String_substring(String,int,vdynamic*);
int kha_graphics2_Graphics_get_fontSize(kha__graphics2__Graphics);
extern hl_type $t_bool;
void kha_input_Keyboard_hide(kha__input__Keyboard);
void zui_Zui_drawCheck(zui__Zui,bool,bool);
void zui_Zui_drawInlineRadio(zui__Zui,String,bool);
void zui_Zui_drawSlider(zui__Zui,double,double,double,bool,bool);
String String___alloc__(vbyte*,int);
double Std_parseFloat(String);
int kha_System_windowHeight(int*);
void zui_Zui_fill(zui__Zui,double,double,double,double,int);
extern String $s_68b329d;
hl__types__ArrayObj String_split(String,String);
int kha_System_windowWidth(int*);
extern String $s_58b9e70;
kha__graphics4__PipelineState kha_graphics2_Graphics_set_pipeline(kha__graphics2__Graphics,kha__graphics4__PipelineState);
int kha__Color_Color_Impl__fromFloats(float,float,float,float*);
bool zui_Zui_getInitialHover(zui__Zui,double*);
void zui_Zui_setInputPosition(zui__Zui,int,int);
extern String $s_7215ee9;
String zui_Zui_onCopy(zui__Zui);
#include <zui/Themes.h>
#include <kha/graphics4/VertexStructure.h>
extern hl_type $t_fun_715d8bf;
extern hl_type $t_vrt_019b9f1;
extern zui__$Themes $g__zui_Themes;
extern hl_type $t_nul_bool;
extern hl_type $t_fun_00f1036;
void kha_System_notifyOnCutCopyPaste(vclosure*,vclosure*,vclosure*);
void kha_System_notifyOnFrames(vclosure*);
kha__graphics4__VertexStructure kha_graphics4_Graphics2_createTextVertexStructure(void);
kha__graphics4__PipelineState kha_graphics4_Graphics2_createTextPipeline(kha__graphics4__VertexStructure);
void kha_graphics4_PipelineState_compile(kha__graphics4__PipelineState);

void zui_Zui_new__$1(hl__types__ArrayObj r0) {
	bool r2;
	zui__$Zui r3;
	int r4, r5;
	r3 = (zui__$Zui)$g__zui_Zui;
	r2 = r3->isCopy;
	if( r2 ) goto label$1577ae0_1_6;
	r3 = (zui__$Zui)$g__zui_Zui;
	r2 = r3->isPaste;
	if( !r2 ) goto label$1577ae0_1_22;
	label$1577ae0_1_6:
	r3 = (zui__$Zui)$g__zui_Zui;
	r4 = r3->copyFrame;
	++r4;
	r3->copyFrame = r4;
	r5 = 1;
	if( r5 >= r4 ) goto label$1577ae0_1_22;
	r2 = false;
	r3 = (zui__$Zui)$g__zui_Zui;
	r3->isPaste = r2;
	r3 = (zui__$Zui)$g__zui_Zui;
	r3->isCut = r2;
	r3 = (zui__$Zui)$g__zui_Zui;
	r3->isCopy = r2;
	r4 = 0;
	r3 = (zui__$Zui)$g__zui_Zui;
	r3->copyFrame = r4;
	label$1577ae0_1_22:
	return;
}

void zui_Zui_setScale(zui__Zui r0,double r1) {
	vvirtual *r2, *r7;
	bool r13;
	kha__Kravur r9;
	double r3, r5, r10, r11, r12;
	vdynamic *r4;
	int r6;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_alloc_dynamic(&$t_f64);
	r4->v.d = r1;
	if( hl_vfields(r2)[4] ) *(vdynamic**)(hl_vfields(r2)[4]) = (vdynamic*)r4; else hl_dyn_setp(r2->value,-267297164/*scaleFactor*/,&$t_nul_f64,r4);
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&$t_nul_f64);
	r3 = r4 ? r4->v.d : 0;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[5] ? (*(vdynamic**)(hl_vfields(r2)[5])) : (vdynamic*)hl_dyn_getp(r2->value,371877878/*scaleTexture*/,&$t_nul_f64);
	r5 = r4 ? r4->v.d : 0;
	r3 = r3 * r5;
	r0->SCALE = r3;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[18] ? (*(int*)(hl_vfields(r7)[18])) : (int)hl_dyn_geti(r7->value,-532812062/*FONT_SIZE*/,&$t_i32);
	r3 = (double)r6;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r4 = hl_vfields(r2)[4] ? (*(vdynamic**)(hl_vfields(r2)[4])) : (vdynamic*)hl_dyn_getp(r2->value,-267297164/*scaleFactor*/,&$t_nul_f64);
	r5 = r4 ? r4->v.d : 0;
	r3 = r3 * r5;
	r6 = (int)r3;
	r0->fontSize = r6;
	r2 = r0->ops;
	if( r2 == NULL ) hl_null_access();
	r9 = hl_vfields(r2)[2] ? (*(kha__Kravur*)(hl_vfields(r2)[2])) : (kha__Kravur)hl_dyn_getp(r2->value,62938841/*font*/,&$t_kha_Kravur);
	if( r9 == NULL ) hl_null_access();
	r6 = r0->fontSize;
	r5 = kha_Kravur_height(r9,r6);
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r10 = (double)r6;
	r11 = r0->SCALE;
	r10 = r10 * r11;
	r10 = r10 - r5;
	r11 = 2.;
	r10 = r10 / r11;
	r0->fontOffsetY = r10;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r10 = (double)r6;
	r11 = r0->SCALE;
	r10 = r10 * r11;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[4] ? (*(int*)(hl_vfields(r7)[4])) : (int)hl_dyn_geti(r7->value,515256028/*ARROW_SIZE*/,&$t_i32);
	r11 = (double)r6;
	r12 = r0->SCALE;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->arrowOffsetY = r10;
	r10 = r0->arrowOffsetY;
	r0->arrowOffsetX = r10;
	r10 = r0->arrowOffsetX;
	r11 = 2.;
	r10 = r10 * r11;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[4] ? (*(int*)(hl_vfields(r7)[4])) : (int)hl_dyn_geti(r7->value,515256028/*ARROW_SIZE*/,&$t_i32);
	r11 = (double)r6;
	r12 = r0->SCALE;
	r11 = r11 * r12;
	r10 = r10 + r11;
	r11 = r0->SCALE;
	r10 = r10 / r11;
	r0->titleOffsetX = r10;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r10 = (double)r6;
	r11 = r0->SCALE;
	r10 = r10 * r11;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[6] ? (*(int*)(hl_vfields(r7)[6])) : (int)hl_dyn_geti(r7->value,-172474255/*BUTTON_H*/,&$t_i32);
	r11 = (double)r6;
	r12 = r0->SCALE;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->buttonOffsetY = r10;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r10 = (double)r6;
	r11 = r0->SCALE;
	r10 = r10 * r11;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[11] ? (*(int*)(hl_vfields(r7)[11])) : (int)hl_dyn_geti(r7->value,-83668365/*CHECK_SIZE*/,&$t_i32);
	r11 = (double)r6;
	r12 = r0->SCALE;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->checkOffsetY = r10;
	r10 = r0->checkOffsetY;
	r0->checkOffsetX = r10;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[11] ? (*(int*)(hl_vfields(r7)[11])) : (int)hl_dyn_geti(r7->value,-83668365/*CHECK_SIZE*/,&$t_i32);
	r10 = (double)r6;
	r11 = r0->SCALE;
	r10 = r10 * r11;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[10] ? (*(int*)(hl_vfields(r7)[10])) : (int)hl_dyn_geti(r7->value,78235607/*CHECK_SELECT_SIZE*/,&$t_i32);
	r11 = (double)r6;
	r12 = r0->SCALE;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->checkSelectOffsetY = r10;
	r10 = r0->checkSelectOffsetY;
	r0->checkSelectOffsetX = r10;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r10 = (double)r6;
	r11 = r0->SCALE;
	r10 = r10 * r11;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[11] ? (*(int*)(hl_vfields(r7)[11])) : (int)hl_dyn_geti(r7->value,-83668365/*CHECK_SIZE*/,&$t_i32);
	r11 = (double)r6;
	r12 = r0->SCALE;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->radioOffsetY = r10;
	r10 = r0->radioOffsetY;
	r0->radioOffsetX = r10;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[11] ? (*(int*)(hl_vfields(r7)[11])) : (int)hl_dyn_geti(r7->value,-83668365/*CHECK_SIZE*/,&$t_i32);
	r10 = (double)r6;
	r11 = r0->SCALE;
	r10 = r10 * r11;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[10] ? (*(int*)(hl_vfields(r7)[10])) : (int)hl_dyn_geti(r7->value,78235607/*CHECK_SELECT_SIZE*/,&$t_i32);
	r11 = (double)r6;
	r12 = r0->SCALE;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r11 = 2.;
	r10 = r10 / r11;
	r0->radioSelectOffsetY = r10;
	r10 = r0->radioSelectOffsetY;
	r0->radioSelectOffsetX = r10;
	r13 = false;
	r0->elementsBaked = r13;
	return;
}

void zui_Zui_bakeElements(zui__Zui r0) {
	bool *r21;
	kha__Image r2;
	vvirtual *r5, *r16;
	bool r20, r29;
	kha__graphics2__Graphics r19;
	double r3, r6, r8, r22, r23, r24, r25, r26, r28;
	double *r27;
	int *r12, *r14, *r17;
	vdynamic *r10, *r15;
	int r4, r7, r9, r11, r13, r18;
	r2 = r0->checkSelectImage;
	if( !r2 ) goto label$1577ae0_3_5;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	kha_Image_unload(r2);
	label$1577ae0_3_5:
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r4 = hl_vfields(r5)[10] ? (*(int*)(hl_vfields(r5)[10])) : (int)hl_dyn_geti(r5->value,78235607/*CHECK_SELECT_SIZE*/,&$t_i32);
	r3 = (double)r4;
	r6 = r0->SCALE;
	r3 = r3 * r6;
	r4 = (int)r3;
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r7 = hl_vfields(r5)[10] ? (*(int*)(hl_vfields(r5)[10])) : (int)hl_dyn_geti(r5->value,78235607/*CHECK_SELECT_SIZE*/,&$t_i32);
	r6 = (double)r7;
	r8 = r0->SCALE;
	r6 = r6 * r8;
	r9 = (int)r6;
	r10 = NULL;
	r11 = 0;
	r12 = &r11;
	r13 = 1;
	r14 = &r13;
	r16 = r0->ops;
	if( r16 == NULL ) hl_null_access();
	r15 = hl_vfields(r16)[3] ? (*(vdynamic**)(hl_vfields(r16)[3])) : (vdynamic*)hl_dyn_getp(r16->value,3128633/*khaWindowId*/,&$t_nul_i32);
	if( r15 ) goto label$1577ae0_3_30;
	r17 = NULL;
	goto label$1577ae0_3_32;
	label$1577ae0_3_30:
	r18 = r15 ? r15->v.i : 0;
	r17 = &r18;
	label$1577ae0_3_32:
	r2 = kha_Image_createRenderTarget(r4,r9,r10,r12,r14,r17);
	r0->checkSelectImage = r2;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r19 = kha_Image_get_g2(r2);
	if( r19 == NULL ) hl_null_access();
	r20 = true;
	r21 = &r20;
	r7 = 0;
	r10 = hl_alloc_dynamic(&$t_i32);
	r10->v.i = r7;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r19->$type->vobj_proto[0])(r19,r21,r10);
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r7 = hl_vfields(r5)[2] ? (*(int*)(hl_vfields(r5)[2])) : (int)hl_dyn_geti(r5->value,136230716/*ACCENT_SELECT_COL*/,&$t_i32);
	r7 = ((int (*)(kha__graphics2__Graphics,int))r19->$type->vobj_proto[9])(r19,r7);
	r8 = 0.;
	r22 = 0.;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r7 = kha_Image_get_width(r2);
	r23 = (double)r7;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r7 = kha_Image_get_height(r2);
	r24 = (double)r7;
	r25 = 2.;
	r26 = r0->SCALE;
	r25 = r25 * r26;
	r27 = &r25;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r19->$type->vobj_proto[6])(r19,r8,r22,r23,r24,r27);
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r7 = kha_Image_get_width(r2);
	r8 = (double)r7;
	r22 = 0.;
	r23 = 0.;
	r2 = r0->checkSelectImage;
	if( r2 == NULL ) hl_null_access();
	r7 = kha_Image_get_height(r2);
	r24 = (double)r7;
	r26 = 2.;
	r28 = r0->SCALE;
	r26 = r26 * r28;
	r27 = &r26;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r19->$type->vobj_proto[6])(r19,r8,r22,r23,r24,r27);
	((void (*)(kha__graphics2__Graphics))r19->$type->vobj_proto[1])(r19);
	r29 = true;
	r0->elementsBaked = r29;
	return;
}

void zui_Zui_registerInput(zui__Zui r0) {
	vvirtual *r5;
	bool r15;
	kha__input__Mouse r2;
	vclosure *r7, *r8, *r9, *r10, *r11, *r13, *r14;
	vdynamic *r4;
	int *r3;
	kha__input__Keyboard r12;
	int r6;
	r3 = NULL;
	r2 = kha_input_Mouse_get(r3);
	if( r2 == NULL ) hl_null_access();
	r5 = r0->ops;
	if( r5 == NULL ) hl_null_access();
	r4 = hl_vfields(r5)[3] ? (*(vdynamic**)(hl_vfields(r5)[3])) : (vdynamic*)hl_dyn_getp(r5->value,3128633/*khaWindowId*/,&$t_nul_i32);
	r6 = r4 ? r4->v.i : 0;
	r7 = hl_alloc_closure_ptr(&$t_fun_149083c,zui_Zui_onMouseDown,r0);
	r8 = hl_alloc_closure_ptr(&$t_fun_149083c,zui_Zui_onMouseUp,r0);
	r9 = hl_alloc_closure_ptr(&$t_fun_f4d77dc,zui_Zui_onMouseMove,r0);
	r10 = hl_alloc_closure_ptr(&$t_fun_46cd1bc,zui_Zui_onMouseWheel,r0);
	r11 = NULL;
	kha_input_Mouse_notifyWindowed(r2,r6,r7,r8,r9,r10,r11);
	r3 = NULL;
	r12 = kha_input_Keyboard_get(r3);
	if( r12 == NULL ) hl_null_access();
	r10 = hl_alloc_closure_ptr(&$t_fun_46cd1bc,zui_Zui_onKeyDown,r0);
	r13 = hl_alloc_closure_ptr(&$t_fun_46cd1bc,zui_Zui_onKeyUp,r0);
	r14 = hl_alloc_closure_ptr(&$t_fun_161bd10,zui_Zui_onKeyPress,r0);
	kha_input_Keyboard_notify(r12,r10,r13,r14);
	r15 = true;
	r0->inputRegistered = r15;
	return;
}

void zui_Zui_begin(zui__Zui r0,kha__graphics2__Graphics r1) {
	bool r3;
	double r4;
	int r5;
	r3 = r0->elementsBaked;
	if( r3 ) goto label$1577ae0_5_3;
	zui_Zui_bakeElements(r0);
	label$1577ae0_5_3:
	r3 = false;
	r0->changed = r3;
	r0->globalG = r1;
	r4 = 0.;
	r0->_x = r4;
	r4 = 0.;
	r0->_y = r4;
	r5 = 0;
	r0->_w = r5;
	r5 = 0;
	r0->_h = r5;
	return;
}

void zui_Zui_end(zui__Zui r0,bool* r1) {
	String r6, r7;
	kha__Image r8;
	bool r2, r4;
	double r9, r10;
	zui__Handle r5;
	if( r1 ) goto label$1577ae0_6_3;
	r2 = true;
	goto label$1577ae0_6_4;
	label$1577ae0_6_3:
	r2 = *r1;
	label$1577ae0_6_4:
	r4 = r0->windowEnded;
	if( r4 ) goto label$1577ae0_6_8;
	r1 = NULL;
	zui_Zui_endWindow(r0,r1);
	label$1577ae0_6_8:
	r5 = r0->comboSelectedHandle;
	if( !r5 ) goto label$1577ae0_6_11;
	zui_Zui_drawCombo(r0);
	label$1577ae0_6_11:
	r6 = r0->tooltipText;
	r7 = (String)$s_;
	if( r6 != r7 && (!r6 || !r7 || String___compare(r6,(vdynamic*)r7) != 0) ) goto label$1577ae0_6_16;
	r8 = r0->tooltipImg;
	if( !r8 ) goto label$1577ae0_6_52;
	label$1577ae0_6_16:
	r4 = zui_Zui_inputChanged(r0);
	if( !r4 ) goto label$1577ae0_6_30;
	r4 = false;
	r0->tooltipShown = r4;
	r9 = r0->inputDX;
	r10 = 0.;
	if( r9 != r10 ) goto label$1577ae0_6_28;
	r9 = r0->inputDY;
	r10 = 0.;
	if( r9 != r10 ) goto label$1577ae0_6_28;
	r4 = true;
	goto label$1577ae0_6_29;
	label$1577ae0_6_28:
	r4 = false;
	label$1577ae0_6_29:
	r0->tooltipWait = r4;
	label$1577ae0_6_30:
	r4 = r0->tooltipShown;
	if( r4 ) goto label$1577ae0_6_38;
	r4 = true;
	r0->tooltipShown = r4;
	r9 = r0->inputX;
	r0->tooltipX = r9;
	r9 = kha_Scheduler_time();
	r0->tooltipTime = r9;
	label$1577ae0_6_38:
	r4 = r0->tooltipWait;
	if( r4 ) goto label$1577ae0_6_51;
	r9 = kha_Scheduler_time();
	r10 = r0->tooltipTime;
	r9 = r9 - r10;
	r10 = 1.;
	if( !(r10 < r9) ) goto label$1577ae0_6_51;
	r6 = r0->tooltipText;
	r7 = (String)$s_;
	if( r6 == r7 || (r6 && r7 && String___compare(r6,(vdynamic*)r7) == 0) ) goto label$1577ae0_6_50;
	zui_Zui_drawTooltip(r0);
	goto label$1577ae0_6_51;
	label$1577ae0_6_50:
	zui_Zui_drawTooltipImage(r0);
	label$1577ae0_6_51:
	goto label$1577ae0_6_54;
	label$1577ae0_6_52:
	r4 = false;
	r0->tooltipShown = r4;
	label$1577ae0_6_54:
	if( !r2 ) goto label$1577ae0_6_56;
	zui_Zui_endInput(r0);
	label$1577ae0_6_56:
	r5 = NULL;
	r0->tabPressedHandle = r5;
	return;
}

void zui_Zui_endInput(zui__Zui r0) {
	String r4;
	bool r1;
	zui__$Zui r5;
	double r2;
	int r3;
	r1 = false;
	r0->isKeyPressed = r1;
	r1 = false;
	r0->inputStarted = r1;
	r1 = false;
	r0->inputStartedR = r1;
	r1 = false;
	r0->inputReleased = r1;
	r1 = false;
	r0->inputReleasedR = r1;
	r2 = 0.;
	r0->inputDX = r2;
	r2 = 0.;
	r0->inputDY = r2;
	r3 = 0;
	r0->inputWheelDelta = r3;
	r4 = (String)$s_;
	r5 = (zui__$Zui)$g__zui_Zui;
	r5->textToPaste = r4;
	return;
}

void zui_Zui_beginLayout(zui__Zui r0,kha__graphics2__Graphics r1,int r2,int r3,int r4) {
	bool r6;
	double r8;
	zui__Handle r7;
	r6 = r0->elementsBaked;
	if( r6 ) goto label$1577ae0_8_3;
	zui_Zui_bakeElements(r0);
	label$1577ae0_8_3:
	r7 = NULL;
	r0->currentWindow = r7;
	r0->g = r1;
	r8 = 0.;
	r0->_windowX = r8;
	r8 = 0.;
	r0->_windowY = r8;
	r8 = (double)r4;
	r0->_windowW = r8;
	r8 = (double)r2;
	r0->_x = r8;
	r8 = (double)r3;
	r0->_y = r8;
	r0->_w = r4;
	return;
}

void zui_Zui_endLayout(zui__Zui r0,bool* r1) {
	bool r2;
	if( r1 ) goto label$1577ae0_9_3;
	r2 = true;
	goto label$1577ae0_9_4;
	label$1577ae0_9_3:
	r2 = *r1;
	label$1577ae0_9_4:
	if( !r2 ) goto label$1577ae0_9_6;
	zui_Zui_endInput(r0);
	label$1577ae0_9_6:
	return;
}

bool zui_Zui_inputChanged(zui__Zui r0) {
	bool r5;
	double r1, r2;
	int r3, r4;
	r1 = r0->inputDX;
	r2 = 0.;
	if( r1 != r2 ) goto label$1577ae0_10_23;
	r1 = r0->inputDY;
	r2 = 0.;
	if( r1 != r2 ) goto label$1577ae0_10_23;
	r3 = r0->inputWheelDelta;
	r4 = 0;
	if( r3 != r4 ) goto label$1577ae0_10_23;
	r5 = r0->inputStarted;
	if( r5 ) goto label$1577ae0_10_23;
	r5 = r0->inputStartedR;
	if( r5 ) goto label$1577ae0_10_23;
	r5 = r0->inputReleased;
	if( r5 ) goto label$1577ae0_10_23;
	r5 = r0->inputReleasedR;
	if( r5 ) goto label$1577ae0_10_23;
	r5 = r0->inputDown;
	if( r5 ) goto label$1577ae0_10_23;
	r5 = r0->inputDownR;
	if( r5 ) goto label$1577ae0_10_23;
	r5 = r0->isKeyPressed;
	return r5;
	label$1577ae0_10_23:
	r5 = true;
	return r5;
}

void zui_Zui_endWindow(zui__Zui r0,bool* r1) {
	kha__Image r39, r42;
	vvirtual *r11, *r44;
	hl__types__ArrayObj r9;
	bool r2, r8, r28, r36;
	kha__graphics2__Graphics r10, r29;
	zui__$Zui r37;
	float r40, r41, r45, r46;
	double r12, r13, r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r26, r30, r31, r32, r33, r34, r35;
	vdynamic *r38, *r43;
	double *r27;
	zui__Handle r3, r5;
	int r6, r7;
	if( r1 ) goto label$1577ae0_11_3;
	r2 = true;
	goto label$1577ae0_11_4;
	label$1577ae0_11_3:
	r2 = *r1;
	label$1577ae0_11_4:
	r3 = r0->currentWindow;
	if( r3 ) goto label$1577ae0_11_7;
	return;
	label$1577ae0_11_7:
	if( r3 == NULL ) hl_null_access();
	r6 = r3->redraws;
	r7 = 0;
	if( r7 < r6 ) goto label$1577ae0_11_15;
	r8 = r0->isScrolling;
	if( r8 ) goto label$1577ae0_11_15;
	r8 = r0->isTyping;
	if( !r8 ) goto label$1577ae0_11_264;
	label$1577ae0_11_15:
	r9 = r0->tabNames;
	if( !r9 ) goto label$1577ae0_11_18;
	zui_Zui_drawTabs(r0);
	label$1577ae0_11_18:
	r8 = r3->dragEnabled;
	if( !r8 ) goto label$1577ae0_11_33;
	r10 = r0->g;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[25] ? (*(int*)(hl_vfields(r11)[25])) : (int)hl_dyn_geti(r11->value,379861099/*SEPARATOR_COL*/,&$t_i32);
	r6 = ((int (*)(kha__graphics2__Graphics,int))r10->$type->vobj_proto[9])(r10,r6);
	r10 = r0->g;
	if( r10 == NULL ) hl_null_access();
	r12 = 0.;
	r13 = 0.;
	r14 = r0->_windowW;
	r15 = 15.;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r10->$type->vobj_proto[4])(r10,r12,r13,r14,r15);
	label$1577ae0_11_33:
	r12 = r0->_y;
	r13 = r3->scrollOffset;
	r12 = r12 - r13;
	r14 = r0->_windowH;
	if( r12 < r14 ) goto label$1577ae0_11_43;
	r6 = r3->layout;
	r7 = 1;
	if( r6 == r7 ) goto label$1577ae0_11_43;
	r8 = r0->scrollEnabled;
	if( r8 ) goto label$1577ae0_11_48;
	label$1577ae0_11_43:
	r8 = false;
	r3->scrollEnabled = r8;
	r13 = 0.;
	r3->scrollOffset = r13;
	goto label$1577ae0_11_242;
	label$1577ae0_11_48:
	r8 = true;
	r3->scrollEnabled = r8;
	r13 = r0->tabScroll;
	r14 = 0.;
	if( !(r13 < r14) ) goto label$1577ae0_11_57;
	r13 = r0->tabScroll;
	r3->scrollOffset = r13;
	r13 = 0.;
	r0->tabScroll = r13;
	label$1577ae0_11_57:
	r14 = r0->_windowH;
	r13 = r12 - r14;
	r14 = r3->scrollOffset;
	r14 = -r14;
	r15 = r14 / r13;
	r16 = r0->_windowH;
	r17 = r0->_windowH;
	r17 = r17 / r12;
	r17 = hl_math_abs(r17);
	r16 = r16 * r17;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[12] ? (*(int*)(hl_vfields(r11)[12])) : (int)hl_dyn_geti(r11->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r18 = (double)r6;
	r19 = r0->SCALE;
	r18 = r18 * r19;
	r17 = Math_max(r16,r18);
	r16 = r17;
	r17 = r0->_windowH;
	r17 = r17 - r16;
	r18 = r13 / r17;
	r19 = r17 * r15;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[24] ? (*(int*)(hl_vfields(r11)[24])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&$t_i32);
	r20 = (double)r6;
	r21 = r0->SCALE;
	r20 = r20 * r21;
	r21 = r0->_windowX;
	r22 = r0->_windowW;
	r21 = r21 + r22;
	r6 = (int)r20;
	r22 = (double)r6;
	r21 = r21 - r22;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[24] ? (*(int*)(hl_vfields(r11)[24])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&$t_i32);
	r22 = (double)r6;
	r23 = r0->SCALE;
	r22 = r22 * r23;
	r25 = r0->_windowY;
	r24 = r19 + r25;
	r6 = (int)r22;
	r25 = (double)r6;
	r27 = NULL;
	r8 = zui_Zui_getInputInRect(r0,r21,r24,r25,r16,r27);
	r28 = r0->inputStarted;
	if( !r28 ) goto label$1577ae0_11_111;
	if( !r8 ) goto label$1577ae0_11_111;
	r28 = true;
	r3->scrolling = r28;
	r0->scrollingHandle = r3;
	r28 = true;
	r0->isScrolling = r28;
	label$1577ae0_11_111:
	r28 = r3->scrolling;
	if( !r28 ) goto label$1577ae0_11_117;
	r23 = r0->inputDY;
	r23 = r23 * r18;
	zui_Zui_scroll(r0,r23,r12);
	goto label$1577ae0_11_139;
	label$1577ae0_11_117:
	r6 = r0->inputWheelDelta;
	r7 = 0;
	if( r6 == r7 ) goto label$1577ae0_11_139;
	r5 = r0->comboSelectedHandle;
	if( r5 ) goto label$1577ae0_11_139;
	r23 = r0->_windowX;
	r24 = r0->_windowY;
	r25 = r0->_windowW;
	r26 = r0->_windowH;
	r27 = NULL;
	r28 = zui_Zui_getInputInRect(r0,r23,r24,r25,r26,r27);
	if( !r28 ) goto label$1577ae0_11_139;
	r6 = r0->inputWheelDelta;
	r23 = (double)r6;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[12] ? (*(int*)(hl_vfields(r11)[12])) : (int)hl_dyn_geti(r11->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r24 = (double)r6;
	r25 = r0->SCALE;
	r24 = r24 * r25;
	r23 = r23 * r24;
	zui_Zui_scroll(r0,r23,r12);
	label$1577ae0_11_139:
	r23 = r3->scrollOffset;
	r24 = 0.;
	if( !(r24 < r23) ) goto label$1577ae0_11_145;
	r23 = 0.;
	r3->scrollOffset = r23;
	goto label$1577ae0_11_152;
	label$1577ae0_11_145:
	r24 = r3->scrollOffset;
	r23 = r12 + r24;
	r24 = r0->_windowH;
	if( !(r23 < r24) ) goto label$1577ae0_11_152;
	r23 = r0->_windowH;
	r23 = r23 - r12;
	r3->scrollOffset = r23;
	label$1577ae0_11_152:
	r10 = r0->g;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[29] ? (*(int*)(hl_vfields(r11)[29])) : (int)hl_dyn_geti(r11->value,111677983/*WINDOW_BG_COL*/,&$t_i32);
	r6 = ((int (*)(kha__graphics2__Graphics,int))r10->$type->vobj_proto[9])(r10,r6);
	r10 = r0->g;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[24] ? (*(int*)(hl_vfields(r11)[24])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&$t_i32);
	r23 = (double)r6;
	r24 = r0->SCALE;
	r23 = r23 * r24;
	r24 = r0->_windowW;
	r6 = (int)r23;
	r25 = (double)r6;
	r24 = r24 - r25;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[24] ? (*(int*)(hl_vfields(r11)[24])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&$t_i32);
	r25 = (double)r6;
	r26 = r0->SCALE;
	r25 = r25 * r26;
	if( r10 == NULL ) hl_null_access();
	r30 = r0->_windowY;
	r6 = (int)r25;
	r31 = (double)r6;
	r32 = r0->_windowH;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r10->$type->vobj_proto[4])(r10,r24,r30,r31,r32);
	r29 = r0->g;
	if( r29 == NULL ) hl_null_access();
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[0] ? (*(int*)(hl_vfields(r11)[0])) : (int)hl_dyn_geti(r11->value,34671467/*ACCENT_COL*/,&$t_i32);
	r6 = ((int (*)(kha__graphics2__Graphics,int))r29->$type->vobj_proto[9])(r29,r6);
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[24] ? (*(int*)(hl_vfields(r11)[24])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&$t_i32);
	r26 = (double)r6;
	r30 = r0->SCALE;
	r26 = r26 * r30;
	r30 = r0->_windowX;
	r31 = r0->_windowW;
	r30 = r30 + r31;
	r6 = (int)r26;
	r31 = (double)r6;
	r30 = r30 - r31;
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[24] ? (*(int*)(hl_vfields(r11)[24])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&$t_i32);
	r31 = (double)r6;
	r32 = r0->SCALE;
	r31 = r31 * r32;
	r33 = r0->_windowY;
	r6 = (int)r31;
	r34 = (double)r6;
	r35 = r0->_windowH;
	r27 = NULL;
	r28 = zui_Zui_getInputInRect(r0,r30,r33,r34,r35,r27);
	if( r28 ) goto label$1577ae0_11_214;
	r36 = r3->scrolling;
	if( !r36 ) goto label$1577ae0_11_224;
	label$1577ae0_11_214:
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[24] ? (*(int*)(hl_vfields(r11)[24])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&$t_i32);
	r32 = (double)r6;
	r33 = r0->SCALE;
	r32 = r32 * r33;
	r6 = (int)r32;
	r34 = (double)r6;
	r33 = r34;
	goto label$1577ae0_11_235;
	label$1577ae0_11_224:
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[24] ? (*(int*)(hl_vfields(r11)[24])) : (int)hl_dyn_geti(r11->value,-438651803/*SCROLL_W*/,&$t_i32);
	r32 = (double)r6;
	r34 = r0->SCALE;
	r32 = r32 * r34;
	r6 = (int)r32;
	r34 = (double)r6;
	r35 = 3.;
	r34 = r34 / r35;
	r33 = r34;
	label$1577ae0_11_235:
	r29 = r0->g;
	if( r29 == NULL ) hl_null_access();
	r32 = r0->_windowW;
	r32 = r32 - r34;
	r34 = r0->scrollAlign;
	r32 = r32 - r34;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r29->$type->vobj_proto[4])(r29,r32,r19,r33,r16);
	label$1577ae0_11_242:
	r13 = r0->_x;
	r3->lastMaxX = r13;
	r13 = r0->_y;
	r3->lastMaxY = r13;
	r6 = r3->layout;
	r7 = 0;
	if( r6 != r7 ) goto label$1577ae0_11_254;
	r13 = r3->lastMaxX;
	r14 = r0->_windowW;
	r13 = r13 + r14;
	r3->lastMaxX = r13;
	goto label$1577ae0_11_258;
	label$1577ae0_11_254:
	r13 = r3->lastMaxY;
	r14 = r0->_windowH;
	r13 = r13 + r14;
	r3->lastMaxY = r13;
	label$1577ae0_11_258:
	r6 = r3->redraws;
	--r6;
	r3->redraws = r6;
	r10 = r0->g;
	if( r10 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r10->$type->vobj_proto[1])(r10);
	label$1577ae0_11_264:
	r8 = true;
	r0->windowEnded = r8;
	r37 = (zui__$Zui)$g__zui_Zui;
	r8 = r37->alwaysRedrawWindow;
	if( r8 ) goto label$1577ae0_11_272;
	r6 = r3->redraws;
	r7 = -4;
	if( r7 >= r6 ) goto label$1577ae0_11_323;
	label$1577ae0_11_272:
	if( !r2 ) goto label$1577ae0_11_279;
	r10 = r0->globalG;
	if( r10 == NULL ) hl_null_access();
	r8 = false;
	r1 = &r8;
	r38 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r10->$type->vobj_proto[0])(r10,r1,r38);
	label$1577ae0_11_279:
	r10 = r0->globalG;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->_t;
	if( r11 == NULL ) hl_null_access();
	r6 = hl_vfields(r11)[30] ? (*(int*)(hl_vfields(r11)[30])) : (int)hl_dyn_geti(r11->value,-291452927/*WINDOW_TINT_COL*/,&$t_i32);
	r6 = ((int (*)(kha__graphics2__Graphics,int))r10->$type->vobj_proto[9])(r10,r6);
	r10 = r0->globalG;
	if( r10 == NULL ) hl_null_access();
	r39 = r3->texture;
	r12 = r0->_windowX;
	r40 = (float)r12;
	r12 = r0->_windowY;
	r41 = (float)r12;
	r42 = r3->texture;
	if( r42 == NULL ) hl_null_access();
	r6 = kha_Image_get_width(r42);
	r12 = (double)r6;
	r44 = r0->ops;
	if( r44 == NULL ) hl_null_access();
	r43 = hl_vfields(r44)[5] ? (*(vdynamic**)(hl_vfields(r44)[5])) : (vdynamic*)hl_dyn_getp(r44->value,371877878/*scaleTexture*/,&$t_nul_f64);
	r13 = r43 ? r43->v.d : 0;
	r12 = r12 / r13;
	r45 = (float)r12;
	r42 = r3->texture;
	if( r42 == NULL ) hl_null_access();
	r6 = kha_Image_get_height(r42);
	r12 = (double)r6;
	r44 = r0->ops;
	if( r44 == NULL ) hl_null_access();
	r43 = hl_vfields(r44)[5] ? (*(vdynamic**)(hl_vfields(r44)[5])) : (vdynamic*)hl_dyn_getp(r44->value,371877878/*scaleTexture*/,&$t_nul_f64);
	r13 = r43 ? r43->v.d : 0;
	r12 = r12 / r13;
	r46 = (float)r12;
	kha_graphics2_Graphics_drawScaledImage(r10,r39,r40,r41,r45,r46);
	if( !r2 ) goto label$1577ae0_11_317;
	r10 = r0->globalG;
	if( r10 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r10->$type->vobj_proto[1])(r10);
	label$1577ae0_11_317:
	r6 = r3->redraws;
	r7 = 0;
	if( r7 < r6 ) goto label$1577ae0_11_323;
	r6 = r3->redraws;
	--r6;
	r3->redraws = r6;
	label$1577ae0_11_323:
	return;
}

void zui_Zui_scroll(zui__Zui r0,double r1,double r2) {
	double r4;
	zui__Handle r3;
	r3 = r0->currentWindow;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->scrollOffset;
	r4 = r4 - r1;
	r3->scrollOffset = r4;
	return;
}

void zui_Zui_drawTabs(zui__Zui r0) {
	String r25;
	hl__types__ArrayObj r18;
	vvirtual *r7, *r22, *r32;
	bool r10, r28, r29, r30, r34;
	kha__Kravur r21;
	kha__graphics2__Graphics r12;
	double r1, r5, r8, r9, r13, r14, r15, r16, r35, r36, r37;
	int *r39;
	double *r27;
	vdynamic *r4, *r38;
	zui__Handle r3, r31, r33;
	varray *r26;
	int r6, r11, r17, r19, r20, r23, r24;
	r1 = r0->restoreX;
	r0->inputX = r1;
	r1 = r0->restoreY;
	r0->inputY = r1;
	r3 = r0->currentWindow;
	if( r3 ) goto label$1577ae0_13_7;
	return;
	label$1577ae0_13_7:
	r1 = 0.;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[6] ? (*(int*)(hl_vfields(r7)[6])) : (int)hl_dyn_geti(r7->value,-172474255/*BUTTON_H*/,&$t_i32);
	r5 = (double)r6;
	r8 = r0->SCALE;
	r5 = r5 * r8;
	r8 = 1.1000000000000001;
	r5 = r5 * r8;
	r6 = (int)r5;
	r8 = r0->_y;
	r3 = r0->currentWindow;
	if( r3 == NULL ) hl_null_access();
	r10 = r3->dragEnabled;
	if( !r10 ) goto label$1577ae0_13_24;
	r9 = 15.;
	goto label$1577ae0_13_25;
	label$1577ae0_13_24:
	r9 = 0.;
	label$1577ae0_13_25:
	r0->_y = r9;
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r10 = false;
	r3->changed = r10;
	r12 = r0->g;
	if( r12 == NULL ) hl_null_access();
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r11 = hl_vfields(r7)[25] ? (*(int*)(hl_vfields(r7)[25])) : (int)hl_dyn_geti(r7->value,379861099/*SEPARATOR_COL*/,&$t_i32);
	r11 = ((int (*)(kha__graphics2__Graphics,int))r12->$type->vobj_proto[9])(r12,r11);
	r12 = r0->g;
	if( r12 == NULL ) hl_null_access();
	r9 = 0.;
	r13 = r0->_y;
	r14 = r0->_windowW;
	r15 = r0->buttonOffsetY;
	r16 = (double)r6;
	r15 = r15 + r16;
	r16 = 2.;
	r15 = r15 + r16;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r12->$type->vobj_proto[4])(r12,r9,r13,r14,r15);
	r12 = r0->g;
	if( r12 == NULL ) hl_null_access();
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r11 = hl_vfields(r7)[0] ? (*(int*)(hl_vfields(r7)[0])) : (int)hl_dyn_geti(r7->value,34671467/*ACCENT_COL*/,&$t_i32);
	r11 = ((int (*)(kha__graphics2__Graphics,int))r12->$type->vobj_proto[9])(r12,r11);
	r12 = r0->g;
	if( r12 == NULL ) hl_null_access();
	r9 = r0->buttonOffsetY;
	r13 = r0->_y;
	r14 = r0->buttonOffsetY;
	r13 = r13 + r14;
	r14 = (double)r6;
	r13 = r13 + r14;
	r14 = 2.;
	r13 = r13 + r14;
	r14 = r0->_windowW;
	r15 = r0->buttonOffsetY;
	r16 = 2.;
	r15 = r15 * r16;
	r14 = r14 - r15;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r11 = hl_vfields(r7)[21] ? (*(int*)(hl_vfields(r7)[21])) : (int)hl_dyn_geti(r7->value,-63120798/*LINE_STRENGTH*/,&$t_i32);
	r15 = (double)r11;
	r16 = r0->SCALE;
	r15 = r15 * r16;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r12->$type->vobj_proto[4])(r12,r9,r13,r14,r15);
	r9 = r0->_y;
	r13 = 2.;
	r9 = r9 + r13;
	r0->_y = r9;
	r11 = 0;
	r18 = r0->tabNames;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->length;
	label$1577ae0_13_83:
	if( r11 >= r17 ) goto label$1577ae0_13_267;
	r19 = r11;
	++r11;
	r0->_x = r1;
	r22 = r0->ops;
	if( r22 == NULL ) hl_null_access();
	r21 = hl_vfields(r22)[2] ? (*(kha__Kravur*)(hl_vfields(r22)[2])) : (kha__Kravur)hl_dyn_getp(r22->value,62938841/*font*/,&$t_kha_Kravur);
	if( r21 == NULL ) hl_null_access();
	r20 = r0->fontSize;
	r18 = r0->tabNames;
	if( r18 == NULL ) hl_null_access();
	r24 = r18->length;
	if( ((unsigned)r19) < ((unsigned)r24) ) goto label$1577ae0_13_99;
	r25 = NULL;
	goto label$1577ae0_13_102;
	label$1577ae0_13_99:
	r26 = r18->array;
	r4 = ((vdynamic**)(r26 + 1))[r19];
	r25 = (String)r4;
	label$1577ae0_13_102:
	r9 = kha_Kravur_width(r21,r20,r25);
	r13 = r0->buttonOffsetY;
	r14 = 2.;
	r13 = r13 * r14;
	r9 = r9 + r13;
	r13 = 14.;
	r14 = r0->SCALE;
	r13 = r13 * r14;
	r9 = r9 + r13;
	r20 = (int)r9;
	r0->_w = r20;
	r27 = NULL;
	r10 = zui_Zui_getReleased(r0,r27);
	r27 = NULL;
	r28 = zui_Zui_getPushed(r0,r27);
	r27 = NULL;
	r29 = zui_Zui_getHover(r0,r27);
	if( !r10 ) goto label$1577ae0_13_150;
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r31 = r0->tabHandle;
	if( r31 == NULL ) hl_null_access();
	r20 = r31->position;
	r32 = NULL;
	r3 = zui_Handle_nest(r3,r20,r32);
	if( r3 == NULL ) hl_null_access();
	r33 = r0->currentWindow;
	if( r33 == NULL ) hl_null_access();
	r13 = r33->scrollOffset;
	r3->scrollOffset = r13;
	r31 = r0->tabHandle;
	if( r31 == NULL ) hl_null_access();
	r32 = NULL;
	r31 = zui_Handle_nest(r31,r19,r32);
	if( r31 == NULL ) hl_null_access();
	r13 = r31->scrollOffset;
	r0->tabScroll = r13;
	r31 = r0->tabHandle;
	if( r31 == NULL ) hl_null_access();
	r31->position = r19;
	r31 = r0->currentWindow;
	if( r31 == NULL ) hl_null_access();
	r20 = 3;
	r31->redraws = r20;
	r31 = r0->tabHandle;
	if( r31 == NULL ) hl_null_access();
	r30 = true;
	r31->changed = r30;
	label$1577ae0_13_150:
	r3 = r0->tabHandle;
	if( r3 == NULL ) hl_null_access();
	r20 = r3->position;
	if( r20 == r19 ) goto label$1577ae0_13_156;
	r30 = false;
	goto label$1577ae0_13_157;
	label$1577ae0_13_156:
	r30 = true;
	label$1577ae0_13_157:
	r12 = r0->g;
	if( r12 == NULL ) hl_null_access();
	if( !r30 ) goto label$1577ae0_13_164;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r20 = hl_vfields(r7)[29] ? (*(int*)(hl_vfields(r7)[29])) : (int)hl_dyn_geti(r7->value,111677983/*WINDOW_BG_COL*/,&$t_i32);
	goto label$1577ae0_13_173;
	label$1577ae0_13_164:
	if( r28 ) goto label$1577ae0_13_166;
	if( !r29 ) goto label$1577ae0_13_170;
	label$1577ae0_13_166:
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r20 = hl_vfields(r7)[7] ? (*(int*)(hl_vfields(r7)[7])) : (int)hl_dyn_geti(r7->value,513780351/*BUTTON_HOVER_COL*/,&$t_i32);
	goto label$1577ae0_13_173;
	label$1577ae0_13_170:
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r20 = hl_vfields(r7)[25] ? (*(int*)(hl_vfields(r7)[25])) : (int)hl_dyn_geti(r7->value,379861099/*SEPARATOR_COL*/,&$t_i32);
	label$1577ae0_13_173:
	r20 = ((int (*)(kha__graphics2__Graphics,int))r12->$type->vobj_proto[9])(r12,r20);
	r20 = r0->_w;
	r23 = 1;
	r20 = r20 + r23;
	r14 = (double)r20;
	r13 = r1 + r14;
	r1 = r13;
	r12 = r0->g;
	r13 = r0->_x;
	r14 = r0->buttonOffsetY;
	r13 = r13 + r14;
	r14 = r0->_y;
	r15 = r0->buttonOffsetY;
	r14 = r14 + r15;
	r20 = r0->_w;
	r15 = (double)r20;
	r16 = 0.;
	r36 = 0.;
	if( r16 != r36 ) goto label$1577ae0_13_198;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r20 = hl_vfields(r7)[21] ? (*(int*)(hl_vfields(r7)[21])) : (int)hl_dyn_geti(r7->value,-63120798/*LINE_STRENGTH*/,&$t_i32);
	r35 = (double)r20;
	r36 = r0->SCALE;
	r35 = r35 * r36;
	label$1577ae0_13_198:
	r34 = r0->enabled;
	if( r34 ) goto label$1577ae0_13_201;
	zui_Zui_fadeColor(r0);
	label$1577ae0_13_201:
	if( r12 == NULL ) hl_null_access();
	r37 = (double)r6;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r12->$type->vobj_proto[4])(r12,r13,r14,r15,r37);
	r12 = r0->g;
	if( r12 == NULL ) hl_null_access();
	if( !r30 ) goto label$1577ae0_13_211;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r20 = hl_vfields(r7)[9] ? (*(int*)(hl_vfields(r7)[9])) : (int)hl_dyn_geti(r7->value,-348918917/*BUTTON_TEXT_COL*/,&$t_i32);
	goto label$1577ae0_13_214;
	label$1577ae0_13_211:
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r20 = hl_vfields(r7)[20] ? (*(int*)(hl_vfields(r7)[20])) : (int)hl_dyn_geti(r7->value,370483844/*LABEL_COL*/,&$t_i32);
	label$1577ae0_13_214:
	r20 = ((int (*)(kha__graphics2__Graphics,int))r12->$type->vobj_proto[9])(r12,r20);
	r12 = r0->g;
	r18 = r0->tabNames;
	if( r18 == NULL ) hl_null_access();
	r23 = r18->length;
	if( ((unsigned)r19) < ((unsigned)r23) ) goto label$1577ae0_13_222;
	r25 = NULL;
	goto label$1577ae0_13_225;
	label$1577ae0_13_222:
	r26 = r18->array;
	r4 = ((vdynamic**)(r26 + 1))[r19];
	r25 = (String)r4;
	label$1577ae0_13_225:
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r20 = hl_vfields(r7)[28] ? (*(int*)(hl_vfields(r7)[28])) : (int)hl_dyn_geti(r7->value,-439328731/*TEXT_OFFSET*/,&$t_i32);
	r13 = (double)r20;
	r38 = hl_alloc_dynamic(&$t_f64);
	r38->v.d = r13;
	r20 = 0;
	r13 = (double)r20;
	r27 = &r13;
	r20 = 0;
	r39 = &r20;
	zui_Zui_drawString(r0,r12,r25,r38,r27,r39);
	if( !r30 ) goto label$1577ae0_13_266;
	r12 = r0->g;
	if( r12 == NULL ) hl_null_access();
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r23 = hl_vfields(r7)[29] ? (*(int*)(hl_vfields(r7)[29])) : (int)hl_dyn_geti(r7->value,111677983/*WINDOW_BG_COL*/,&$t_i32);
	r23 = ((int (*)(kha__graphics2__Graphics,int))r12->$type->vobj_proto[9])(r12,r23);
	r12 = r0->g;
	if( r12 == NULL ) hl_null_access();
	r14 = r0->_x;
	r15 = r0->buttonOffsetY;
	r14 = r14 + r15;
	r15 = 1.;
	r14 = r14 + r15;
	r15 = r0->_y;
	r16 = r0->buttonOffsetY;
	r15 = r15 + r16;
	r16 = (double)r6;
	r15 = r15 + r16;
	r23 = r0->_w;
	r24 = 1;
	r23 = r23 - r24;
	r16 = (double)r23;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r23 = hl_vfields(r7)[21] ? (*(int*)(hl_vfields(r7)[21])) : (int)hl_dyn_geti(r7->value,-63120798/*LINE_STRENGTH*/,&$t_i32);
	r35 = (double)r23;
	r36 = r0->SCALE;
	r35 = r35 * r36;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r12->$type->vobj_proto[4])(r12,r14,r15,r16,r35);
	label$1577ae0_13_266:
	goto label$1577ae0_13_83;
	label$1577ae0_13_267:
	r9 = 0.;
	r0->_x = r9;
	r0->_y = r8;
	r3 = r0->currentWindow;
	if( r3 == NULL ) hl_null_access();
	r10 = r3->scrollEnabled;
	if( r10 ) goto label$1577ae0_13_277;
	r14 = r0->_windowW;
	r9 = r14;
	goto label$1577ae0_13_288;
	label$1577ae0_13_277:
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r11 = hl_vfields(r7)[24] ? (*(int*)(hl_vfields(r7)[24])) : (int)hl_dyn_geti(r7->value,-438651803/*SCROLL_W*/,&$t_i32);
	r14 = (double)r11;
	r15 = r0->SCALE;
	r14 = r14 * r15;
	r15 = r0->_windowW;
	r11 = (int)r14;
	r16 = (double)r11;
	r15 = r15 - r16;
	r9 = r15;
	label$1577ae0_13_288:
	r11 = (int)r9;
	r0->_w = r11;
	return;
}

int zui_Zui_image(zui__Zui r0,kha__Image r1,int* r2,vdynamic* r3,int* r4,int* r5,int* r6,int* r7) {
	vvirtual *r29;
	bool r20, r26, r34, r35, r37;
	kha__graphics2__Graphics r36;
	float r38, r39, r40, r41, r43, r44, r45, r46;
	hl__types__ArrayBytes_Float r27;
	double r13, r16, r18, r19, r21, r22, r23, r24, r30, r31, r42;
	double *r33;
	vdynamic *r32;
	zui__Handle r25;
	vbyte *r28;
	int r8, r9, r10, r11, r12, r14, r15;
	if( r2 ) goto label$1577ae0_14_3;
	r8 = -1;
	goto label$1577ae0_14_4;
	label$1577ae0_14_3:
	r8 = *r2;
	label$1577ae0_14_4:
	if( r4 ) goto label$1577ae0_14_7;
	r9 = 0;
	goto label$1577ae0_14_8;
	label$1577ae0_14_7:
	r9 = *r4;
	label$1577ae0_14_8:
	if( r5 ) goto label$1577ae0_14_11;
	r10 = 0;
	goto label$1577ae0_14_12;
	label$1577ae0_14_11:
	r10 = *r5;
	label$1577ae0_14_12:
	if( r6 ) goto label$1577ae0_14_15;
	r11 = 0;
	goto label$1577ae0_14_16;
	label$1577ae0_14_15:
	r11 = *r6;
	label$1577ae0_14_16:
	if( r7 ) goto label$1577ae0_14_19;
	r12 = 0;
	goto label$1577ae0_14_20;
	label$1577ae0_14_19:
	r12 = *r7;
	label$1577ae0_14_20:
	r15 = 0;
	if( r15 >= r11 ) goto label$1577ae0_14_24;
	r14 = r11;
	goto label$1577ae0_14_26;
	label$1577ae0_14_24:
	if( r1 == NULL ) hl_null_access();
	r14 = kha_Image_get_width(r1);
	label$1577ae0_14_26:
	r13 = (double)r14;
	r16 = r0->SCALE;
	r13 = r13 * r16;
	r15 = 0;
	if( r15 >= r12 ) goto label$1577ae0_14_33;
	r14 = r12;
	goto label$1577ae0_14_35;
	label$1577ae0_14_33:
	if( r1 == NULL ) hl_null_access();
	r14 = kha_Image_get_height(r1);
	label$1577ae0_14_35:
	r16 = (double)r14;
	r18 = r0->SCALE;
	r16 = r16 * r18;
	r14 = r0->_w;
	r19 = (double)r14;
	r18 = Math_min(r13,r19);
	r19 = r0->_x;
	r20 = r0->imageScrollAlign;
	if( !r20 ) goto label$1577ae0_14_105;
	r14 = r0->_w;
	r22 = (double)r14;
	r23 = r0->buttonOffsetY;
	r24 = 2.;
	r23 = r23 * r24;
	r22 = r22 - r23;
	r21 = Math_min(r13,r22);
	r18 = r21;
	r22 = r0->buttonOffsetY;
	r21 = r19 + r22;
	r19 = r21;
	r25 = r0->currentWindow;
	if( !r25 ) goto label$1577ae0_14_63;
	r25 = r0->currentWindow;
	if( r25 == NULL ) hl_null_access();
	r20 = r25->scrollEnabled;
	if( !r20 ) goto label$1577ae0_14_63;
	r20 = true;
	goto label$1577ae0_14_64;
	label$1577ae0_14_63:
	r20 = false;
	label$1577ae0_14_64:
	if( r20 ) goto label$1577ae0_14_105;
	r14 = r0->curRatio;
	r15 = -1;
	if( r14 != r15 ) goto label$1577ae0_14_70;
	r21 = 1.;
	goto label$1577ae0_14_81;
	label$1577ae0_14_70:
	r27 = r0->ratios;
	if( r27 == NULL ) hl_null_access();
	r14 = r0->curRatio;
	r15 = r27->length;
	if( ((unsigned)r14) < ((unsigned)r15) ) goto label$1577ae0_14_77;
	r21 = 0.;
	goto label$1577ae0_14_81;
	label$1577ae0_14_77:
	r28 = r27->bytes;
	r15 = 3;
	r15 = r14 << r15;
	r21 = *(double*)(r28 + r15);
	label$1577ae0_14_81:
	r29 = r0->_t;
	if( r29 == NULL ) hl_null_access();
	r14 = hl_vfields(r29)[24] ? (*(int*)(hl_vfields(r29)[24])) : (int)hl_dyn_geti(r29->value,-438651803/*SCROLL_W*/,&$t_i32);
	r22 = (double)r14;
	r23 = r0->SCALE;
	r22 = r22 * r23;
	r14 = (int)r22;
	r24 = (double)r14;
	r24 = r24 * r21;
	r23 = r18 - r24;
	r18 = r23;
	r29 = r0->_t;
	if( r29 == NULL ) hl_null_access();
	r14 = hl_vfields(r29)[24] ? (*(int*)(hl_vfields(r29)[24])) : (int)hl_dyn_geti(r29->value,-438651803/*SCROLL_W*/,&$t_i32);
	r23 = (double)r14;
	r24 = r0->SCALE;
	r23 = r23 * r24;
	r14 = (int)r23;
	r30 = (double)r14;
	r30 = r30 * r21;
	r31 = 2.;
	r30 = r30 / r31;
	r24 = r19 + r30;
	r19 = r24;
	label$1577ae0_14_105:
	if( r3 ) goto label$1577ae0_14_108;
	r21 = r18 / r13;
	goto label$1577ae0_14_110;
	label$1577ae0_14_108:
	r21 = r3 ? r3->v.d : 0;
	r21 = r21 / r16;
	label$1577ae0_14_110:
	if( r3 ) goto label$1577ae0_14_115;
	r22 = r16 * r21;
	r32 = hl_alloc_dynamic(&$t_f64);
	r32->v.d = r22;
	r3 = r32;
	goto label$1577ae0_14_117;
	label$1577ae0_14_115:
	r22 = r13 * r21;
	r18 = r22;
	label$1577ae0_14_117:
	r22 = r3 ? r3->v.d : 0;
	r20 = zui_Zui_isVisible(r0,r22);
	if( r20 ) goto label$1577ae0_14_123;
	zui_Zui_endElement(r0,r3);
	r14 = 0;
	return r14;
	label$1577ae0_14_123:
	if( r3 ) goto label$1577ae0_14_126;
	r33 = NULL;
	goto label$1577ae0_14_128;
	label$1577ae0_14_126:
	r22 = r3 ? r3->v.d : 0;
	r33 = &r22;
	label$1577ae0_14_128:
	r20 = zui_Zui_getStarted(r0,r33);
	if( r3 ) goto label$1577ae0_14_132;
	r33 = NULL;
	goto label$1577ae0_14_134;
	label$1577ae0_14_132:
	r23 = r3 ? r3->v.d : 0;
	r33 = &r23;
	label$1577ae0_14_134:
	r26 = zui_Zui_getPushed(r0,r33);
	if( r3 ) goto label$1577ae0_14_138;
	r33 = NULL;
	goto label$1577ae0_14_140;
	label$1577ae0_14_138:
	r24 = r3 ? r3->v.d : 0;
	r33 = &r24;
	label$1577ae0_14_140:
	r34 = zui_Zui_getReleased(r0,r33);
	if( r3 ) goto label$1577ae0_14_144;
	r33 = NULL;
	goto label$1577ae0_14_146;
	label$1577ae0_14_144:
	r30 = r3 ? r3->v.d : 0;
	r33 = &r30;
	label$1577ae0_14_146:
	r35 = zui_Zui_getHover(r0,r33);
	r36 = r0->g;
	if( r36 == NULL ) hl_null_access();
	r14 = ((int (*)(kha__graphics2__Graphics,int))r36->$type->vobj_proto[9])(r36,r8);
	r37 = r0->enabled;
	if( r37 ) goto label$1577ae0_14_153;
	zui_Zui_fadeColor(r0);
	label$1577ae0_14_153:
	r31 = r3 ? r3->v.d : 0;
	r15 = 0;
	if( r15 >= r11 ) goto label$1577ae0_14_186;
	r37 = r0->imageInvertY;
	if( !r37 ) goto label$1577ae0_14_173;
	r36 = r0->g;
	if( r36 == NULL ) hl_null_access();
	r38 = (float)r9;
	r39 = (float)r10;
	r40 = (float)r11;
	r41 = (float)r12;
	r43 = (float)r19;
	r42 = r0->_y;
	r42 = r42 + r31;
	r44 = (float)r42;
	r45 = (float)r18;
	r42 = -r31;
	r46 = (float)r42;
	((void (*)(kha__graphics2__Graphics,kha__Image,float,float,float,float,float,float,float,float))r36->$type->vobj_proto[2])(r36,r1,r38,r39,r40,r41,r43,r44,r45,r46);
	goto label$1577ae0_14_185;
	label$1577ae0_14_173:
	r36 = r0->g;
	if( r36 == NULL ) hl_null_access();
	r38 = (float)r9;
	r39 = (float)r10;
	r40 = (float)r11;
	r41 = (float)r12;
	r43 = (float)r19;
	r42 = r0->_y;
	r44 = (float)r42;
	r45 = (float)r18;
	r46 = (float)r31;
	((void (*)(kha__graphics2__Graphics,kha__Image,float,float,float,float,float,float,float,float))r36->$type->vobj_proto[2])(r36,r1,r38,r39,r40,r41,r43,r44,r45,r46);
	label$1577ae0_14_185:
	goto label$1577ae0_14_207;
	label$1577ae0_14_186:
	r37 = r0->imageInvertY;
	if( !r37 ) goto label$1577ae0_14_199;
	r36 = r0->g;
	if( r36 == NULL ) hl_null_access();
	r38 = (float)r19;
	r42 = r0->_y;
	r42 = r42 + r31;
	r39 = (float)r42;
	r40 = (float)r18;
	r42 = -r31;
	r41 = (float)r42;
	kha_graphics2_Graphics_drawScaledImage(r36,r1,r38,r39,r40,r41);
	goto label$1577ae0_14_207;
	label$1577ae0_14_199:
	r36 = r0->g;
	if( r36 == NULL ) hl_null_access();
	r38 = (float)r19;
	r42 = r0->_y;
	r39 = (float)r42;
	r40 = (float)r18;
	r41 = (float)r31;
	kha_graphics2_Graphics_drawScaledImage(r36,r1,r38,r39,r40,r41);
	label$1577ae0_14_207:
	zui_Zui_endElement(r0,r3);
	if( !r20 ) goto label$1577ae0_14_211;
	r14 = 1;
	return r14;
	label$1577ae0_14_211:
	if( !r34 ) goto label$1577ae0_14_214;
	r14 = 3;
	return r14;
	label$1577ae0_14_214:
	if( !r26 ) goto label$1577ae0_14_217;
	r14 = 2;
	return r14;
	label$1577ae0_14_217:
	r14 = 0;
	return r14;
}

int zui_Zui_text(zui__Zui r0,String r1,int* r2,int* r3) {
	vvirtual *r10;
	bool r7, r14, r15, r16;
	kha__graphics2__Graphics r18;
	double r8, r11, r19, r20, r21;
	double *r13;
	vdynamic *r12;
	int r4, r5, r9, r17;
	if( r2 ) goto label$1577ae0_15_3;
	r4 = 0;
	goto label$1577ae0_15_4;
	label$1577ae0_15_3:
	r4 = *r2;
	label$1577ae0_15_4:
	if( r3 ) goto label$1577ae0_15_7;
	r5 = 0;
	goto label$1577ae0_15_8;
	label$1577ae0_15_7:
	r5 = *r3;
	label$1577ae0_15_8:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[12] ? (*(int*)(hl_vfields(r10)[12])) : (int)hl_dyn_geti(r10->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r8 = (double)r9;
	r11 = r0->SCALE;
	r8 = r8 * r11;
	r7 = zui_Zui_isVisible(r0,r8);
	if( r7 ) goto label$1577ae0_15_20;
	r12 = NULL;
	zui_Zui_endElement(r0,r12);
	r9 = 0;
	return r9;
	label$1577ae0_15_20:
	r13 = NULL;
	r7 = zui_Zui_getStarted(r0,r13);
	r13 = NULL;
	r14 = zui_Zui_getPushed(r0,r13);
	r13 = NULL;
	r15 = zui_Zui_getReleased(r0,r13);
	r13 = NULL;
	r16 = zui_Zui_getHover(r0,r13);
	r17 = 0;
	if( r5 == r17 ) goto label$1577ae0_15_54;
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	r9 = ((int (*)(kha__graphics2__Graphics,int))r18->$type->vobj_proto[9])(r18,r5);
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	r8 = r0->_x;
	r11 = r0->buttonOffsetY;
	r8 = r8 + r11;
	r11 = r0->_y;
	r19 = r0->buttonOffsetY;
	r11 = r11 + r19;
	r9 = r0->_w;
	r19 = (double)r9;
	r20 = r0->buttonOffsetY;
	r21 = 2.;
	r20 = r20 * r21;
	r19 = r19 - r20;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[6] ? (*(int*)(hl_vfields(r10)[6])) : (int)hl_dyn_geti(r10->value,-172474255/*BUTTON_H*/,&$t_i32);
	r20 = (double)r9;
	r21 = r0->SCALE;
	r20 = r20 * r21;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r18->$type->vobj_proto[4])(r18,r8,r11,r19,r20);
	label$1577ae0_15_54:
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[27] ? (*(int*)(hl_vfields(r10)[27])) : (int)hl_dyn_geti(r10->value,-437956663/*TEXT_COL*/,&$t_i32);
	r9 = ((int (*)(kha__graphics2__Graphics,int))r18->$type->vobj_proto[9])(r18,r9);
	r18 = r0->g;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[28] ? (*(int*)(hl_vfields(r10)[28])) : (int)hl_dyn_geti(r10->value,-439328731/*TEXT_OFFSET*/,&$t_i32);
	r8 = (double)r9;
	r12 = hl_alloc_dynamic(&$t_f64);
	r12->v.d = r8;
	r9 = 0;
	r8 = (double)r9;
	r13 = &r8;
	r9 = r4;
	r2 = &r9;
	zui_Zui_drawString(r0,r18,r1,r12,r13,r2);
	r12 = NULL;
	zui_Zui_endElement(r0,r12);
	if( !r7 ) goto label$1577ae0_15_77;
	r17 = 1;
	return r17;
	label$1577ae0_15_77:
	if( !r15 ) goto label$1577ae0_15_80;
	r17 = 3;
	return r17;
	label$1577ae0_15_80:
	if( !r14 ) goto label$1577ae0_15_83;
	r17 = 2;
	return r17;
	label$1577ae0_15_83:
	r17 = 0;
	return r17;
}

void zui_Zui_startTextEdit(zui__Zui r0,zui__Handle r1) {
	String r4;
	bool r2;
	int *r8;
	zui__Handle r3;
	kha__input__Keyboard r7;
	int r6;
	r2 = true;
	r0->isTyping = r2;
	r3 = r0->textSelectedHandle;
	r0->submitTextHandle = r3;
	r4 = r0->textSelectedCurrentText;
	r0->textToSubmit = r4;
	r0->textSelectedHandle = r1;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->text;
	r0->textSelectedCurrentText = r4;
	r2 = r0->tabPressed;
	if( !r2 ) goto label$1577ae0_16_16;
	r2 = false;
	r0->tabPressed = r2;
	r2 = false;
	r0->isKeyPressed = r2;
	label$1577ae0_16_16:
	r0->tabPressedHandle = r1;
	r4 = r1->text;
	if( r4 == NULL ) hl_null_access();
	r6 = r4->length;
	r0->cursorX = r6;
	r6 = 0;
	r0->cursorY = r6;
	r6 = 0;
	r0->highlightAnchor = r6;
	r8 = NULL;
	r7 = kha_input_Keyboard_get(r8);
	if( !r7 ) goto label$1577ae0_16_32;
	r8 = NULL;
	r7 = kha_input_Keyboard_get(r8);
	if( r7 == NULL ) hl_null_access();
	kha_input_Keyboard_show(r7);
	label$1577ae0_16_32:
	return;
}

void zui_Zui_submitTextEdit(zui__Zui r0) {
	String r2;
	bool r3;
	zui__Handle r1;
	r1 = r0->submitTextHandle;
	if( r1 == NULL ) hl_null_access();
	r2 = r0->textToSubmit;
	r1->text = r2;
	r1 = r0->submitTextHandle;
	if( r1 == NULL ) hl_null_access();
	r3 = true;
	r0->changed = r3;
	r1->changed = r3;
	r1 = NULL;
	r0->submitTextHandle = r1;
	r2 = (String)$s_;
	r0->textToSubmit = r2;
	r2 = (String)$s_;
	r0->textSelectedCurrentText = r2;
	return;
}

void zui_Zui_updateTextEdit(zui__Zui r0,int* r1) {
	String r3, r10, r12;
	vvirtual *r16;
	bool r5, r14;
	kha__graphics2__Graphics r25;
	kha__Kravur r24;
	zui__$Zui r15;
	double r17, r18, r19, r20, r26, r27, r28, r29, r30;
	zui__Handle r13;
	vdynamic *r6, *r8;
	int r2, r7, r9, r11, r21, r22, r23;
	if( r1 ) goto label$1577ae0_18_3;
	r2 = 0;
	goto label$1577ae0_18_4;
	label$1577ae0_18_3:
	r2 = *r1;
	label$1577ae0_18_4:
	r3 = r0->textSelectedCurrentText;
	r5 = r0->isKeyPressed;
	if( !r5 ) goto label$1577ae0_18_258;
	r6 = r0->key;
	r7 = 37;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_18_18;
	r7 = r0->cursorX;
	r9 = 0;
	if( r9 >= r7 ) goto label$1577ae0_18_17;
	r7 = r0->cursorX;
	--r7;
	r0->cursorX = r7;
	label$1577ae0_18_17:
	goto label$1577ae0_18_236;
	label$1577ae0_18_18:
	r6 = r0->key;
	r7 = 39;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_18_30;
	r7 = r0->cursorX;
	if( r3 == NULL ) hl_null_access();
	r9 = r3->length;
	if( r7 >= r9 ) goto label$1577ae0_18_29;
	r7 = r0->cursorX;
	++r7;
	r0->cursorX = r7;
	label$1577ae0_18_29:
	goto label$1577ae0_18_236;
	label$1577ae0_18_30:
	r6 = r0->key;
	r7 = 8;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_18_86;
	r7 = r0->cursorX;
	r9 = 0;
	if( r9 >= r7 ) goto label$1577ae0_18_57;
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 != r9 ) goto label$1577ae0_18_57;
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->cursorX;
	r11 = 1;
	r9 = r9 - r11;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->cursorX;
	r9 = r3->length;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	r7 = r0->cursorX;
	--r7;
	r0->cursorX = r7;
	goto label$1577ae0_18_85;
	label$1577ae0_18_57:
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 >= r9 ) goto label$1577ae0_18_74;
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->highlightAnchor;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->cursorX;
	r9 = r3->length;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	r7 = r0->highlightAnchor;
	r0->cursorX = r7;
	goto label$1577ae0_18_85;
	label$1577ae0_18_74:
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->cursorX;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->highlightAnchor;
	r9 = r3->length;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	label$1577ae0_18_85:
	goto label$1577ae0_18_236;
	label$1577ae0_18_86:
	r6 = r0->key;
	r7 = 46;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_18_135;
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 != r9 ) goto label$1577ae0_18_106;
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->cursorX;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->cursorX;
	r9 = 1;
	r7 = r7 + r9;
	r6 = NULL;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	goto label$1577ae0_18_134;
	label$1577ae0_18_106:
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 >= r9 ) goto label$1577ae0_18_123;
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->highlightAnchor;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->cursorX;
	r9 = r3->length;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	r7 = r0->highlightAnchor;
	r0->cursorX = r7;
	goto label$1577ae0_18_134;
	label$1577ae0_18_123:
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->cursorX;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->highlightAnchor;
	r9 = r3->length;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	label$1577ae0_18_134:
	goto label$1577ae0_18_236;
	label$1577ae0_18_135:
	r6 = r0->key;
	r7 = 13;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_18_141;
	zui_Zui_deselectText(r0);
	goto label$1577ae0_18_236;
	label$1577ae0_18_141:
	r6 = r0->key;
	r7 = 27;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_18_151;
	r13 = r0->textSelectedHandle;
	if( r13 == NULL ) hl_null_access();
	r10 = r13->text;
	r0->textSelectedCurrentText = r10;
	zui_Zui_deselectText(r0);
	goto label$1577ae0_18_236;
	label$1577ae0_18_151:
	r6 = r0->key;
	r7 = 9;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_18_161;
	r5 = true;
	r0->tabPressed = r5;
	zui_Zui_deselectText(r0);
	r6 = NULL;
	r0->key = r6;
	goto label$1577ae0_18_236;
	label$1577ae0_18_161:
	r6 = r0->key;
	r7 = 36;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_18_168;
	r7 = 0;
	r0->cursorX = r7;
	goto label$1577ae0_18_236;
	label$1577ae0_18_168:
	r6 = r0->key;
	r7 = 35;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_18_176;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->length;
	r0->cursorX = r7;
	goto label$1577ae0_18_236;
	label$1577ae0_18_176:
	r6 = r0->key;
	r7 = 16;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_18_236;
	r6 = r0->key;
	r7 = 20;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_18_236;
	r6 = r0->key;
	r7 = 17;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_18_236;
	r6 = r0->key;
	r7 = 18;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_18_236;
	r6 = r0->key;
	r7 = 38;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_18_236;
	r6 = r0->key;
	r7 = 40;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_18_236;
	r10 = r0->_char;
	if( !r10 ) goto label$1577ae0_18_236;
	r10 = r0->_char;
	r12 = (String)$s_;
	if( r10 == r12 || (r10 && r12 && String___compare(r10,(vdynamic*)r12) == 0) ) goto label$1577ae0_18_236;
	r10 = r0->_char;
	if( r10 == NULL ) hl_null_access();
	r7 = 0;
	r6 = String_charCodeAt(r10,r7);
	r7 = r6 ? r6->v.i : 0;
	r9 = 32;
	if( r7 < r9 ) goto label$1577ae0_18_236;
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->highlightAnchor;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r12 = r0->_char;
	r10 = String___add__(r10,r12);
	r7 = r0->cursorX;
	r6 = NULL;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	r7 = r0->cursorX;
	r9 = 1;
	r7 = r7 + r9;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->length;
	if( r9 >= r7 ) goto label$1577ae0_18_232;
	r7 = r10->length;
	goto label$1577ae0_18_235;
	label$1577ae0_18_232:
	r7 = r0->cursorX;
	r9 = 1;
	r7 = r7 + r9;
	label$1577ae0_18_235:
	r0->cursorX = r7;
	label$1577ae0_18_236:
	r5 = r0->isShiftDown;
	if( !r5 ) goto label$1577ae0_18_252;
	r6 = r0->key;
	r7 = 37;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_18_250;
	r6 = r0->key;
	r7 = 39;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 == r8 || (r6 && r8 && (r6->v.i == r8->v.i)) ) goto label$1577ae0_18_250;
	r6 = r0->key;
	r7 = 16;
	r8 = hl_alloc_dynamic(&$t_i32);
	r8->v.i = r7;
	if( r6 != r8 && (!r6 || !r8 || (r6->v.i != r8->v.i)) ) goto label$1577ae0_18_252;
	label$1577ae0_18_250:
	r5 = true;
	goto label$1577ae0_18_253;
	label$1577ae0_18_252:
	r5 = false;
	label$1577ae0_18_253:
	if( r5 ) goto label$1577ae0_18_258;
	r14 = r0->isCtrlDown;
	if( r14 ) goto label$1577ae0_18_258;
	r7 = r0->cursorX;
	r0->highlightAnchor = r7;
	label$1577ae0_18_258:
	r15 = (zui__$Zui)$g__zui_Zui;
	r10 = r15->textToPaste;
	r12 = (String)$s_;
	if( r10 == r12 || (r10 && r12 && String___compare(r10,(vdynamic*)r12) == 0) ) goto label$1577ae0_18_287;
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->highlightAnchor;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r15 = (zui__$Zui)$g__zui_Zui;
	r12 = r15->textToPaste;
	r10 = String___add__(r10,r12);
	r7 = r0->cursorX;
	r6 = NULL;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	r7 = r0->cursorX;
	r15 = (zui__$Zui)$g__zui_Zui;
	r10 = r15->textToPaste;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->length;
	r7 = r7 + r9;
	r0->cursorX = r7;
	r7 = r0->cursorX;
	r0->highlightAnchor = r7;
	r10 = (String)$s_;
	r15 = (zui__$Zui)$g__zui_Zui;
	r15->textToPaste = r10;
	label$1577ae0_18_287:
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 != r9 ) goto label$1577ae0_18_293;
	r15 = (zui__$Zui)$g__zui_Zui;
	r15->textToCopy = r3;
	goto label$1577ae0_18_311;
	label$1577ae0_18_293:
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 >= r9 ) goto label$1577ae0_18_304;
	if( r3 == NULL ) hl_null_access();
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r10 = String_substring(r3,r7,r6);
	r15 = (zui__$Zui)$g__zui_Zui;
	r15->textToCopy = r10;
	goto label$1577ae0_18_311;
	label$1577ae0_18_304:
	if( r3 == NULL ) hl_null_access();
	r7 = r0->cursorX;
	r9 = r0->highlightAnchor;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r10 = String_substring(r3,r7,r6);
	r15 = (zui__$Zui)$g__zui_Zui;
	r15->textToCopy = r10;
	label$1577ae0_18_311:
	r15 = (zui__$Zui)$g__zui_Zui;
	r5 = r15->isCut;
	if( !r5 ) goto label$1577ae0_18_348;
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 != r9 ) goto label$1577ae0_18_320;
	r10 = (String)$s_;
	r3 = r10;
	goto label$1577ae0_18_348;
	label$1577ae0_18_320:
	r7 = r0->highlightAnchor;
	r9 = r0->cursorX;
	if( r7 >= r9 ) goto label$1577ae0_18_337;
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->highlightAnchor;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->cursorX;
	r9 = r3->length;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	r7 = r0->highlightAnchor;
	r0->cursorX = r7;
	goto label$1577ae0_18_348;
	label$1577ae0_18_337:
	if( r3 == NULL ) hl_null_access();
	r7 = 0;
	r9 = r0->cursorX;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r10 = String_substr(r3,r7,r6);
	r7 = r0->highlightAnchor;
	r9 = r3->length;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r7,r6);
	r10 = String___add__(r10,r12);
	r3 = r10;
	label$1577ae0_18_348:
	r16 = r0->_t;
	if( r16 == NULL ) hl_null_access();
	r7 = hl_vfields(r16)[28] ? (*(int*)(hl_vfields(r16)[28])) : (int)hl_dyn_geti(r16->value,-439328731/*TEXT_OFFSET*/,&$t_i32);
	r16 = r0->_t;
	if( r16 == NULL ) hl_null_access();
	r9 = hl_vfields(r16)[12] ? (*(int*)(hl_vfields(r16)[12])) : (int)hl_dyn_geti(r16->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r17 = (double)r9;
	r18 = r0->SCALE;
	r17 = r17 * r18;
	r19 = r0->buttonOffsetY;
	r20 = 3.;
	r19 = r19 * r20;
	r18 = r17 - r19;
	r9 = r0->highlightAnchor;
	r11 = r0->cursorX;
	if( r9 == r11 ) goto label$1577ae0_18_445;
	r9 = r0->cursorX;
	r11 = r0->highlightAnchor;
	r21 = r0->highlightAnchor;
	r22 = r0->cursorX;
	if( r21 >= r22 ) goto label$1577ae0_18_373;
	r21 = r0->highlightAnchor;
	r9 = r21;
	r21 = r0->cursorX;
	r11 = r21;
	label$1577ae0_18_373:
	if( r3 == NULL ) hl_null_access();
	r22 = r11 - r9;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r22;
	r10 = String_substr(r3,r9,r6);
	r25 = r0->g;
	if( r25 == NULL ) hl_null_access();
	r24 = ((kha__Kravur (*)(kha__graphics2__Graphics))r25->$type->vobj_proto[10])(r25);
	if( r24 == NULL ) hl_null_access();
	r25 = r0->g;
	if( r25 == NULL ) hl_null_access();
	r21 = kha_graphics2_Graphics_get_fontSize(r25);
	r19 = kha_Kravur_width(r24,r21,r10);
	r25 = r0->g;
	if( r25 == NULL ) hl_null_access();
	r24 = ((kha__Kravur (*)(kha__graphics2__Graphics))r25->$type->vobj_proto[10])(r25);
	if( r24 == NULL ) hl_null_access();
	r25 = r0->g;
	if( r25 == NULL ) hl_null_access();
	r21 = kha_graphics2_Graphics_get_fontSize(r25);
	r22 = 0;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r9;
	r12 = String_substr(r3,r22,r6);
	r20 = kha_Kravur_width(r24,r21,r12);
	r22 = 0;
	if( r2 != r22 ) goto label$1577ae0_18_403;
	r26 = r0->_x;
	r26 = r26 + r20;
	r27 = (double)r7;
	r26 = r26 + r27;
	goto label$1577ae0_18_410;
	label$1577ae0_18_403:
	r26 = r0->_x;
	r21 = r0->_w;
	r27 = (double)r21;
	r26 = r26 + r27;
	r26 = r26 - r19;
	r27 = (double)r7;
	r26 = r26 - r27;
	label$1577ae0_18_410:
	r22 = 2;
	if( r2 != r22 ) goto label$1577ae0_18_425;
	r25 = r0->g;
	if( r25 == NULL ) hl_null_access();
	r24 = ((kha__Kravur (*)(kha__graphics2__Graphics))r25->$type->vobj_proto[10])(r25);
	if( r24 == NULL ) hl_null_access();
	r25 = r0->g;
	if( r25 == NULL ) hl_null_access();
	r21 = kha_graphics2_Graphics_get_fontSize(r25);
	r23 = r3->length;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r23;
	r12 = String_substr(r3,r11,r6);
	r28 = kha_Kravur_width(r24,r21,r12);
	r27 = r26 - r28;
	r26 = r27;
	label$1577ae0_18_425:
	r25 = r0->g;
	if( r25 == NULL ) hl_null_access();
	r16 = r0->_t;
	if( r16 == NULL ) hl_null_access();
	r21 = hl_vfields(r16)[2] ? (*(int*)(hl_vfields(r16)[2])) : (int)hl_dyn_geti(r16->value,136230716/*ACCENT_SELECT_COL*/,&$t_i32);
	r21 = ((int (*)(kha__graphics2__Graphics,int))r25->$type->vobj_proto[9])(r25,r21);
	r25 = r0->g;
	if( r25 == NULL ) hl_null_access();
	r28 = r0->_y;
	r21 = r0->cursorY;
	r29 = (double)r21;
	r29 = r29 * r17;
	r28 = r28 + r29;
	r29 = r0->buttonOffsetY;
	r30 = 1.5;
	r29 = r29 * r30;
	r28 = r28 + r29;
	r30 = r0->SCALE;
	r29 = r19 * r30;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r25->$type->vobj_proto[4])(r25,r26,r28,r29,r18);
	label$1577ae0_18_445:
	r19 = kha_Scheduler_time();
	r26 = 1.;
	r20 = fmod(r19,r26);
	r26 = 0.5;
	if( !(r20 < r26) ) goto label$1577ae0_18_504;
	r11 = 0;
	if( r2 != r11 ) goto label$1577ae0_18_458;
	if( r3 == NULL ) hl_null_access();
	r9 = 0;
	r11 = r0->cursorX;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r11;
	r10 = String_substr(r3,r9,r6);
	goto label$1577ae0_18_463;
	label$1577ae0_18_458:
	if( r3 == NULL ) hl_null_access();
	r9 = r0->cursorX;
	r11 = r3->length;
	r6 = hl_alloc_dynamic(&$t_i32);
	r6->v.i = r11;
	r10 = String_substring(r3,r9,r6);
	label$1577ae0_18_463:
	r25 = r0->g;
	if( r25 == NULL ) hl_null_access();
	r24 = ((kha__Kravur (*)(kha__graphics2__Graphics))r25->$type->vobj_proto[10])(r25);
	if( r24 == NULL ) hl_null_access();
	r25 = r0->g;
	if( r25 == NULL ) hl_null_access();
	r9 = kha_graphics2_Graphics_get_fontSize(r25);
	r20 = kha_Kravur_width(r24,r9,r10);
	r11 = 0;
	if( r2 != r11 ) goto label$1577ae0_18_478;
	r26 = r0->_x;
	r26 = r26 + r20;
	r27 = (double)r7;
	r26 = r26 + r27;
	goto label$1577ae0_18_485;
	label$1577ae0_18_478:
	r26 = r0->_x;
	r9 = r0->_w;
	r27 = (double)r9;
	r26 = r26 + r27;
	r26 = r26 - r20;
	r27 = (double)r7;
	r26 = r26 - r27;
	label$1577ae0_18_485:
	r25 = r0->g;
	if( r25 == NULL ) hl_null_access();
	r16 = r0->_t;
	if( r16 == NULL ) hl_null_access();
	r9 = hl_vfields(r16)[27] ? (*(int*)(hl_vfields(r16)[27])) : (int)hl_dyn_geti(r16->value,-437956663/*TEXT_COL*/,&$t_i32);
	r9 = ((int (*)(kha__graphics2__Graphics,int))r25->$type->vobj_proto[9])(r25,r9);
	r25 = r0->g;
	if( r25 == NULL ) hl_null_access();
	r28 = r0->_y;
	r9 = r0->cursorY;
	r29 = (double)r9;
	r29 = r29 * r17;
	r28 = r28 + r29;
	r29 = r0->buttonOffsetY;
	r30 = 1.5;
	r29 = r29 * r30;
	r28 = r28 + r29;
	r29 = r0->SCALE;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r25->$type->vobj_proto[4])(r25,r26,r28,r29,r18);
	label$1577ae0_18_504:
	r0->textSelectedCurrentText = r3;
	return;
}

String zui_Zui_textInput(zui__Zui r0,zui__Handle r1,String r2,int* r3) {
	String r4, r26;
	vvirtual *r10;
	bool r7, r15, r24;
	kha__graphics2__Graphics r18;
	zui__$Zui r17;
	vclosure *r16;
	double r8, r11, r19, r20, r21, r22, r23, r25;
	double *r14;
	zui__Handle r13;
	vdynamic *r12;
	int r5, r9, r27, r28, r29;
	if( r2 ) goto label$1577ae0_19_3;
	r4 = (String)$s_;
	r2 = r4;
	label$1577ae0_19_3:
	if( r3 ) goto label$1577ae0_19_6;
	r5 = 0;
	goto label$1577ae0_19_7;
	label$1577ae0_19_6:
	r5 = *r3;
	label$1577ae0_19_7:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[12] ? (*(int*)(hl_vfields(r10)[12])) : (int)hl_dyn_geti(r10->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r8 = (double)r9;
	r11 = r0->SCALE;
	r8 = r8 * r11;
	r7 = zui_Zui_isVisible(r0,r8);
	if( r7 ) goto label$1577ae0_19_20;
	r12 = NULL;
	zui_Zui_endElement(r0,r12);
	if( r1 == NULL ) hl_null_access();
	r4 = r1->text;
	return r4;
	label$1577ae0_19_20:
	r14 = NULL;
	r7 = zui_Zui_getHover(r0,r14);
	if( !r7 ) goto label$1577ae0_19_30;
	r17 = (zui__$Zui)$g__zui_Zui;
	r16 = r17->onTextHover;
	if( !r16 ) goto label$1577ae0_19_30;
	r17 = (zui__$Zui)$g__zui_Zui;
	r16 = r17->onTextHover;
	if( r16 == NULL ) hl_null_access();
	r16->hasValue ? ((void (*)(vdynamic*))r16->fun)((vdynamic*)r16->value) : ((void (*)(void))r16->fun)();
	label$1577ae0_19_30:
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	if( !r7 ) goto label$1577ae0_19_37;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[1] ? (*(int*)(hl_vfields(r10)[1])) : (int)hl_dyn_geti(r10->value,-43289016/*ACCENT_HOVER_COL*/,&$t_i32);
	goto label$1577ae0_19_40;
	label$1577ae0_19_37:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[0] ? (*(int*)(hl_vfields(r10)[0])) : (int)hl_dyn_geti(r10->value,34671467/*ACCENT_COL*/,&$t_i32);
	label$1577ae0_19_40:
	r9 = ((int (*)(kha__graphics2__Graphics,int))r18->$type->vobj_proto[9])(r18,r9);
	r18 = r0->g;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r15 = hl_vfields(r10)[15] ? (*(bool*)(hl_vfields(r10)[15])) : (bool)hl_dyn_geti(r10->value,51671661/*FILL_ACCENT_BG*/,&$t_bool);
	r8 = r0->_x;
	r11 = r0->buttonOffsetY;
	r8 = r8 + r11;
	r11 = r0->_y;
	r19 = r0->buttonOffsetY;
	r11 = r11 + r19;
	r9 = r0->_w;
	r19 = (double)r9;
	r20 = r0->buttonOffsetY;
	r21 = 2.;
	r20 = r20 * r21;
	r19 = r19 - r20;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[6] ? (*(int*)(hl_vfields(r10)[6])) : (int)hl_dyn_geti(r10->value,-172474255/*BUTTON_H*/,&$t_i32);
	r20 = (double)r9;
	r21 = r0->SCALE;
	r20 = r20 * r21;
	r21 = 0.;
	r23 = 0.;
	if( r21 != r23 ) goto label$1577ae0_19_73;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[21] ? (*(int*)(hl_vfields(r10)[21])) : (int)hl_dyn_geti(r10->value,-63120798/*LINE_STRENGTH*/,&$t_i32);
	r22 = (double)r9;
	r23 = r0->SCALE;
	r22 = r22 * r23;
	r21 = r22;
	label$1577ae0_19_73:
	r24 = r0->enabled;
	if( r24 ) goto label$1577ae0_19_76;
	zui_Zui_fadeColor(r0);
	label$1577ae0_19_76:
	if( !r15 ) goto label$1577ae0_19_80;
	if( r18 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r18->$type->vobj_proto[4])(r18,r8,r11,r19,r20);
	goto label$1577ae0_19_84;
	label$1577ae0_19_80:
	if( r18 == NULL ) hl_null_access();
	r25 = r21;
	r14 = &r25;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r18->$type->vobj_proto[3])(r18,r8,r11,r19,r20,r14);
	label$1577ae0_19_84:
	r14 = NULL;
	r15 = zui_Zui_getReleased(r0,r14);
	if( r15 ) goto label$1577ae0_19_91;
	r15 = r0->tabPressed;
	if( r15 ) goto label$1577ae0_19_91;
	r15 = false;
	goto label$1577ae0_19_92;
	label$1577ae0_19_91:
	r15 = true;
	label$1577ae0_19_92:
	r13 = r0->textSelectedHandle;
	if( r13 == r1 ) goto label$1577ae0_19_96;
	if( !r15 ) goto label$1577ae0_19_96;
	zui_Zui_startTextEdit(r0,r1);
	label$1577ae0_19_96:
	r13 = r0->textSelectedHandle;
	if( r13 != r1 ) goto label$1577ae0_19_101;
	r9 = r5;
	r3 = &r9;
	zui_Zui_updateTextEdit(r0,r3);
	label$1577ae0_19_101:
	r13 = r0->submitTextHandle;
	if( r13 != r1 ) goto label$1577ae0_19_105;
	zui_Zui_submitTextEdit(r0);
	goto label$1577ae0_19_108;
	label$1577ae0_19_105:
	if( r1 == NULL ) hl_null_access();
	r24 = false;
	r1->changed = r24;
	label$1577ae0_19_108:
	r26 = (String)$s_;
	if( r2 == r26 || (r2 && r26 && String___compare(r2,(vdynamic*)r26) == 0) ) goto label$1577ae0_19_135;
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r27 = hl_vfields(r10)[20] ? (*(int*)(hl_vfields(r10)[20])) : (int)hl_dyn_geti(r10->value,370483844/*LABEL_COL*/,&$t_i32);
	r27 = ((int (*)(kha__graphics2__Graphics,int))r18->$type->vobj_proto[9])(r18,r27);
	r28 = 2;
	if( r5 != r28 ) goto label$1577ae0_19_120;
	r27 = 0;
	goto label$1577ae0_19_121;
	label$1577ae0_19_120:
	r27 = 2;
	label$1577ae0_19_121:
	r29 = 0;
	if( r27 != r29 ) goto label$1577ae0_19_125;
	r28 = 7;
	goto label$1577ae0_19_126;
	label$1577ae0_19_125:
	r28 = 0;
	label$1577ae0_19_126:
	r18 = r0->g;
	r8 = (double)r28;
	r12 = hl_alloc_dynamic(&$t_f64);
	r12->v.d = r8;
	r29 = 0;
	r8 = (double)r29;
	r14 = &r8;
	r29 = r27;
	r3 = &r29;
	zui_Zui_drawString(r0,r18,r2,r12,r14,r3);
	label$1577ae0_19_135:
	r18 = r0->g;
	if( r18 == NULL ) hl_null_access();
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r27 = hl_vfields(r10)[27] ? (*(int*)(hl_vfields(r10)[27])) : (int)hl_dyn_geti(r10->value,-437956663/*TEXT_COL*/,&$t_i32);
	r27 = ((int (*)(kha__graphics2__Graphics,int))r18->$type->vobj_proto[9])(r18,r27);
	r13 = r0->textSelectedHandle;
	if( r13 == r1 ) goto label$1577ae0_19_154;
	r18 = r0->g;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->text;
	r12 = NULL;
	r27 = 0;
	r11 = (double)r27;
	r14 = &r11;
	r27 = r5;
	r3 = &r27;
	zui_Zui_drawString(r0,r18,r4,r12,r14,r3);
	goto label$1577ae0_19_163;
	label$1577ae0_19_154:
	r18 = r0->g;
	r4 = r0->textSelectedCurrentText;
	r12 = NULL;
	r28 = 0;
	r19 = (double)r28;
	r14 = &r19;
	r28 = r5;
	r3 = &r28;
	zui_Zui_drawString(r0,r18,r4,r12,r14,r3);
	label$1577ae0_19_163:
	r12 = NULL;
	zui_Zui_endElement(r0,r12);
	if( r1 == NULL ) hl_null_access();
	r4 = r1->text;
	return r4;
}

void zui_Zui_deselectText(zui__Zui r0) {
	String r2;
	bool r3;
	int *r7;
	zui__Handle r1;
	kha__input__Keyboard r6;
	int r5;
	r1 = r0->textSelectedHandle;
	r0->submitTextHandle = r1;
	r2 = r0->textSelectedCurrentText;
	r0->textToSubmit = r2;
	r1 = NULL;
	r0->textSelectedHandle = r1;
	r3 = false;
	r0->isTyping = r3;
	r1 = r0->currentWindow;
	if( !r1 ) goto label$1577ae0_20_14;
	r1 = r0->currentWindow;
	if( r1 == NULL ) hl_null_access();
	r5 = 2;
	r1->redraws = r5;
	label$1577ae0_20_14:
	r7 = NULL;
	r6 = kha_input_Keyboard_get(r7);
	if( !r6 ) goto label$1577ae0_20_21;
	r7 = NULL;
	r6 = kha_input_Keyboard_get(r7);
	if( r6 == NULL ) hl_null_access();
	kha_input_Keyboard_hide(r6);
	label$1577ae0_20_21:
	r5 = r0->cursorX;
	r0->highlightAnchor = r5;
	return;
}

bool zui_Zui_button(zui__Zui r0,String r1,int* r2,String r3) {
	String r5, r25;
	vvirtual *r10;
	bool r7, r14, r15, r16, r23;
	kha__graphics2__Graphics r17;
	double r8, r11, r18, r19, r20, r21, r22, r24;
	double *r13;
	vdynamic *r12;
	int r4, r9, r26, r27;
	if( r2 ) goto label$1577ae0_21_3;
	r4 = 1;
	goto label$1577ae0_21_4;
	label$1577ae0_21_3:
	r4 = *r2;
	label$1577ae0_21_4:
	if( r3 ) goto label$1577ae0_21_7;
	r5 = (String)$s_;
	r3 = r5;
	label$1577ae0_21_7:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[12] ? (*(int*)(hl_vfields(r10)[12])) : (int)hl_dyn_geti(r10->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r8 = (double)r9;
	r11 = r0->SCALE;
	r8 = r8 * r11;
	r7 = zui_Zui_isVisible(r0,r8);
	if( r7 ) goto label$1577ae0_21_19;
	r12 = NULL;
	zui_Zui_endElement(r0,r12);
	r7 = false;
	return r7;
	label$1577ae0_21_19:
	r13 = NULL;
	r7 = zui_Zui_getReleased(r0,r13);
	r13 = NULL;
	r14 = zui_Zui_getPushed(r0,r13);
	r13 = NULL;
	r15 = zui_Zui_getHover(r0,r13);
	if( !r7 ) goto label$1577ae0_21_28;
	r16 = true;
	r0->changed = r16;
	label$1577ae0_21_28:
	r17 = r0->g;
	if( r17 == NULL ) hl_null_access();
	if( !r14 ) goto label$1577ae0_21_35;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[8] ? (*(int*)(hl_vfields(r10)[8])) : (int)hl_dyn_geti(r10->value,-312586346/*BUTTON_PRESSED_COL*/,&$t_i32);
	goto label$1577ae0_21_43;
	label$1577ae0_21_35:
	if( !r15 ) goto label$1577ae0_21_40;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[7] ? (*(int*)(hl_vfields(r10)[7])) : (int)hl_dyn_geti(r10->value,513780351/*BUTTON_HOVER_COL*/,&$t_i32);
	goto label$1577ae0_21_43;
	label$1577ae0_21_40:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(int*)(hl_vfields(r10)[5])) : (int)hl_dyn_geti(r10->value,-446410866/*BUTTON_COL*/,&$t_i32);
	label$1577ae0_21_43:
	r9 = ((int (*)(kha__graphics2__Graphics,int))r17->$type->vobj_proto[9])(r17,r9);
	r17 = r0->g;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r16 = hl_vfields(r10)[16] ? (*(bool*)(hl_vfields(r10)[16])) : (bool)hl_dyn_geti(r10->value,-314017881/*FILL_BUTTON_BG*/,&$t_bool);
	r8 = r0->_x;
	r11 = r0->buttonOffsetY;
	r8 = r8 + r11;
	r11 = r0->_y;
	r18 = r0->buttonOffsetY;
	r11 = r11 + r18;
	r9 = r0->_w;
	r18 = (double)r9;
	r19 = r0->buttonOffsetY;
	r20 = 2.;
	r19 = r19 * r20;
	r18 = r18 - r19;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[6] ? (*(int*)(hl_vfields(r10)[6])) : (int)hl_dyn_geti(r10->value,-172474255/*BUTTON_H*/,&$t_i32);
	r19 = (double)r9;
	r20 = r0->SCALE;
	r19 = r19 * r20;
	r20 = 0.;
	r22 = 0.;
	if( r20 != r22 ) goto label$1577ae0_21_76;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[21] ? (*(int*)(hl_vfields(r10)[21])) : (int)hl_dyn_geti(r10->value,-63120798/*LINE_STRENGTH*/,&$t_i32);
	r21 = (double)r9;
	r22 = r0->SCALE;
	r21 = r21 * r22;
	r20 = r21;
	label$1577ae0_21_76:
	r23 = r0->enabled;
	if( r23 ) goto label$1577ae0_21_79;
	zui_Zui_fadeColor(r0);
	label$1577ae0_21_79:
	if( !r16 ) goto label$1577ae0_21_83;
	if( r17 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r17->$type->vobj_proto[4])(r17,r8,r11,r18,r19);
	goto label$1577ae0_21_87;
	label$1577ae0_21_83:
	if( r17 == NULL ) hl_null_access();
	r24 = r20;
	r13 = &r24;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r17->$type->vobj_proto[3])(r17,r8,r11,r18,r19,r13);
	label$1577ae0_21_87:
	r17 = r0->g;
	if( r17 == NULL ) hl_null_access();
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[9] ? (*(int*)(hl_vfields(r10)[9])) : (int)hl_dyn_geti(r10->value,-348918917/*BUTTON_TEXT_COL*/,&$t_i32);
	r9 = ((int (*)(kha__graphics2__Graphics,int))r17->$type->vobj_proto[9])(r17,r9);
	r17 = r0->g;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[28] ? (*(int*)(hl_vfields(r10)[28])) : (int)hl_dyn_geti(r10->value,-439328731/*TEXT_OFFSET*/,&$t_i32);
	r8 = (double)r9;
	r12 = hl_alloc_dynamic(&$t_f64);
	r12->v.d = r8;
	r9 = 0;
	r8 = (double)r9;
	r13 = &r8;
	r9 = r4;
	r2 = &r9;
	zui_Zui_drawString(r0,r17,r1,r12,r13,r2);
	r25 = (String)$s_;
	if( r3 == r25 || (r3 && r25 && String___compare(r3,(vdynamic*)r25) == 0) ) goto label$1577ae0_21_129;
	r17 = r0->g;
	if( r17 == NULL ) hl_null_access();
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r26 = hl_vfields(r10)[20] ? (*(int*)(hl_vfields(r10)[20])) : (int)hl_dyn_geti(r10->value,370483844/*LABEL_COL*/,&$t_i32);
	r26 = ((int (*)(kha__graphics2__Graphics,int))r17->$type->vobj_proto[9])(r17,r26);
	r17 = r0->g;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r26 = hl_vfields(r10)[28] ? (*(int*)(hl_vfields(r10)[28])) : (int)hl_dyn_geti(r10->value,-439328731/*TEXT_OFFSET*/,&$t_i32);
	r11 = (double)r26;
	r12 = hl_alloc_dynamic(&$t_f64);
	r12->v.d = r11;
	r26 = 0;
	r11 = (double)r26;
	r13 = &r11;
	r27 = 2;
	if( r4 != r27 ) goto label$1577ae0_21_126;
	r26 = 0;
	goto label$1577ae0_21_127;
	label$1577ae0_21_126:
	r26 = 2;
	label$1577ae0_21_127:
	r2 = &r26;
	zui_Zui_drawString(r0,r17,r3,r12,r13,r2);
	label$1577ae0_21_129:
	r12 = NULL;
	zui_Zui_endElement(r0,r12);
	return r7;
}

bool zui_Zui_check(zui__Zui r0,zui__Handle r1,String r2) {
	vvirtual *r7;
	bool r4, r11;
	kha__graphics2__Graphics r12;
	double r5, r8;
	int *r13;
	double *r10;
	vdynamic *r9;
	int r6;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r5 = (double)r6;
	r8 = r0->SCALE;
	r5 = r5 * r8;
	r4 = zui_Zui_isVisible(r0,r5);
	if( r4 ) goto label$1577ae0_22_13;
	r9 = NULL;
	zui_Zui_endElement(r0,r9);
	if( r1 == NULL ) hl_null_access();
	r4 = r1->selected;
	return r4;
	label$1577ae0_22_13:
	r10 = NULL;
	r4 = zui_Zui_getReleased(r0,r10);
	if( !r4 ) goto label$1577ae0_22_24;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->selected;
	r4 = !r4;
	r1->selected = r4;
	r4 = true;
	r0->changed = r4;
	r1->changed = r4;
	goto label$1577ae0_22_27;
	label$1577ae0_22_24:
	if( r1 == NULL ) hl_null_access();
	r4 = false;
	r1->changed = r4;
	label$1577ae0_22_27:
	r10 = NULL;
	r4 = zui_Zui_getHover(r0,r10);
	r11 = r1->selected;
	zui_Zui_drawCheck(r0,r11,r4);
	r12 = r0->g;
	if( r12 == NULL ) hl_null_access();
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[27] ? (*(int*)(hl_vfields(r7)[27])) : (int)hl_dyn_geti(r7->value,-437956663/*TEXT_COL*/,&$t_i32);
	r6 = ((int (*)(kha__graphics2__Graphics,int))r12->$type->vobj_proto[9])(r12,r6);
	r12 = r0->g;
	r5 = r0->titleOffsetX;
	r9 = hl_alloc_dynamic(&$t_f64);
	r9->v.d = r5;
	r6 = 0;
	r5 = (double)r6;
	r10 = &r5;
	r6 = 0;
	r13 = &r6;
	zui_Zui_drawString(r0,r12,r2,r9,r10,r13);
	r9 = NULL;
	zui_Zui_endElement(r0,r9);
	r11 = r1->selected;
	return r11;
}

int zui_Zui_inlineRadio(zui__Zui r0,zui__Handle r1,hl__types__ArrayObj r2) {
	String r13;
	vvirtual *r7;
	bool r4;
	double r5, r8;
	double *r11;
	vdynamic *r9, *r10;
	varray *r14;
	int r6, r12;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r5 = (double)r6;
	r8 = r0->SCALE;
	r5 = r5 * r8;
	r4 = zui_Zui_isVisible(r0,r5);
	if( r4 ) goto label$1577ae0_23_13;
	r9 = NULL;
	zui_Zui_endElement(r0,r9);
	if( r1 == NULL ) hl_null_access();
	r6 = r1->position;
	return r6;
	label$1577ae0_23_13:
	r11 = NULL;
	r4 = zui_Zui_getReleased(r0,r11);
	if( !r4 ) goto label$1577ae0_23_29;
	if( r1 == NULL ) hl_null_access();
	r6 = r1->position;
	++r6;
	r1->position = r6;
	if( r2 == NULL ) hl_null_access();
	r12 = r2->length;
	if( r6 < r12 ) goto label$1577ae0_23_25;
	r6 = 0;
	r1->position = r6;
	label$1577ae0_23_25:
	r4 = true;
	r0->changed = r4;
	r1->changed = r4;
	goto label$1577ae0_23_32;
	label$1577ae0_23_29:
	if( r1 == NULL ) hl_null_access();
	r4 = false;
	r1->changed = r4;
	label$1577ae0_23_32:
	r11 = NULL;
	r4 = zui_Zui_getHover(r0,r11);
	if( r2 == NULL ) hl_null_access();
	r6 = r1->position;
	r12 = r2->length;
	if( ((unsigned)r6) < ((unsigned)r12) ) goto label$1577ae0_23_40;
	r13 = NULL;
	goto label$1577ae0_23_43;
	label$1577ae0_23_40:
	r14 = r2->array;
	r10 = ((vdynamic**)(r14 + 1))[r6];
	r13 = (String)r10;
	label$1577ae0_23_43:
	zui_Zui_drawInlineRadio(r0,r13,r4);
	r9 = NULL;
	zui_Zui_endElement(r0,r9);
	r6 = r1->position;
	return r6;
}

int zui_Zui_combo(zui__Zui r0,zui__Handle r1,hl__types__ArrayObj r2,String r3,bool* r4,int* r5) {
	String r6, r33;
	vvirtual *r13;
	bool r7, r10, r22, r27;
	kha__graphics2__Graphics r23;
	double r11, r14, r19, r20, r24, r25, r26, r28, r29, r30, r31, r32;
	double *r18;
	zui__Handle r16, r21;
	vdynamic *r15, *r17;
	varray *r36;
	int r8, r12, r34, r35, r37;
	if( r3 ) goto label$1577ae0_24_3;
	r6 = (String)$s_;
	r3 = r6;
	label$1577ae0_24_3:
	if( r4 ) goto label$1577ae0_24_6;
	r7 = false;
	goto label$1577ae0_24_7;
	label$1577ae0_24_6:
	r7 = *r4;
	label$1577ae0_24_7:
	if( r5 ) goto label$1577ae0_24_10;
	r8 = 0;
	goto label$1577ae0_24_11;
	label$1577ae0_24_10:
	r8 = *r5;
	label$1577ae0_24_11:
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[12] ? (*(int*)(hl_vfields(r13)[12])) : (int)hl_dyn_geti(r13->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r11 = (double)r12;
	r14 = r0->SCALE;
	r11 = r11 * r14;
	r10 = zui_Zui_isVisible(r0,r11);
	if( r10 ) goto label$1577ae0_24_24;
	r15 = NULL;
	zui_Zui_endElement(r0,r15);
	if( r1 == NULL ) hl_null_access();
	r12 = r1->position;
	return r12;
	label$1577ae0_24_24:
	r18 = NULL;
	r10 = zui_Zui_getReleased(r0,r18);
	if( !r10 ) goto label$1577ae0_24_58;
	r16 = r0->comboSelectedHandle;
	if( r16 ) goto label$1577ae0_24_58;
	r10 = false;
	r0->inputEnabled = r10;
	r0->comboSelectedHandle = r1;
	r16 = r0->currentWindow;
	r0->comboSelectedWindow = r16;
	r0->comboSelectedAlign = r8;
	r0->comboSelectedTexts = r2;
	r0->comboSelectedLabel = r3;
	r11 = r0->_x;
	r14 = r0->_windowX;
	r11 = r11 + r14;
	r12 = (int)r11;
	r0->comboSelectedX = r12;
	r14 = r0->_y;
	r19 = r0->_windowY;
	r14 = r14 + r19;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[12] ? (*(int*)(hl_vfields(r13)[12])) : (int)hl_dyn_geti(r13->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r19 = (double)r12;
	r20 = r0->SCALE;
	r19 = r19 * r20;
	r14 = r14 + r19;
	r12 = (int)r14;
	r0->comboSelectedY = r12;
	r12 = r0->_w;
	r19 = (double)r12;
	r12 = (int)r19;
	r0->comboSelectedW = r12;
	label$1577ae0_24_58:
	r21 = r0->submitComboHandle;
	if( r1 != r21 ) goto label$1577ae0_24_69;
	if( r1 == NULL ) hl_null_access();
	r12 = r0->comboToSubmit;
	r1->position = r12;
	r16 = NULL;
	r0->submitComboHandle = r16;
	r10 = true;
	r0->changed = r10;
	r1->changed = r10;
	goto label$1577ae0_24_72;
	label$1577ae0_24_69:
	if( r1 == NULL ) hl_null_access();
	r10 = false;
	r1->changed = r10;
	label$1577ae0_24_72:
	r18 = NULL;
	r10 = zui_Zui_getHover(r0,r18);
	if( !r10 ) goto label$1577ae0_24_125;
	r23 = r0->g;
	if( r23 == NULL ) hl_null_access();
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[1] ? (*(int*)(hl_vfields(r13)[1])) : (int)hl_dyn_geti(r13->value,-43289016/*ACCENT_HOVER_COL*/,&$t_i32);
	r12 = ((int (*)(kha__graphics2__Graphics,int))r23->$type->vobj_proto[9])(r23,r12);
	r23 = r0->g;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r22 = hl_vfields(r13)[15] ? (*(bool*)(hl_vfields(r13)[15])) : (bool)hl_dyn_geti(r13->value,51671661/*FILL_ACCENT_BG*/,&$t_bool);
	r11 = r0->_x;
	r14 = r0->buttonOffsetY;
	r11 = r11 + r14;
	r14 = r0->_y;
	r19 = r0->buttonOffsetY;
	r14 = r14 + r19;
	r12 = r0->_w;
	r19 = (double)r12;
	r20 = r0->buttonOffsetY;
	r24 = 2.;
	r20 = r20 * r24;
	r19 = r19 - r20;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[6] ? (*(int*)(hl_vfields(r13)[6])) : (int)hl_dyn_geti(r13->value,-172474255/*BUTTON_H*/,&$t_i32);
	r20 = (double)r12;
	r24 = r0->SCALE;
	r20 = r20 * r24;
	r24 = 0.;
	r26 = 0.;
	if( r24 != r26 ) goto label$1577ae0_24_113;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[21] ? (*(int*)(hl_vfields(r13)[21])) : (int)hl_dyn_geti(r13->value,-63120798/*LINE_STRENGTH*/,&$t_i32);
	r25 = (double)r12;
	r26 = r0->SCALE;
	r25 = r25 * r26;
	r24 = r25;
	label$1577ae0_24_113:
	r27 = r0->enabled;
	if( r27 ) goto label$1577ae0_24_116;
	zui_Zui_fadeColor(r0);
	label$1577ae0_24_116:
	if( !r22 ) goto label$1577ae0_24_120;
	if( r23 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r23->$type->vobj_proto[4])(r23,r11,r14,r19,r20);
	goto label$1577ae0_24_124;
	label$1577ae0_24_120:
	if( r23 == NULL ) hl_null_access();
	r30 = r24;
	r18 = &r30;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r23->$type->vobj_proto[3])(r23,r11,r14,r19,r20,r18);
	label$1577ae0_24_124:
	goto label$1577ae0_24_174;
	label$1577ae0_24_125:
	r23 = r0->g;
	if( r23 == NULL ) hl_null_access();
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[0] ? (*(int*)(hl_vfields(r13)[0])) : (int)hl_dyn_geti(r13->value,34671467/*ACCENT_COL*/,&$t_i32);
	r12 = ((int (*)(kha__graphics2__Graphics,int))r23->$type->vobj_proto[9])(r23,r12);
	r23 = r0->g;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r22 = hl_vfields(r13)[15] ? (*(bool*)(hl_vfields(r13)[15])) : (bool)hl_dyn_geti(r13->value,51671661/*FILL_ACCENT_BG*/,&$t_bool);
	r11 = r0->_x;
	r14 = r0->buttonOffsetY;
	r11 = r11 + r14;
	r14 = r0->_y;
	r19 = r0->buttonOffsetY;
	r14 = r14 + r19;
	r12 = r0->_w;
	r19 = (double)r12;
	r20 = r0->buttonOffsetY;
	r24 = 2.;
	r20 = r20 * r24;
	r19 = r19 - r20;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[6] ? (*(int*)(hl_vfields(r13)[6])) : (int)hl_dyn_geti(r13->value,-172474255/*BUTTON_H*/,&$t_i32);
	r20 = (double)r12;
	r24 = r0->SCALE;
	r20 = r20 * r24;
	r24 = 0.;
	r26 = 0.;
	if( r24 != r26 ) goto label$1577ae0_24_163;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[21] ? (*(int*)(hl_vfields(r13)[21])) : (int)hl_dyn_geti(r13->value,-63120798/*LINE_STRENGTH*/,&$t_i32);
	r25 = (double)r12;
	r26 = r0->SCALE;
	r25 = r25 * r26;
	r24 = r25;
	label$1577ae0_24_163:
	r27 = r0->enabled;
	if( r27 ) goto label$1577ae0_24_166;
	zui_Zui_fadeColor(r0);
	label$1577ae0_24_166:
	if( !r22 ) goto label$1577ae0_24_170;
	if( r23 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r23->$type->vobj_proto[4])(r23,r11,r14,r19,r20);
	goto label$1577ae0_24_174;
	label$1577ae0_24_170:
	if( r23 == NULL ) hl_null_access();
	r31 = r24;
	r18 = &r31;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r23->$type->vobj_proto[3])(r23,r11,r14,r19,r20,r18);
	label$1577ae0_24_174:
	r11 = r0->_x;
	r12 = r0->_w;
	r14 = (double)r12;
	r11 = r11 + r14;
	r14 = r0->arrowOffsetX;
	r11 = r11 - r14;
	r14 = 8.;
	r11 = r11 - r14;
	r14 = r0->_y;
	r19 = r0->arrowOffsetY;
	r14 = r14 + r19;
	r19 = 3.;
	r14 = r14 + r19;
	r23 = r0->g;
	if( r23 == NULL ) hl_null_access();
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[4] ? (*(int*)(hl_vfields(r13)[4])) : (int)hl_dyn_geti(r13->value,515256028/*ARROW_SIZE*/,&$t_i32);
	r25 = (double)r12;
	r26 = r0->SCALE;
	r25 = r25 * r26;
	r24 = r11 + r25;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[4] ? (*(int*)(hl_vfields(r13)[4])) : (int)hl_dyn_geti(r13->value,515256028/*ARROW_SIZE*/,&$t_i32);
	r28 = (double)r12;
	r29 = r0->SCALE;
	r28 = r28 * r29;
	r29 = 2.;
	r28 = r28 / r29;
	r26 = r11 + r28;
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[4] ? (*(int*)(hl_vfields(r13)[4])) : (int)hl_dyn_geti(r13->value,515256028/*ARROW_SIZE*/,&$t_i32);
	r29 = (double)r12;
	r32 = r0->SCALE;
	r29 = r29 * r32;
	r32 = 2.;
	r29 = r29 / r32;
	r28 = r14 + r29;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double,double))r23->$type->vobj_proto[7])(r23,r11,r14,r24,r14,r26,r28);
	if( !r7 ) goto label$1577ae0_24_248;
	r33 = (String)$s_;
	if( r3 == r33 || (r3 && r33 && String___compare(r3,(vdynamic*)r33) == 0) ) goto label$1577ae0_24_248;
	r34 = 0;
	if( r8 != r34 ) goto label$1577ae0_24_224;
	r19 = r0->_x;
	r20 = 15.;
	r19 = r19 - r20;
	r0->_x = r19;
	label$1577ae0_24_224:
	r23 = r0->g;
	if( r23 == NULL ) hl_null_access();
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r12 = hl_vfields(r13)[20] ? (*(int*)(hl_vfields(r13)[20])) : (int)hl_dyn_geti(r13->value,370483844/*LABEL_COL*/,&$t_i32);
	r12 = ((int (*)(kha__graphics2__Graphics,int))r23->$type->vobj_proto[9])(r23,r12);
	r23 = r0->g;
	r15 = NULL;
	r12 = 0;
	r19 = (double)r12;
	r18 = &r19;
	r34 = 0;
	if( r8 != r34 ) goto label$1577ae0_24_239;
	r12 = 2;
	goto label$1577ae0_24_240;
	label$1577ae0_24_239:
	r12 = 0;
	label$1577ae0_24_240:
	r5 = &r12;
	zui_Zui_drawString(r0,r23,r3,r15,r18,r5);
	r35 = 0;
	if( r8 != r35 ) goto label$1577ae0_24_248;
	r20 = r0->_x;
	r24 = 15.;
	r20 = r20 + r24;
	r0->_x = r20;
	label$1577ae0_24_248:
	r35 = 2;
	if( r8 != r35 ) goto label$1577ae0_24_254;
	r20 = r0->_x;
	r24 = 15.;
	r20 = r20 - r24;
	r0->_x = r20;
	label$1577ae0_24_254:
	r23 = r0->g;
	if( r23 == NULL ) hl_null_access();
	r13 = r0->_t;
	if( r13 == NULL ) hl_null_access();
	r34 = hl_vfields(r13)[27] ? (*(int*)(hl_vfields(r13)[27])) : (int)hl_dyn_geti(r13->value,-437956663/*TEXT_COL*/,&$t_i32);
	r34 = ((int (*)(kha__graphics2__Graphics,int))r23->$type->vobj_proto[9])(r23,r34);
	r23 = r0->g;
	if( r2 == NULL ) hl_null_access();
	r34 = r1->position;
	r35 = r2->length;
	if( ((unsigned)r34) < ((unsigned)r35) ) goto label$1577ae0_24_267;
	r6 = NULL;
	goto label$1577ae0_24_270;
	label$1577ae0_24_267:
	r36 = r2->array;
	r17 = ((vdynamic**)(r36 + 1))[r34];
	r6 = (String)r17;
	label$1577ae0_24_270:
	r15 = NULL;
	r34 = 0;
	r20 = (double)r34;
	r18 = &r20;
	r34 = r8;
	r5 = &r34;
	zui_Zui_drawString(r0,r23,r6,r15,r18,r5);
	r37 = 2;
	if( r8 != r37 ) goto label$1577ae0_24_283;
	r24 = r0->_x;
	r25 = 15.;
	r24 = r24 + r25;
	r0->_x = r24;
	label$1577ae0_24_283:
	r15 = NULL;
	zui_Zui_endElement(r0,r15);
	r35 = r1->position;
	return r35;
}

double zui_Zui_slider(zui__Zui r0,zui__Handle r1,String r2,double* r3,double* r4,bool* r5,int* r6,bool* r7,int* r8,bool* r9) {
	String r31, r33;
	vvirtual *r21;
	bool r12, r14, r16, r18, r30;
	kha__graphics2__Graphics r36;
	double r10, r11, r19, r22, r25, r26, r27, r28, r29;
	zui__Handle r24;
	vdynamic *r23;
	vbyte *r32;
	int r13, r15, r20, r34, r35, r37, r38;
	if( r3 ) goto label$1577ae0_25_3;
	r10 = 0.;
	goto label$1577ae0_25_4;
	label$1577ae0_25_3:
	r10 = *r3;
	label$1577ae0_25_4:
	if( r4 ) goto label$1577ae0_25_7;
	r11 = 1.;
	goto label$1577ae0_25_8;
	label$1577ae0_25_7:
	r11 = *r4;
	label$1577ae0_25_8:
	if( r5 ) goto label$1577ae0_25_11;
	r12 = false;
	goto label$1577ae0_25_12;
	label$1577ae0_25_11:
	r12 = *r5;
	label$1577ae0_25_12:
	if( r6 ) goto label$1577ae0_25_15;
	r13 = 100;
	goto label$1577ae0_25_16;
	label$1577ae0_25_15:
	r13 = *r6;
	label$1577ae0_25_16:
	if( r7 ) goto label$1577ae0_25_19;
	r14 = true;
	goto label$1577ae0_25_20;
	label$1577ae0_25_19:
	r14 = *r7;
	label$1577ae0_25_20:
	if( r8 ) goto label$1577ae0_25_23;
	r15 = 2;
	goto label$1577ae0_25_24;
	label$1577ae0_25_23:
	r15 = *r8;
	label$1577ae0_25_24:
	if( r9 ) goto label$1577ae0_25_27;
	r16 = true;
	goto label$1577ae0_25_28;
	label$1577ae0_25_27:
	r16 = *r9;
	label$1577ae0_25_28:
	r21 = r0->_t;
	if( r21 == NULL ) hl_null_access();
	r20 = hl_vfields(r21)[12] ? (*(int*)(hl_vfields(r21)[12])) : (int)hl_dyn_geti(r21->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r19 = (double)r20;
	r22 = r0->SCALE;
	r19 = r19 * r22;
	r18 = zui_Zui_isVisible(r0,r19);
	if( r18 ) goto label$1577ae0_25_41;
	r23 = NULL;
	zui_Zui_endElement(r0,r23);
	if( r1 == NULL ) hl_null_access();
	r19 = r1->value;
	return r19;
	label$1577ae0_25_41:
	r3 = NULL;
	r18 = zui_Zui_getStarted(r0,r3);
	if( !r18 ) goto label$1577ae0_25_50;
	if( r1 == NULL ) hl_null_access();
	r18 = true;
	r1->scrolling = r18;
	r0->scrollingHandle = r1;
	r18 = true;
	r0->isScrolling = r18;
	label$1577ae0_25_50:
	if( r1 == NULL ) hl_null_access();
	r18 = false;
	r1->changed = r18;
	r18 = r1->scrolling;
	if( !r18 ) goto label$1577ae0_25_90;
	r19 = r11 - r10;
	r22 = r0->_x;
	r25 = r0->_windowX;
	r22 = r22 + r25;
	r25 = r0->buttonOffsetY;
	r22 = r22 + r25;
	r20 = r0->_w;
	r25 = (double)r20;
	r26 = r0->buttonOffsetY;
	r27 = 2.;
	r26 = r26 * r27;
	r25 = r25 - r26;
	r26 = r19 / r25;
	r28 = r0->inputX;
	r28 = r28 - r22;
	r28 = r28 * r26;
	r27 = r10 + r28;
	r29 = (double)r13;
	r28 = r27 * r29;
	r20 = hl_math_round(r28);
	r28 = (double)r20;
	r20 = r13;
	r29 = (double)r13;
	r28 = r28 / r29;
	r1->value = r28;
	r28 = r1->value;
	if( !(r28 < r10) ) goto label$1577ae0_25_84;
	r1->value = r10;
	goto label$1577ae0_25_87;
	label$1577ae0_25_84:
	r28 = r1->value;
	if( !(r11 < r28) ) goto label$1577ae0_25_87;
	r1->value = r11;
	label$1577ae0_25_87:
	r18 = true;
	r0->changed = r18;
	r1->changed = r18;
	label$1577ae0_25_90:
	r3 = NULL;
	r18 = zui_Zui_getHover(r0,r3);
	r19 = r1->value;
	zui_Zui_drawSlider(r0,r19,r10,r11,r12,r18);
	r3 = NULL;
	r30 = zui_Zui_getReleased(r0,r3);
	if( r30 ) goto label$1577ae0_25_99;
	r30 = r0->tabPressed;
	if( !r30 ) goto label$1577ae0_25_102;
	label$1577ae0_25_99:
	if( !r16 ) goto label$1577ae0_25_102;
	r30 = true;
	goto label$1577ae0_25_103;
	label$1577ae0_25_102:
	r30 = false;
	label$1577ae0_25_103:
	if( !r30 ) goto label$1577ae0_25_112;
	r19 = r1->value;
	r6 = &r20;
	r32 = hl_ftos(r19,r6);
	r31 = String___alloc__(r32,r20);
	r33 = (String)$s_;
	r31 = String___add__(r31,r33);
	r1->text = r31;
	zui_Zui_startTextEdit(r0,r1);
	label$1577ae0_25_112:
	r34 = 0;
	if( r15 != r34 ) goto label$1577ae0_25_116;
	r20 = 2;
	goto label$1577ae0_25_117;
	label$1577ae0_25_116:
	r20 = 0;
	label$1577ae0_25_117:
	r24 = r0->textSelectedHandle;
	if( r24 != r1 ) goto label$1577ae0_25_122;
	r34 = r20;
	r6 = &r34;
	zui_Zui_updateTextEdit(r0,r6);
	label$1577ae0_25_122:
	r24 = r0->submitTextHandle;
	if( r24 != r1 ) goto label$1577ae0_25_128;
	zui_Zui_submitTextEdit(r0);
	r31 = r1->text;
	r19 = Std_parseFloat(r31);
	r1->value = r19;
	label$1577ae0_25_128:
	r36 = r0->g;
	if( r36 == NULL ) hl_null_access();
	r21 = r0->_t;
	if( r21 == NULL ) hl_null_access();
	r35 = hl_vfields(r21)[20] ? (*(int*)(hl_vfields(r21)[20])) : (int)hl_dyn_geti(r21->value,370483844/*LABEL_COL*/,&$t_i32);
	r35 = ((int (*)(kha__graphics2__Graphics,int))r36->$type->vobj_proto[9])(r36,r35);
	r36 = r0->g;
	r23 = NULL;
	r35 = 0;
	r19 = (double)r35;
	r3 = &r19;
	r35 = r15;
	r6 = &r35;
	zui_Zui_drawString(r0,r36,r2,r23,r3,r6);
	if( !r14 ) goto label$1577ae0_25_175;
	r36 = r0->g;
	if( r36 == NULL ) hl_null_access();
	r21 = r0->_t;
	if( r21 == NULL ) hl_null_access();
	r37 = hl_vfields(r21)[27] ? (*(int*)(hl_vfields(r21)[27])) : (int)hl_dyn_geti(r21->value,-437956663/*TEXT_COL*/,&$t_i32);
	r37 = ((int (*)(kha__graphics2__Graphics,int))r36->$type->vobj_proto[9])(r36,r37);
	r24 = r0->textSelectedHandle;
	if( r24 == r1 ) goto label$1577ae0_25_166;
	r36 = r0->g;
	r22 = r1->value;
	r6 = &r37;
	r32 = hl_ftos(r22,r6);
	r31 = String___alloc__(r32,r37);
	r33 = (String)$s_;
	r31 = String___add__(r31,r33);
	r23 = NULL;
	r37 = 0;
	r22 = (double)r37;
	r3 = &r22;
	r37 = r20;
	r6 = &r37;
	zui_Zui_drawString(r0,r36,r31,r23,r3,r6);
	goto label$1577ae0_25_175;
	label$1577ae0_25_166:
	r36 = r0->g;
	r31 = r0->textSelectedCurrentText;
	r23 = NULL;
	r38 = 0;
	r25 = (double)r38;
	r3 = &r25;
	r38 = r20;
	r6 = &r38;
	zui_Zui_drawString(r0,r36,r31,r23,r3,r6);
	label$1577ae0_25_175:
	r23 = NULL;
	zui_Zui_endElement(r0,r23);
	r26 = r1->value;
	return r26;
}

void zui_Zui_drawCheck(zui__Zui r0,bool r1,bool r2) {
	kha__Image r18;
	vvirtual *r10;
	bool r9, r15;
	kha__graphics2__Graphics r8;
	float r19, r20, r21, r22;
	double r3, r4, r6, r11, r12, r13, r14, r16;
	double *r17;
	int r7;
	r3 = r0->_x;
	r4 = r0->checkOffsetX;
	r3 = r3 + r4;
	r4 = r0->_y;
	r6 = r0->checkOffsetY;
	r4 = r4 + r6;
	r8 = r0->g;
	if( r8 == NULL ) hl_null_access();
	if( !r2 ) goto label$1577ae0_26_13;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[1] ? (*(int*)(hl_vfields(r10)[1])) : (int)hl_dyn_geti(r10->value,-43289016/*ACCENT_HOVER_COL*/,&$t_i32);
	goto label$1577ae0_26_16;
	label$1577ae0_26_13:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[0] ? (*(int*)(hl_vfields(r10)[0])) : (int)hl_dyn_geti(r10->value,34671467/*ACCENT_COL*/,&$t_i32);
	label$1577ae0_26_16:
	r7 = ((int (*)(kha__graphics2__Graphics,int))r8->$type->vobj_proto[9])(r8,r7);
	r8 = r0->g;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[15] ? (*(bool*)(hl_vfields(r10)[15])) : (bool)hl_dyn_geti(r10->value,51671661/*FILL_ACCENT_BG*/,&$t_bool);
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[11] ? (*(int*)(hl_vfields(r10)[11])) : (int)hl_dyn_geti(r10->value,-83668365/*CHECK_SIZE*/,&$t_i32);
	r6 = (double)r7;
	r11 = r0->SCALE;
	r6 = r6 * r11;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[11] ? (*(int*)(hl_vfields(r10)[11])) : (int)hl_dyn_geti(r10->value,-83668365/*CHECK_SIZE*/,&$t_i32);
	r11 = (double)r7;
	r12 = r0->SCALE;
	r11 = r11 * r12;
	r12 = 0.;
	r14 = 0.;
	if( r12 != r14 ) goto label$1577ae0_26_43;
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[21] ? (*(int*)(hl_vfields(r10)[21])) : (int)hl_dyn_geti(r10->value,-63120798/*LINE_STRENGTH*/,&$t_i32);
	r13 = (double)r7;
	r14 = r0->SCALE;
	r13 = r13 * r14;
	r12 = r13;
	label$1577ae0_26_43:
	r15 = r0->enabled;
	if( r15 ) goto label$1577ae0_26_46;
	zui_Zui_fadeColor(r0);
	label$1577ae0_26_46:
	if( !r9 ) goto label$1577ae0_26_50;
	if( r8 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r8->$type->vobj_proto[4])(r8,r3,r4,r6,r11);
	goto label$1577ae0_26_54;
	label$1577ae0_26_50:
	if( r8 == NULL ) hl_null_access();
	r16 = r12;
	r17 = &r16;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r8->$type->vobj_proto[3])(r8,r3,r4,r6,r11,r17);
	label$1577ae0_26_54:
	if( !r1 ) goto label$1577ae0_26_81;
	r8 = r0->g;
	if( r8 == NULL ) hl_null_access();
	r7 = -1;
	r7 = ((int (*)(kha__graphics2__Graphics,int))r8->$type->vobj_proto[9])(r8,r7);
	r9 = r0->enabled;
	if( r9 ) goto label$1577ae0_26_62;
	zui_Zui_fadeColor(r0);
	label$1577ae0_26_62:
	r10 = r0->_t;
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[10] ? (*(int*)(hl_vfields(r10)[10])) : (int)hl_dyn_geti(r10->value,78235607/*CHECK_SELECT_SIZE*/,&$t_i32);
	r6 = (double)r7;
	r11 = r0->SCALE;
	r6 = r6 * r11;
	r7 = (int)r6;
	r8 = r0->g;
	if( r8 == NULL ) hl_null_access();
	r18 = r0->checkSelectImage;
	r12 = r0->checkSelectOffsetX;
	r11 = r3 + r12;
	r19 = (float)r11;
	r12 = r0->checkSelectOffsetY;
	r11 = r4 + r12;
	r20 = (float)r11;
	r21 = (float)r7;
	r22 = (float)r7;
	kha_graphics2_Graphics_drawScaledImage(r8,r18,r19,r20,r21,r22);
	label$1577ae0_26_81:
	return;
}

void zui_Zui_drawInlineRadio(zui__Zui r0,String r1,bool r2) {
	vvirtual *r7;
	bool r4;
	kha__graphics2__Graphics r6;
	double r8, r9, r10, r11, r12;
	int *r15;
	vdynamic *r14;
	double *r13;
	int r5;
	if( !r2 ) goto label$1577ae0_27_29;
	r6 = r0->g;
	if( r6 == NULL ) hl_null_access();
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r5 = hl_vfields(r7)[1] ? (*(int*)(hl_vfields(r7)[1])) : (int)hl_dyn_geti(r7->value,-43289016/*ACCENT_HOVER_COL*/,&$t_i32);
	r5 = ((int (*)(kha__graphics2__Graphics,int))r6->$type->vobj_proto[9])(r6,r5);
	r6 = r0->g;
	if( r6 == NULL ) hl_null_access();
	r8 = r0->_x;
	r9 = r0->buttonOffsetY;
	r8 = r8 + r9;
	r9 = r0->_y;
	r10 = r0->buttonOffsetY;
	r9 = r9 + r10;
	r5 = r0->_w;
	r10 = (double)r5;
	r11 = r0->buttonOffsetY;
	r12 = 2.;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r5 = hl_vfields(r7)[6] ? (*(int*)(hl_vfields(r7)[6])) : (int)hl_dyn_geti(r7->value,-172474255/*BUTTON_H*/,&$t_i32);
	r11 = (double)r5;
	r12 = r0->SCALE;
	r11 = r11 * r12;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r6->$type->vobj_proto[4])(r6,r8,r9,r10,r11);
	goto label$1577ae0_27_60;
	label$1577ae0_27_29:
	r6 = r0->g;
	if( r6 == NULL ) hl_null_access();
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r5 = hl_vfields(r7)[0] ? (*(int*)(hl_vfields(r7)[0])) : (int)hl_dyn_geti(r7->value,34671467/*ACCENT_COL*/,&$t_i32);
	r5 = ((int (*)(kha__graphics2__Graphics,int))r6->$type->vobj_proto[9])(r6,r5);
	r4 = r0->enabled;
	if( r4 ) goto label$1577ae0_27_38;
	zui_Zui_fadeColor(r0);
	label$1577ae0_27_38:
	r6 = r0->g;
	if( r6 == NULL ) hl_null_access();
	r8 = r0->_x;
	r9 = r0->buttonOffsetY;
	r8 = r8 + r9;
	r9 = r0->_y;
	r10 = r0->buttonOffsetY;
	r9 = r9 + r10;
	r5 = r0->_w;
	r10 = (double)r5;
	r11 = r0->buttonOffsetY;
	r12 = 2.;
	r11 = r11 * r12;
	r10 = r10 - r11;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r5 = hl_vfields(r7)[6] ? (*(int*)(hl_vfields(r7)[6])) : (int)hl_dyn_geti(r7->value,-172474255/*BUTTON_H*/,&$t_i32);
	r11 = (double)r5;
	r12 = r0->SCALE;
	r11 = r11 * r12;
	r13 = NULL;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r6->$type->vobj_proto[3])(r6,r8,r9,r10,r11,r13);
	label$1577ae0_27_60:
	r6 = r0->g;
	if( r6 == NULL ) hl_null_access();
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r5 = hl_vfields(r7)[27] ? (*(int*)(hl_vfields(r7)[27])) : (int)hl_dyn_geti(r7->value,-437956663/*TEXT_COL*/,&$t_i32);
	r5 = ((int (*)(kha__graphics2__Graphics,int))r6->$type->vobj_proto[9])(r6,r5);
	r6 = r0->g;
	r8 = r0->titleOffsetX;
	r14 = hl_alloc_dynamic(&$t_f64);
	r14->v.d = r8;
	r5 = 0;
	r8 = (double)r5;
	r13 = &r8;
	r5 = 1;
	r15 = &r5;
	zui_Zui_drawString(r0,r6,r1,r14,r13,r15);
	return;
}

void zui_Zui_drawSlider(zui__Zui r0,double r1,double r2,double r3,bool r4,bool r5) {
	vvirtual *r15;
	bool r14, r18;
	kha__graphics2__Graphics r13;
	double r6, r7, r9, r11, r12, r16, r17, r19, r20, r21, r23, r24;
	double *r22;
	int r10;
	r6 = r0->_x;
	r7 = r0->buttonOffsetY;
	r6 = r6 + r7;
	r7 = r0->_y;
	r9 = r0->buttonOffsetY;
	r7 = r7 + r9;
	r10 = r0->_w;
	r9 = (double)r10;
	r11 = r0->buttonOffsetY;
	r12 = 2.;
	r11 = r11 * r12;
	r9 = r9 - r11;
	r13 = r0->g;
	if( r13 == NULL ) hl_null_access();
	if( !r5 ) goto label$1577ae0_28_19;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[1] ? (*(int*)(hl_vfields(r15)[1])) : (int)hl_dyn_geti(r15->value,-43289016/*ACCENT_HOVER_COL*/,&$t_i32);
	goto label$1577ae0_28_22;
	label$1577ae0_28_19:
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[0] ? (*(int*)(hl_vfields(r15)[0])) : (int)hl_dyn_geti(r15->value,34671467/*ACCENT_COL*/,&$t_i32);
	label$1577ae0_28_22:
	r10 = ((int (*)(kha__graphics2__Graphics,int))r13->$type->vobj_proto[9])(r13,r10);
	r13 = r0->g;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[15] ? (*(bool*)(hl_vfields(r15)[15])) : (bool)hl_dyn_geti(r15->value,51671661/*FILL_ACCENT_BG*/,&$t_bool);
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[6] ? (*(int*)(hl_vfields(r15)[6])) : (int)hl_dyn_geti(r15->value,-172474255/*BUTTON_H*/,&$t_i32);
	r11 = (double)r10;
	r12 = r0->SCALE;
	r11 = r11 * r12;
	r12 = 0.;
	r17 = 0.;
	if( r12 != r17 ) goto label$1577ae0_28_43;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[21] ? (*(int*)(hl_vfields(r15)[21])) : (int)hl_dyn_geti(r15->value,-63120798/*LINE_STRENGTH*/,&$t_i32);
	r16 = (double)r10;
	r17 = r0->SCALE;
	r16 = r16 * r17;
	r12 = r16;
	label$1577ae0_28_43:
	r18 = r0->enabled;
	if( r18 ) goto label$1577ae0_28_46;
	zui_Zui_fadeColor(r0);
	label$1577ae0_28_46:
	if( !r14 ) goto label$1577ae0_28_50;
	if( r13 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r13->$type->vobj_proto[4])(r13,r6,r7,r9,r11);
	goto label$1577ae0_28_54;
	label$1577ae0_28_50:
	if( r13 == NULL ) hl_null_access();
	r21 = r12;
	r22 = &r21;
	((void (*)(kha__graphics2__Graphics,double,double,double,double,double*))r13->$type->vobj_proto[3])(r13,r6,r7,r9,r11,r22);
	label$1577ae0_28_54:
	r13 = r0->g;
	if( r13 == NULL ) hl_null_access();
	if( !r5 ) goto label$1577ae0_28_61;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[1] ? (*(int*)(hl_vfields(r15)[1])) : (int)hl_dyn_geti(r15->value,-43289016/*ACCENT_HOVER_COL*/,&$t_i32);
	goto label$1577ae0_28_64;
	label$1577ae0_28_61:
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[0] ? (*(int*)(hl_vfields(r15)[0])) : (int)hl_dyn_geti(r15->value,34671467/*ACCENT_COL*/,&$t_i32);
	label$1577ae0_28_64:
	r10 = ((int (*)(kha__graphics2__Graphics,int))r13->$type->vobj_proto[9])(r13,r10);
	r11 = r1 - r2;
	r12 = r3 - r2;
	r11 = r11 / r12;
	r12 = 8.;
	r16 = r0->SCALE;
	r12 = r12 * r16;
	if( !r4 ) goto label$1577ae0_28_74;
	r16 = r6;
	goto label$1577ae0_28_77;
	label$1577ae0_28_74:
	r17 = r9 - r12;
	r17 = r17 * r11;
	r16 = r6 + r17;
	label$1577ae0_28_77:
	if( !r4 ) goto label$1577ae0_28_80;
	r17 = r9 * r11;
	goto label$1577ae0_28_81;
	label$1577ae0_28_80:
	r17 = r12;
	label$1577ae0_28_81:
	r19 = Math_min(r17,r9);
	r20 = 0.;
	r19 = Math_max(r19,r20);
	r17 = r19;
	r13 = r0->g;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[6] ? (*(int*)(hl_vfields(r15)[6])) : (int)hl_dyn_geti(r15->value,-172474255/*BUTTON_H*/,&$t_i32);
	r19 = (double)r10;
	r20 = r0->SCALE;
	r19 = r19 * r20;
	r20 = 0.;
	r24 = 0.;
	if( r20 != r24 ) goto label$1577ae0_28_101;
	r15 = r0->_t;
	if( r15 == NULL ) hl_null_access();
	r10 = hl_vfields(r15)[21] ? (*(int*)(hl_vfields(r15)[21])) : (int)hl_dyn_geti(r15->value,-63120798/*LINE_STRENGTH*/,&$t_i32);
	r23 = (double)r10;
	r24 = r0->SCALE;
	r23 = r23 * r24;
	label$1577ae0_28_101:
	r14 = r0->enabled;
	if( r14 ) goto label$1577ae0_28_104;
	zui_Zui_fadeColor(r0);
	label$1577ae0_28_104:
	if( r13 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r13->$type->vobj_proto[4])(r13,r16,r7,r17,r19);
	return;
}

void zui_Zui_drawCombo(zui__Zui r0) {
	String r23, r36;
	bool *r13;
	hl__types__ArrayObj r10;
	vvirtual *r5, *r33;
	bool r12, r15, r18;
	kha__graphics2__Graphics r1, r4;
	zui__$Zui r37;
	double r6, r7, r8, r20, r21, r26;
	zui__Handle r32, r38;
	double *r25;
	int *r17;
	vdynamic *r14, *r24, *r34;
	varray *r35;
	int r3, r9, r11, r16, r19, r22, r27, r28, r29, r30, r31;
	r1 = r0->g;
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r3 = hl_vfields(r5)[25] ? (*(int*)(hl_vfields(r5)[25])) : (int)hl_dyn_geti(r5->value,379861099/*SEPARATOR_COL*/,&$t_i32);
	r3 = ((int (*)(kha__graphics2__Graphics,int))r4->$type->vobj_proto[9])(r4,r3);
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r3 = hl_vfields(r5)[12] ? (*(int*)(hl_vfields(r5)[12])) : (int)hl_dyn_geti(r5->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r6 = (double)r3;
	r7 = r0->SCALE;
	r6 = r6 * r7;
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r3 = hl_vfields(r5)[13] ? (*(int*)(hl_vfields(r5)[13])) : (int)hl_dyn_geti(r5->value,146972182/*ELEMENT_OFFSET*/,&$t_i32);
	r7 = (double)r3;
	r8 = r0->SCALE;
	r7 = r7 * r8;
	r6 = r6 + r7;
	r3 = (int)r6;
	r10 = r0->comboSelectedTexts;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->length;
	r11 = 1;
	r9 = r9 + r11;
	r9 = r9 * r3;
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r12 = false;
	r13 = &r12;
	r14 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r4->$type->vobj_proto[0])(r4,r13,r14);
	r11 = r0->comboSelectedY;
	r11 = r11 + r9;
	r17 = NULL;
	r16 = kha_System_windowHeight(r17);
	if( r11 > r16 ) goto label$1577ae0_29_40;
	r15 = false;
	goto label$1577ae0_29_41;
	label$1577ae0_29_40:
	r15 = true;
	label$1577ae0_29_41:
	if( !r15 ) goto label$1577ae0_29_54;
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r11 = hl_vfields(r5)[12] ? (*(int*)(hl_vfields(r5)[12])) : (int)hl_dyn_geti(r5->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r7 = (double)r11;
	r8 = r0->SCALE;
	r7 = r7 * r8;
	r16 = r0->comboSelectedY;
	r16 = r16 - r9;
	r19 = (int)r7;
	r16 = r16 - r19;
	r11 = r16;
	goto label$1577ae0_29_56;
	label$1577ae0_29_54:
	r16 = r0->comboSelectedY;
	r11 = r16;
	label$1577ae0_29_56:
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	r16 = r0->comboSelectedX;
	r7 = (double)r16;
	r8 = (double)r11;
	r16 = r0->comboSelectedW;
	r20 = (double)r16;
	r21 = (double)r9;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r4->$type->vobj_proto[4])(r4,r7,r8,r20,r21);
	r4 = r0->globalG;
	r16 = r0->comboSelectedX;
	r22 = r0->comboSelectedW;
	zui_Zui_beginLayout(r0,r4,r16,r11,r22);
	if( !r15 ) goto label$1577ae0_29_100;
	r4 = r0->g;
	if( r4 == NULL ) hl_null_access();
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r16 = hl_vfields(r5)[20] ? (*(int*)(hl_vfields(r5)[20])) : (int)hl_dyn_geti(r5->value,370483844/*LABEL_COL*/,&$t_i32);
	r16 = ((int (*)(kha__graphics2__Graphics,int))r4->$type->vobj_proto[9])(r4,r16);
	r4 = r0->g;
	r23 = r0->comboSelectedLabel;
	r24 = NULL;
	r16 = 0;
	r7 = (double)r16;
	r25 = &r7;
	r16 = 2;
	r17 = &r16;
	zui_Zui_drawString(r0,r4,r23,r24,r25,r17);
	r8 = r0->_y;
	r20 = (double)r3;
	r8 = r8 + r20;
	r0->_y = r8;
	r8 = 0.;
	r20 = 0.;
	r19 = r0->_w;
	r21 = (double)r19;
	r26 = r0->SCALE;
	r21 = r21 / r26;
	r26 = r0->SCALE;
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r19 = hl_vfields(r5)[2] ? (*(int*)(hl_vfields(r5)[2])) : (int)hl_dyn_geti(r5->value,136230716/*ACCENT_SELECT_COL*/,&$t_i32);
	zui_Zui_fill(r0,r8,r20,r21,r26,r19);
	label$1577ae0_29_100:
	r18 = true;
	r0->inputEnabled = r18;
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r19 = hl_vfields(r5)[5] ? (*(int*)(hl_vfields(r5)[5])) : (int)hl_dyn_geti(r5->value,-446410866/*BUTTON_COL*/,&$t_i32);
	r22 = 0;
	r10 = r0->comboSelectedTexts;
	if( r10 == NULL ) hl_null_access();
	r27 = r10->length;
	label$1577ae0_29_109:
	if( r22 >= r27 ) goto label$1577ae0_29_161;
	r28 = r22;
	++r22;
	if( !r15 ) goto label$1577ae0_29_121;
	r10 = r0->comboSelectedTexts;
	if( r10 == NULL ) hl_null_access();
	r29 = r10->length;
	r30 = 1;
	r29 = r29 - r30;
	r29 = r29 - r28;
	goto label$1577ae0_29_122;
	label$1577ae0_29_121:
	r29 = r28;
	label$1577ae0_29_122:
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r32 = r0->comboSelectedHandle;
	if( r32 == NULL ) hl_null_access();
	r31 = r32->position;
	if( r29 != r31 ) goto label$1577ae0_29_132;
	r33 = r0->_t;
	if( r33 == NULL ) hl_null_access();
	r30 = hl_vfields(r33)[22] ? (*(int*)(hl_vfields(r33)[22])) : (int)hl_dyn_geti(r33->value,-478305385/*PANEL_BG_COL*/,&$t_i32);
	goto label$1577ae0_29_135;
	label$1577ae0_29_132:
	r33 = r0->_t;
	if( r33 == NULL ) hl_null_access();
	r30 = hl_vfields(r33)[25] ? (*(int*)(hl_vfields(r33)[25])) : (int)hl_dyn_geti(r33->value,379861099/*SEPARATOR_COL*/,&$t_i32);
	label$1577ae0_29_135:
	if( hl_vfields(r5)[5] ) *(int*)(hl_vfields(r5)[5]) = (int)r30; else hl_dyn_seti(r5->value,-446410866/*BUTTON_COL*/,&$t_i32,r30);
	r10 = r0->comboSelectedTexts;
	if( r10 == NULL ) hl_null_access();
	r31 = r10->length;
	if( ((unsigned)r29) < ((unsigned)r31) ) goto label$1577ae0_29_142;
	r23 = NULL;
	goto label$1577ae0_29_145;
	label$1577ae0_29_142:
	r35 = r10->array;
	r34 = ((vdynamic**)(r35 + 1))[r29];
	r23 = (String)r34;
	label$1577ae0_29_145:
	r30 = r0->comboSelectedAlign;
	r17 = &r30;
	r36 = NULL;
	r18 = zui_Zui_button(r0,r23,r17,r36);
	if( !r18 ) goto label$1577ae0_29_160;
	r0->comboToSubmit = r29;
	r32 = r0->comboSelectedHandle;
	r0->submitComboHandle = r32;
	r32 = r0->comboSelectedWindow;
	if( !r32 ) goto label$1577ae0_29_159;
	r32 = r0->comboSelectedWindow;
	if( r32 == NULL ) hl_null_access();
	r31 = 2;
	r32->redraws = r31;
	label$1577ae0_29_159:
	goto label$1577ae0_29_161;
	label$1577ae0_29_160:
	goto label$1577ae0_29_109;
	label$1577ae0_29_161:
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	if( hl_vfields(r5)[5] ) *(int*)(hl_vfields(r5)[5]) = (int)r19; else hl_dyn_seti(r5->value,-446410866/*BUTTON_COL*/,&$t_i32,r19);
	if( r15 ) goto label$1577ae0_29_191;
	r8 = 0.;
	r20 = 0.;
	r22 = r0->_w;
	r21 = (double)r22;
	r26 = r0->SCALE;
	r21 = r21 / r26;
	r26 = r0->SCALE;
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r22 = hl_vfields(r5)[2] ? (*(int*)(hl_vfields(r5)[2])) : (int)hl_dyn_geti(r5->value,136230716/*ACCENT_SELECT_COL*/,&$t_i32);
	zui_Zui_fill(r0,r8,r20,r21,r26,r22);
	r4 = r0->g;
	if( r4 == NULL ) hl_null_access();
	r5 = r0->_t;
	if( r5 == NULL ) hl_null_access();
	r22 = hl_vfields(r5)[20] ? (*(int*)(hl_vfields(r5)[20])) : (int)hl_dyn_geti(r5->value,370483844/*LABEL_COL*/,&$t_i32);
	r22 = ((int (*)(kha__graphics2__Graphics,int))r4->$type->vobj_proto[9])(r4,r22);
	r4 = r0->g;
	r23 = r0->comboSelectedLabel;
	r24 = NULL;
	r22 = 0;
	r8 = (double)r22;
	r25 = &r8;
	r22 = 2;
	r17 = &r22;
	zui_Zui_drawString(r0,r4,r23,r24,r25,r17);
	label$1577ae0_29_191:
	r18 = r0->inputReleased;
	if( r18 ) goto label$1577ae0_29_195;
	r18 = r0->isEscapeDown;
	if( !r18 ) goto label$1577ae0_29_204;
	label$1577ae0_29_195:
	r37 = (zui__$Zui)$g__zui_Zui;
	r18 = r37->comboFirst;
	if( r18 ) goto label$1577ae0_29_204;
	r32 = NULL;
	r0->comboSelectedHandle = r32;
	r18 = true;
	r37 = (zui__$Zui)$g__zui_Zui;
	r37->comboFirst = r18;
	goto label$1577ae0_29_207;
	label$1577ae0_29_204:
	r18 = false;
	r37 = (zui__$Zui)$g__zui_Zui;
	r37->comboFirst = r18;
	label$1577ae0_29_207:
	r32 = r0->comboSelectedHandle;
	r38 = NULL;
	if( r32 == r38 ) goto label$1577ae0_29_212;
	r18 = false;
	goto label$1577ae0_29_213;
	label$1577ae0_29_212:
	r18 = true;
	label$1577ae0_29_213:
	r0->inputEnabled = r18;
	r18 = false;
	r13 = &r18;
	zui_Zui_endLayout(r0,r13);
	r4 = r0->globalG;
	if( r4 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r4->$type->vobj_proto[1])(r4);
	r0->g = r1;
	return;
}

void zui_Zui_drawTooltip(zui__Zui r0) {
	bool *r20;
	String r5, r6;
	hl__types__ArrayObj r4;
	vvirtual *r3, *r15;
	bool r19;
	kha__Kravur r14;
	kha__graphics2__Graphics r2;
	double r8, r13, r16, r17, r22, r23;
	int *r18;
	vdynamic *r11, *r21;
	varray *r12;
	int r1, r9, r10, r24, r25;
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	r3 = r0->_t;
	if( r3 == NULL ) hl_null_access();
	r1 = hl_vfields(r3)[27] ? (*(int*)(hl_vfields(r3)[27])) : (int)hl_dyn_geti(r3->value,-437956663/*TEXT_COL*/,&$t_i32);
	r1 = ((int (*)(kha__graphics2__Graphics,int))r2->$type->vobj_proto[9])(r2,r1);
	r5 = r0->tooltipText;
	if( r5 == NULL ) hl_null_access();
	r6 = (String)$s_68b329d;
	r4 = String_split(r5,r6);
	r8 = 0.;
	r1 = 0;
	label$1577ae0_30_12:
	if( r4 == NULL ) hl_null_access();
	r10 = r4->length;
	if( r1 >= r10 ) goto label$1577ae0_30_33;
	r10 = r4->length;
	if( ((unsigned)r1) < ((unsigned)r10) ) goto label$1577ae0_30_20;
	r5 = NULL;
	goto label$1577ae0_30_23;
	label$1577ae0_30_20:
	r12 = r4->array;
	r11 = ((vdynamic**)(r12 + 1))[r1];
	r5 = (String)r11;
	label$1577ae0_30_23:
	++r1;
	r15 = r0->ops;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[2] ? (*(kha__Kravur*)(hl_vfields(r15)[2])) : (kha__Kravur)hl_dyn_getp(r15->value,62938841/*font*/,&$t_kha_Kravur);
	if( r14 == NULL ) hl_null_access();
	r9 = r0->fontSize;
	r13 = kha_Kravur_width(r14,r9,r5);
	if( !(r8 < r13) ) goto label$1577ae0_30_32;
	r8 = r13;
	label$1577ae0_30_32:
	goto label$1577ae0_30_12;
	label$1577ae0_30_33:
	r13 = r0->tooltipX;
	r18 = NULL;
	r1 = kha_System_windowWidth(r18);
	r16 = (double)r1;
	r16 = r16 - r8;
	r17 = 20.;
	r16 = r16 - r17;
	r13 = Math_min(r13,r16);
	r0->tooltipX = r13;
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	r19 = false;
	r20 = &r19;
	r21 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r2->$type->vobj_proto[0])(r2,r20,r21);
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	r13 = r0->tooltipX;
	r16 = r0->tooltipY;
	r22 = 20.;
	r17 = r8 + r22;
	r3 = r0->_t;
	if( r3 == NULL ) hl_null_access();
	r1 = hl_vfields(r3)[12] ? (*(int*)(hl_vfields(r3)[12])) : (int)hl_dyn_geti(r3->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r22 = (double)r1;
	r23 = r0->SCALE;
	r22 = r22 * r23;
	r1 = r4->length;
	r23 = (double)r1;
	r22 = r22 * r23;
	r23 = 0.59999999999999998;
	r22 = r22 * r23;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r2->$type->vobj_proto[4])(r2,r13,r16,r17,r22);
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	r15 = r0->ops;
	if( r15 == NULL ) hl_null_access();
	r14 = hl_vfields(r15)[2] ? (*(kha__Kravur*)(hl_vfields(r15)[2])) : (kha__Kravur)hl_dyn_getp(r15->value,62938841/*font*/,&$t_kha_Kravur);
	r14 = ((kha__Kravur (*)(kha__graphics2__Graphics,kha__Kravur))r2->$type->vobj_proto[11])(r2,r14);
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	r1 = r0->fontSize;
	r1 = ((int (*)(kha__graphics2__Graphics,int))r2->$type->vobj_proto[12])(r2,r1);
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	r3 = r0->_t;
	if( r3 == NULL ) hl_null_access();
	r1 = hl_vfields(r3)[0] ? (*(int*)(hl_vfields(r3)[0])) : (int)hl_dyn_geti(r3->value,34671467/*ACCENT_COL*/,&$t_i32);
	r1 = ((int (*)(kha__graphics2__Graphics,int))r2->$type->vobj_proto[9])(r2,r1);
	r1 = 0;
	r9 = r4->length;
	label$1577ae0_30_84:
	if( r1 >= r9 ) goto label$1577ae0_30_108;
	r10 = r1;
	++r1;
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	if( r4 == NULL ) hl_null_access();
	r25 = r4->length;
	if( ((unsigned)r10) < ((unsigned)r25) ) goto label$1577ae0_30_95;
	r5 = NULL;
	goto label$1577ae0_30_98;
	label$1577ae0_30_95:
	r12 = r4->array;
	r11 = ((vdynamic**)(r12 + 1))[r10];
	r5 = (String)r11;
	label$1577ae0_30_98:
	r13 = r0->tooltipX;
	r16 = 5.;
	r13 = r13 + r16;
	r16 = r0->tooltipY;
	r25 = r0->fontSize;
	r24 = r10 * r25;
	r17 = (double)r24;
	r16 = r16 + r17;
	((void (*)(kha__graphics2__Graphics,String,double,double))r2->$type->vobj_proto[5])(r2,r5,r13,r16);
	goto label$1577ae0_30_84;
	label$1577ae0_30_108:
	r2 = r0->globalG;
	if( r2 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r2->$type->vobj_proto[1])(r2);
	return;
}

void zui_Zui_drawTooltipImage(zui__Zui r0) {
	bool *r14;
	kha__Image r2;
	bool r13, r15;
	kha__graphics2__Graphics r12;
	float r16, r17, r18, r19;
	double r7, r8, r9, r11;
	int *r10;
	vdynamic *r4;
	int r1, r5, r6;
	r2 = r0->tooltipImg;
	if( r2 == NULL ) hl_null_access();
	r1 = kha_Image_get_width(r2);
	r4 = r0->tooltipImgMaxWidth;
	if( !r4 ) goto label$1577ae0_31_11;
	r4 = r0->tooltipImgMaxWidth;
	r6 = r4 ? r4->v.i : 0;
	if( r6 >= r1 ) goto label$1577ae0_31_11;
	r4 = r0->tooltipImgMaxWidth;
	r5 = r4 ? r4->v.i : 0;
	r1 = r5;
	label$1577ae0_31_11:
	r2 = r0->tooltipImg;
	if( r2 == NULL ) hl_null_access();
	r5 = kha_Image_get_height(r2);
	r7 = (double)r5;
	r8 = (double)r1;
	r2 = r0->tooltipImg;
	if( r2 == NULL ) hl_null_access();
	r5 = kha_Image_get_width(r2);
	r9 = (double)r5;
	r8 = r8 / r9;
	r7 = r7 * r8;
	r8 = r0->tooltipX;
	r10 = NULL;
	r5 = kha_System_windowWidth(r10);
	r5 = r5 - r1;
	r6 = 20;
	r5 = r5 - r6;
	r9 = (double)r5;
	r8 = Math_min(r8,r9);
	r0->tooltipX = r8;
	r8 = r0->tooltipY;
	r10 = NULL;
	r5 = kha_System_windowHeight(r10);
	r9 = (double)r5;
	r9 = r9 - r7;
	r11 = 20.;
	r9 = r9 - r11;
	r8 = Math_min(r8,r9);
	r0->tooltipY = r8;
	r12 = r0->globalG;
	if( r12 == NULL ) hl_null_access();
	r5 = -16777216;
	r5 = ((int (*)(kha__graphics2__Graphics,int))r12->$type->vobj_proto[9])(r12,r5);
	r12 = r0->globalG;
	if( r12 == NULL ) hl_null_access();
	r13 = false;
	r14 = &r13;
	r4 = NULL;
	((void (*)(kha__graphics2__Graphics,bool*,vdynamic*))r12->$type->vobj_proto[0])(r12,r14,r4);
	r12 = r0->globalG;
	if( r12 == NULL ) hl_null_access();
	r8 = r0->tooltipX;
	r9 = r0->tooltipY;
	r11 = (double)r1;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r12->$type->vobj_proto[4])(r12,r8,r9,r11,r7);
	r12 = r0->globalG;
	if( r12 == NULL ) hl_null_access();
	r5 = -1;
	r5 = ((int (*)(kha__graphics2__Graphics,int))r12->$type->vobj_proto[9])(r12,r5);
	r15 = r0->tooltipInvertY;
	if( !r15 ) goto label$1577ae0_31_75;
	r12 = r0->globalG;
	if( r12 == NULL ) hl_null_access();
	r2 = r0->tooltipImg;
	r8 = r0->tooltipX;
	r16 = (float)r8;
	r8 = r0->tooltipY;
	r8 = r8 + r7;
	r17 = (float)r8;
	r18 = (float)r1;
	r8 = -r7;
	r19 = (float)r8;
	kha_graphics2_Graphics_drawScaledImage(r12,r2,r16,r17,r18,r19);
	goto label$1577ae0_31_85;
	label$1577ae0_31_75:
	r12 = r0->globalG;
	if( r12 == NULL ) hl_null_access();
	r2 = r0->tooltipImg;
	r8 = r0->tooltipX;
	r16 = (float)r8;
	r8 = r0->tooltipY;
	r17 = (float)r8;
	r18 = (float)r1;
	r19 = (float)r7;
	kha_graphics2_Graphics_drawScaledImage(r12,r2,r16,r17,r18,r19);
	label$1577ae0_31_85:
	r12 = r0->globalG;
	if( r12 == NULL ) hl_null_access();
	((void (*)(kha__graphics2__Graphics))r12->$type->vobj_proto[1])(r12);
	return;
}

void zui_Zui_drawString(zui__Zui r0,kha__graphics2__Graphics r1,String r2,vdynamic* r3,double* r4,int* r5) {
	String r14, r17;
	kha__graphics4__PipelineState r25;
	vvirtual *r19, *r22;
	bool r24;
	kha__Kravur r21;
	double r6, r8, r10, r12, r20, r23;
	vdynamic *r16, *r18;
	int r7, r9, r13, r15;
	if( r4 ) goto label$1577ae0_32_3;
	r6 = 0.;
	goto label$1577ae0_32_4;
	label$1577ae0_32_3:
	r6 = *r4;
	label$1577ae0_32_4:
	if( r5 ) goto label$1577ae0_32_7;
	r7 = 0;
	goto label$1577ae0_32_8;
	label$1577ae0_32_7:
	r7 = *r5;
	label$1577ae0_32_8:
	r9 = r0->fontSize;
	r8 = (double)r9;
	r10 = 2.;
	r8 = r8 / r10;
	r9 = r0->_w;
	r10 = (double)r9;
	r9 = (int)r8;
	r12 = (double)r9;
	r10 = r10 / r12;
	r9 = (int)r10;
	if( r2 == NULL ) hl_null_access();
	r13 = r2->length;
	if( r9 >= r13 ) goto label$1577ae0_32_27;
	r13 = 0;
	r16 = hl_alloc_dynamic(&$t_i32);
	r16->v.i = r9;
	r14 = String_substring(r2,r13,r16);
	r17 = (String)$s_58b9e70;
	r14 = String___add__(r14,r17);
	r2 = r14;
	label$1577ae0_32_27:
	if( r3 ) goto label$1577ae0_32_34;
	r19 = r0->_t;
	if( r19 == NULL ) hl_null_access();
	r13 = hl_vfields(r19)[28] ? (*(int*)(hl_vfields(r19)[28])) : (int)hl_dyn_geti(r19->value,-439328731/*TEXT_OFFSET*/,&$t_i32);
	r12 = (double)r13;
	r18 = hl_alloc_dynamic(&$t_f64);
	r18->v.d = r12;
	r3 = r18;
	label$1577ae0_32_34:
	r12 = r3 ? r3->v.d : 0;
	r20 = r0->SCALE;
	r12 = r12 * r20;
	r18 = hl_alloc_dynamic(&$t_f64);
	r18->v.d = r12;
	if( r1 == NULL ) hl_null_access();
	r22 = r0->ops;
	if( r22 == NULL ) hl_null_access();
	r21 = hl_vfields(r22)[2] ? (*(kha__Kravur*)(hl_vfields(r22)[2])) : (kha__Kravur)hl_dyn_getp(r22->value,62938841/*font*/,&$t_kha_Kravur);
	r21 = ((kha__Kravur (*)(kha__graphics2__Graphics,kha__Kravur))r1->$type->vobj_proto[11])(r1,r21);
	r13 = r0->fontSize;
	r13 = ((int (*)(kha__graphics2__Graphics,int))r1->$type->vobj_proto[12])(r1,r13);
	r15 = 1;
	if( r7 != r15 ) goto label$1577ae0_32_62;
	r13 = r0->_w;
	r12 = (double)r13;
	r20 = 2.;
	r12 = r12 / r20;
	r22 = r0->ops;
	if( r22 == NULL ) hl_null_access();
	r21 = hl_vfields(r22)[2] ? (*(kha__Kravur*)(hl_vfields(r22)[2])) : (kha__Kravur)hl_dyn_getp(r22->value,62938841/*font*/,&$t_kha_Kravur);
	if( r21 == NULL ) hl_null_access();
	r13 = r0->fontSize;
	r20 = kha_Kravur_width(r21,r13,r2);
	r23 = 2.;
	r20 = r20 / r23;
	r12 = r12 - r20;
	r18 = hl_alloc_dynamic(&$t_f64);
	r18->v.d = r12;
	goto label$1577ae0_32_79;
	label$1577ae0_32_62:
	r15 = 2;
	if( r7 != r15 ) goto label$1577ae0_32_79;
	r13 = r0->_w;
	r12 = (double)r13;
	r22 = r0->ops;
	if( r22 == NULL ) hl_null_access();
	r21 = hl_vfields(r22)[2] ? (*(kha__Kravur*)(hl_vfields(r22)[2])) : (kha__Kravur)hl_dyn_getp(r22->value,62938841/*font*/,&$t_kha_Kravur);
	if( r21 == NULL ) hl_null_access();
	r13 = r0->fontSize;
	r20 = kha_Kravur_width(r21,r13,r2);
	r12 = r12 - r20;
	r19 = r0->_t;
	if( r19 == NULL ) hl_null_access();
	r13 = hl_vfields(r19)[28] ? (*(int*)(hl_vfields(r19)[28])) : (int)hl_dyn_geti(r19->value,-439328731/*TEXT_OFFSET*/,&$t_i32);
	r20 = (double)r13;
	r12 = r12 - r20;
	r18 = hl_alloc_dynamic(&$t_f64);
	r18->v.d = r12;
	label$1577ae0_32_79:
	r24 = r0->enabled;
	if( r24 ) goto label$1577ae0_32_82;
	zui_Zui_fadeColor(r0);
	label$1577ae0_32_82:
	r25 = r0->rtTextPipeline;
	r25 = kha_graphics2_Graphics_set_pipeline(r1,r25);
	r12 = r0->_x;
	r20 = r18 ? r18->v.d : 0;
	r12 = r12 + r20;
	r20 = r0->_y;
	r23 = r0->fontOffsetY;
	r20 = r20 + r23;
	r20 = r20 + r6;
	((void (*)(kha__graphics2__Graphics,String,double,double))r1->$type->vobj_proto[5])(r1,r2,r12,r20);
	r25 = NULL;
	r25 = kha_graphics2_Graphics_set_pipeline(r1,r25);
	return;
}

void zui_Zui_endElement(zui__Zui r0,vdynamic* r1) {
	vvirtual *r7;
	hl__types__ArrayBytes_Float r11;
	double r4, r5, r8, r9;
	vdynamic *r13;
	zui__Handle r3;
	vbyte *r14;
	int r6, r10, r12;
	r3 = r0->currentWindow;
	if( r3 ) goto label$1577ae0_33_19;
	r4 = r0->_y;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r5 = (double)r6;
	r8 = r0->SCALE;
	r5 = r5 * r8;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[13] ? (*(int*)(hl_vfields(r7)[13])) : (int)hl_dyn_geti(r7->value,146972182/*ELEMENT_OFFSET*/,&$t_i32);
	r8 = (double)r6;
	r9 = r0->SCALE;
	r8 = r8 * r9;
	r5 = r5 + r8;
	r4 = r4 + r5;
	r0->_y = r4;
	return;
	label$1577ae0_33_19:
	r3 = r0->currentWindow;
	if( r3 == NULL ) hl_null_access();
	r6 = r3->layout;
	r10 = 0;
	if( r6 != r10 ) goto label$1577ae0_33_99;
	r6 = r0->curRatio;
	r10 = -1;
	if( r6 == r10 ) goto label$1577ae0_33_36;
	r11 = r0->ratios;
	if( !r11 ) goto label$1577ae0_33_74;
	r6 = r0->curRatio;
	r11 = r0->ratios;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->length;
	r12 = 1;
	r10 = r10 - r12;
	if( r6 != r10 ) goto label$1577ae0_33_74;
	label$1577ae0_33_36:
	if( r1 ) goto label$1577ae0_33_52;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[12] ? (*(int*)(hl_vfields(r7)[12])) : (int)hl_dyn_geti(r7->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r4 = (double)r6;
	r5 = r0->SCALE;
	r4 = r4 * r5;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[13] ? (*(int*)(hl_vfields(r7)[13])) : (int)hl_dyn_geti(r7->value,146972182/*ELEMENT_OFFSET*/,&$t_i32);
	r5 = (double)r6;
	r8 = r0->SCALE;
	r5 = r5 * r8;
	r4 = r4 + r5;
	r13 = hl_alloc_dynamic(&$t_f64);
	r13->v.d = r4;
	r1 = r13;
	label$1577ae0_33_52:
	r4 = r0->_y;
	r5 = r1 ? r1->v.d : 0;
	r4 = r4 + r5;
	r0->_y = r4;
	r11 = r0->ratios;
	if( !r11 ) goto label$1577ae0_33_73;
	r6 = r0->curRatio;
	r11 = r0->ratios;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->length;
	r12 = 1;
	r10 = r10 - r12;
	if( r6 != r10 ) goto label$1577ae0_33_73;
	r6 = -1;
	r0->curRatio = r6;
	r11 = NULL;
	r0->ratios = r11;
	r4 = r0->xBeforeSplit;
	r0->_x = r4;
	r6 = r0->wBeforeSplit;
	r0->_w = r6;
	label$1577ae0_33_73:
	goto label$1577ae0_33_98;
	label$1577ae0_33_74:
	r6 = r0->curRatio;
	++r6;
	r0->curRatio = r6;
	r4 = r0->_x;
	r6 = r0->_w;
	r5 = (double)r6;
	r4 = r4 + r5;
	r0->_x = r4;
	r6 = r0->wBeforeSplit;
	r4 = (double)r6;
	r11 = r0->ratios;
	if( r11 == NULL ) hl_null_access();
	r6 = r0->curRatio;
	r10 = r11->length;
	if( ((unsigned)r6) < ((unsigned)r10) ) goto label$1577ae0_33_91;
	r5 = 0.;
	goto label$1577ae0_33_95;
	label$1577ae0_33_91:
	r14 = r11->bytes;
	r10 = 3;
	r10 = r6 << r10;
	r5 = *(double*)(r14 + r10);
	label$1577ae0_33_95:
	r4 = r4 * r5;
	r6 = (int)r4;
	r0->_w = r6;
	label$1577ae0_33_98:
	goto label$1577ae0_33_111;
	label$1577ae0_33_99:
	r4 = r0->_x;
	r6 = r0->_w;
	r5 = (double)r6;
	r7 = r0->_t;
	if( r7 == NULL ) hl_null_access();
	r6 = hl_vfields(r7)[13] ? (*(int*)(hl_vfields(r7)[13])) : (int)hl_dyn_geti(r7->value,146972182/*ELEMENT_OFFSET*/,&$t_i32);
	r8 = (double)r6;
	r9 = r0->SCALE;
	r8 = r8 * r9;
	r5 = r5 + r8;
	r4 = r4 + r5;
	r0->_x = r4;
	label$1577ae0_33_111:
	return;
}

void zui_Zui_fadeColor(zui__Zui r0) {
	kha__graphics2__Graphics r2, r4;
	float r3, r7, r8, r9;
	double r6;
	float *r10;
	int r1, r5;
	r2 = r0->g;
	if( r2 == NULL ) hl_null_access();
	r4 = r0->g;
	if( r4 == NULL ) hl_null_access();
	r1 = ((int (*)(kha__graphics2__Graphics))r4->$type->vobj_proto[8])(r4);
	r5 = 16711680;
	r1 = r1 & r5;
	r5 = 16;
	r1 = ((unsigned)r1) >> r5;
	r3 = (float)r1;
	r6 = 0.0039215686274509803;
	r7 = (float)r6;
	r3 = r3 * r7;
	r4 = r0->g;
	if( r4 == NULL ) hl_null_access();
	r1 = ((int (*)(kha__graphics2__Graphics))r4->$type->vobj_proto[8])(r4);
	r5 = 65280;
	r1 = r1 & r5;
	r5 = 8;
	r1 = ((unsigned)r1) >> r5;
	r7 = (float)r1;
	r6 = 0.0039215686274509803;
	r8 = (float)r6;
	r7 = r7 * r8;
	r4 = r0->g;
	if( r4 == NULL ) hl_null_access();
	r1 = ((int (*)(kha__graphics2__Graphics))r4->$type->vobj_proto[8])(r4);
	r5 = 255;
	r1 = r1 & r5;
	r8 = (float)r1;
	r6 = 0.0039215686274509803;
	r9 = (float)r6;
	r8 = r8 * r9;
	r6 = 0.25;
	r9 = (float)r6;
	r10 = &r9;
	r1 = kha__Color_Color_Impl__fromFloats(r3,r7,r8,r10);
	r1 = ((int (*)(kha__graphics2__Graphics,int))r2->$type->vobj_proto[9])(r2,r1);
	return;
}

void zui_Zui_fill(zui__Zui r0,double r1,double r2,double r3,double r4,int r5) {
	bool r9;
	kha__graphics2__Graphics r7;
	double r10, r11, r12, r13, r14;
	int r6;
	r7 = r0->g;
	if( r7 == NULL ) hl_null_access();
	r6 = ((int (*)(kha__graphics2__Graphics,int))r7->$type->vobj_proto[9])(r7,r5);
	r9 = r0->enabled;
	if( r9 ) goto label$1577ae0_35_6;
	zui_Zui_fadeColor(r0);
	label$1577ae0_35_6:
	r7 = r0->g;
	if( r7 == NULL ) hl_null_access();
	r10 = r0->_x;
	r12 = r0->SCALE;
	r11 = r1 * r12;
	r10 = r10 + r11;
	r11 = r0->_y;
	r13 = r0->SCALE;
	r12 = r2 * r13;
	r11 = r11 + r12;
	r13 = r0->SCALE;
	r12 = r3 * r13;
	r14 = r0->SCALE;
	r13 = r4 * r14;
	((void (*)(kha__graphics2__Graphics,double,double,double,double))r7->$type->vobj_proto[4])(r7,r10,r11,r12,r13);
	r7 = r0->g;
	if( r7 == NULL ) hl_null_access();
	r6 = -1;
	r6 = ((int (*)(kha__graphics2__Graphics,int))r7->$type->vobj_proto[9])(r7,r6);
	return;
}

bool zui_Zui_isVisible(zui__Zui r0,double r1) {
	kha__Image r7;
	bool r3;
	double r4, r5;
	zui__Handle r2;
	int r6;
	r2 = r0->currentWindow;
	if( r2 ) goto label$1577ae0_36_4;
	r3 = true;
	return r3;
	label$1577ae0_36_4:
	r4 = r0->_y;
	r4 = r4 + r1;
	r5 = 0.;
	if( !(r5 < r4) ) goto label$1577ae0_36_20;
	r4 = r0->_y;
	r2 = r0->currentWindow;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->texture;
	if( r7 == NULL ) hl_null_access();
	r6 = kha_Image_get_height(r7);
	r5 = (double)r6;
	if( r4 < r5 ) goto label$1577ae0_36_18;
	r3 = false;
	goto label$1577ae0_36_19;
	label$1577ae0_36_18:
	r3 = true;
	label$1577ae0_36_19:
	return r3;
	label$1577ae0_36_20:
	r3 = false;
	return r3;
}

bool zui_Zui_getReleased(zui__Zui r0,double* r1) {
	bool r3;
	double r2, r4, r5;
	if( r1 ) goto label$1577ae0_37_3;
	r2 = -1.;
	goto label$1577ae0_37_4;
	label$1577ae0_37_3:
	r2 = *r1;
	label$1577ae0_37_4:
	r3 = r0->enabled;
	if( !r3 ) goto label$1577ae0_37_20;
	r3 = r0->inputEnabled;
	if( !r3 ) goto label$1577ae0_37_20;
	r3 = r0->inputReleased;
	if( !r3 ) goto label$1577ae0_37_20;
	r4 = r2;
	r1 = &r4;
	r3 = zui_Zui_getHover(r0,r1);
	if( !r3 ) goto label$1577ae0_37_20;
	r5 = r2;
	r1 = &r5;
	r3 = zui_Zui_getInitialHover(r0,r1);
	if( !r3 ) goto label$1577ae0_37_20;
	r3 = true;
	goto label$1577ae0_37_21;
	label$1577ae0_37_20:
	r3 = false;
	label$1577ae0_37_21:
	r0->isReleased = r3;
	r3 = r0->isReleased;
	return r3;
}

bool zui_Zui_getPushed(zui__Zui r0,double* r1) {
	bool r3;
	double r2, r4, r5;
	if( r1 ) goto label$1577ae0_38_3;
	r2 = -1.;
	goto label$1577ae0_38_4;
	label$1577ae0_38_3:
	r2 = *r1;
	label$1577ae0_38_4:
	r3 = r0->enabled;
	if( !r3 ) goto label$1577ae0_38_20;
	r3 = r0->inputEnabled;
	if( !r3 ) goto label$1577ae0_38_20;
	r3 = r0->inputDown;
	if( !r3 ) goto label$1577ae0_38_20;
	r4 = r2;
	r1 = &r4;
	r3 = zui_Zui_getHover(r0,r1);
	if( !r3 ) goto label$1577ae0_38_20;
	r5 = r2;
	r1 = &r5;
	r3 = zui_Zui_getInitialHover(r0,r1);
	if( !r3 ) goto label$1577ae0_38_20;
	r3 = true;
	goto label$1577ae0_38_21;
	label$1577ae0_38_20:
	r3 = false;
	label$1577ae0_38_21:
	r0->isPushed = r3;
	r3 = r0->isPushed;
	return r3;
}

bool zui_Zui_getStarted(zui__Zui r0,double* r1) {
	bool r3;
	double r2, r4;
	if( r1 ) goto label$1577ae0_39_3;
	r2 = -1.;
	goto label$1577ae0_39_4;
	label$1577ae0_39_3:
	r2 = *r1;
	label$1577ae0_39_4:
	r3 = r0->enabled;
	if( !r3 ) goto label$1577ae0_39_16;
	r3 = r0->inputEnabled;
	if( !r3 ) goto label$1577ae0_39_16;
	r3 = r0->inputStarted;
	if( !r3 ) goto label$1577ae0_39_16;
	r4 = r2;
	r1 = &r4;
	r3 = zui_Zui_getHover(r0,r1);
	if( !r3 ) goto label$1577ae0_39_16;
	r3 = true;
	goto label$1577ae0_39_17;
	label$1577ae0_39_16:
	r3 = false;
	label$1577ae0_39_17:
	r0->isStarted = r3;
	r3 = r0->isStarted;
	return r3;
}

bool zui_Zui_getInitialHover(zui__Zui r0,double* r1) {
	vvirtual *r6;
	bool r7;
	double r2, r3, r4, r8;
	int r5;
	if( r1 ) goto label$1577ae0_40_3;
	r2 = -1.;
	goto label$1577ae0_40_4;
	label$1577ae0_40_3:
	r2 = *r1;
	label$1577ae0_40_4:
	r4 = -1.;
	if( r2 != r4 ) goto label$1577ae0_40_13;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r3 = (double)r5;
	r4 = r0->SCALE;
	r3 = r3 * r4;
	r2 = r3;
	label$1577ae0_40_13:
	r7 = r0->enabled;
	if( !r7 ) goto label$1577ae0_40_45;
	r7 = r0->inputEnabled;
	if( !r7 ) goto label$1577ae0_40_45;
	r3 = r0->inputInitialX;
	r4 = r0->_windowX;
	r8 = r0->_x;
	r4 = r4 + r8;
	if( !(r3 >= r4) ) goto label$1577ae0_40_45;
	r3 = r0->inputInitialX;
	r4 = r0->_windowX;
	r8 = r0->_x;
	r4 = r4 + r8;
	r5 = r0->_w;
	r8 = (double)r5;
	r4 = r4 + r8;
	if( !(r3 < r4) ) goto label$1577ae0_40_45;
	r3 = r0->inputInitialY;
	r4 = r0->_windowY;
	r8 = r0->_y;
	r4 = r4 + r8;
	if( !(r3 >= r4) ) goto label$1577ae0_40_45;
	r3 = r0->inputInitialY;
	r4 = r0->_windowY;
	r8 = r0->_y;
	r4 = r4 + r8;
	r4 = r4 + r2;
	if( r3 < r4 ) goto label$1577ae0_40_43;
	r7 = false;
	goto label$1577ae0_40_44;
	label$1577ae0_40_43:
	r7 = true;
	label$1577ae0_40_44:
	return r7;
	label$1577ae0_40_45:
	r7 = false;
	return r7;
}

bool zui_Zui_getHover(zui__Zui r0,double* r1) {
	vvirtual *r6;
	bool r7;
	double r2, r3, r4, r8;
	int r5;
	if( r1 ) goto label$1577ae0_41_3;
	r2 = -1.;
	goto label$1577ae0_41_4;
	label$1577ae0_41_3:
	r2 = *r1;
	label$1577ae0_41_4:
	r4 = -1.;
	if( r2 != r4 ) goto label$1577ae0_41_13;
	r6 = r0->_t;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_vfields(r6)[12] ? (*(int*)(hl_vfields(r6)[12])) : (int)hl_dyn_geti(r6->value,-482102240/*ELEMENT_H*/,&$t_i32);
	r3 = (double)r5;
	r4 = r0->SCALE;
	r3 = r3 * r4;
	r2 = r3;
	label$1577ae0_41_13:
	r7 = r0->enabled;
	if( !r7 ) goto label$1577ae0_41_43;
	r7 = r0->inputEnabled;
	if( !r7 ) goto label$1577ae0_41_43;
	r3 = r0->inputX;
	r4 = r0->_windowX;
	r8 = r0->_x;
	r4 = r4 + r8;
	if( !(r3 >= r4) ) goto label$1577ae0_41_43;
	r3 = r0->inputX;
	r4 = r0->_windowX;
	r8 = r0->_x;
	r4 = r4 + r8;
	r5 = r0->_w;
	r8 = (double)r5;
	r4 = r4 + r8;
	if( !(r3 < r4) ) goto label$1577ae0_41_43;
	r3 = r0->inputY;
	r4 = r0->_windowY;
	r8 = r0->_y;
	r4 = r4 + r8;
	if( !(r3 >= r4) ) goto label$1577ae0_41_43;
	r3 = r0->inputY;
	r4 = r0->_windowY;
	r8 = r0->_y;
	r4 = r4 + r8;
	r4 = r4 + r2;
	if( !(r3 < r4) ) goto label$1577ae0_41_43;
	r7 = true;
	goto label$1577ae0_41_44;
	label$1577ae0_41_43:
	r7 = false;
	label$1577ae0_41_44:
	r0->isHovered = r7;
	r7 = r0->isHovered;
	return r7;
}

bool zui_Zui_getInputInRect(zui__Zui r0,double r1,double r2,double r3,double r4,double* r5) {
	bool r7;
	double r6, r8, r9;
	if( r5 ) goto label$1577ae0_42_3;
	r6 = 1.;
	goto label$1577ae0_42_4;
	label$1577ae0_42_3:
	r6 = *r5;
	label$1577ae0_42_4:
	r7 = r0->enabled;
	if( !r7 ) goto label$1577ae0_42_26;
	r7 = r0->inputEnabled;
	if( !r7 ) goto label$1577ae0_42_26;
	r8 = r0->inputX;
	r9 = r1 * r6;
	if( !(r8 >= r9) ) goto label$1577ae0_42_26;
	r8 = r0->inputX;
	r9 = r1 + r3;
	r9 = r9 * r6;
	if( !(r8 < r9) ) goto label$1577ae0_42_26;
	r8 = r0->inputY;
	r9 = r2 * r6;
	if( !(r8 >= r9) ) goto label$1577ae0_42_26;
	r8 = r0->inputY;
	r9 = r2 + r4;
	r9 = r9 * r6;
	if( r8 < r9 ) goto label$1577ae0_42_24;
	r7 = false;
	goto label$1577ae0_42_25;
	label$1577ae0_42_24:
	r7 = true;
	label$1577ae0_42_25:
	return r7;
	label$1577ae0_42_26:
	r7 = false;
	return r7;
}

void zui_Zui_onMouseDown(zui__Zui r0,int r1,int r2,int r3) {
	vvirtual *r10;
	bool r7;
	double r8, r11, r12;
	vdynamic *r9;
	int r5, r6;
	r6 = 0;
	if( r1 != r6 ) goto label$1577ae0_43_5;
	r7 = true;
	r0->inputStarted = r7;
	goto label$1577ae0_43_7;
	label$1577ae0_43_5:
	r7 = true;
	r0->inputStartedR = r7;
	label$1577ae0_43_7:
	r6 = 0;
	if( r1 != r6 ) goto label$1577ae0_43_12;
	r7 = true;
	r0->inputDown = r7;
	goto label$1577ae0_43_14;
	label$1577ae0_43_12:
	r7 = true;
	r0->inputDownR = r7;
	label$1577ae0_43_14:
	r8 = (double)r2;
	r10 = r0->ops;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(vdynamic**)(hl_vfields(r10)[5])) : (vdynamic*)hl_dyn_getp(r10->value,371877878/*scaleTexture*/,&$t_nul_f64);
	r11 = r9 ? r9->v.d : 0;
	r8 = r8 * r11;
	r5 = (int)r8;
	r11 = (double)r3;
	r10 = r0->ops;
	if( r10 == NULL ) hl_null_access();
	r9 = hl_vfields(r10)[5] ? (*(vdynamic**)(hl_vfields(r10)[5])) : (vdynamic*)hl_dyn_getp(r10->value,371877878/*scaleTexture*/,&$t_nul_f64);
	r12 = r9 ? r9->v.d : 0;
	r11 = r11 * r12;
	r6 = (int)r11;
	zui_Zui_setInputPosition(r0,r5,r6);
	r12 = (double)r5;
	r0->inputInitialX = r12;
	r12 = (double)r6;
	r0->inputInitialY = r12;
	return;
}

void zui_Zui_onMouseUp(zui__Zui r0,int r1,int r2,int r3) {
	vvirtual *r12;
	bool r7;
	double r9, r10, r13;
	vdynamic *r11;
	zui__Handle r8;
	int r5, r6, r14;
	r6 = 0;
	if( r1 != r6 ) goto label$1577ae0_44_24;
	r7 = r0->isScrolling;
	if( !r7 ) goto label$1577ae0_44_21;
	r7 = false;
	r0->isScrolling = r7;
	r8 = r0->scrollingHandle;
	if( !r8 ) goto label$1577ae0_44_12;
	r8 = r0->scrollingHandle;
	if( r8 == NULL ) hl_null_access();
	r7 = false;
	r8->scrolling = r7;
	label$1577ae0_44_12:
	r9 = (double)r2;
	r10 = r0->inputInitialX;
	if( r9 != r10 ) goto label$1577ae0_44_20;
	r9 = (double)r3;
	r10 = r0->inputInitialY;
	if( r9 != r10 ) goto label$1577ae0_44_20;
	r7 = true;
	r0->inputReleased = r7;
	label$1577ae0_44_20:
	goto label$1577ae0_44_23;
	label$1577ae0_44_21:
	r7 = true;
	r0->inputReleased = r7;
	label$1577ae0_44_23:
	goto label$1577ae0_44_28;
	label$1577ae0_44_24:
	r6 = 1;
	if( r1 != r6 ) goto label$1577ae0_44_28;
	r7 = true;
	r0->inputReleasedR = r7;
	label$1577ae0_44_28:
	r6 = 0;
	if( r1 != r6 ) goto label$1577ae0_44_33;
	r7 = false;
	r0->inputDown = r7;
	goto label$1577ae0_44_35;
	label$1577ae0_44_33:
	r7 = false;
	r0->inputDownR = r7;
	label$1577ae0_44_35:
	r9 = (double)r2;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[5] ? (*(vdynamic**)(hl_vfields(r12)[5])) : (vdynamic*)hl_dyn_getp(r12->value,371877878/*scaleTexture*/,&$t_nul_f64);
	r10 = r11 ? r11->v.d : 0;
	r9 = r9 * r10;
	r5 = (int)r9;
	r10 = (double)r3;
	r12 = r0->ops;
	if( r12 == NULL ) hl_null_access();
	r11 = hl_vfields(r12)[5] ? (*(vdynamic**)(hl_vfields(r12)[5])) : (vdynamic*)hl_dyn_getp(r12->value,371877878/*scaleTexture*/,&$t_nul_f64);
	r13 = r11 ? r11->v.d : 0;
	r10 = r10 * r13;
	r14 = (int)r10;
	zui_Zui_setInputPosition(r0,r5,r14);
	zui_Zui_deselectText(r0);
	return;
}

void zui_Zui_onMouseMove(zui__Zui r0,int r1,int r2,int r3,int r4) {
	vvirtual *r8;
	double r5, r9, r11;
	vdynamic *r7;
	int r6, r12;
	r5 = (double)r1;
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[5] ? (*(vdynamic**)(hl_vfields(r8)[5])) : (vdynamic*)hl_dyn_getp(r8->value,371877878/*scaleTexture*/,&$t_nul_f64);
	r9 = r7 ? r7->v.d : 0;
	r5 = r5 * r9;
	r6 = (int)r5;
	r9 = (double)r2;
	r8 = r0->ops;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[5] ? (*(vdynamic**)(hl_vfields(r8)[5])) : (vdynamic*)hl_dyn_getp(r8->value,371877878/*scaleTexture*/,&$t_nul_f64);
	r11 = r7 ? r7->v.d : 0;
	r9 = r9 * r11;
	r12 = (int)r9;
	zui_Zui_setInputPosition(r0,r6,r12);
	return;
}

void zui_Zui_onMouseWheel(zui__Zui r0,int r1) {
	r0->inputWheelDelta = r1;
	return;
}

void zui_Zui_setInputPosition(zui__Zui r0,int r1,int r2) {
	double r3, r4, r5;
	r3 = r0->inputDX;
	r4 = (double)r1;
	r5 = r0->inputX;
	r4 = r4 - r5;
	r3 = r3 + r4;
	r0->inputDX = r3;
	r3 = r0->inputDY;
	r4 = (double)r2;
	r5 = r0->inputY;
	r4 = r4 - r5;
	r3 = r3 + r4;
	r0->inputDY = r3;
	r3 = (double)r1;
	r0->inputX = r3;
	r3 = (double)r2;
	r0->inputY = r3;
	return;
}

void zui_Zui_onKeyDown(zui__Zui r0,int r1) {
	String r5;
	bool r3;
	vdynamic *r2;
	r2 = hl_alloc_dynamic(&$t_i32);
	r2->v.i = r1;
	r0->key = r2;
	r3 = true;
	r0->isKeyPressed = r3;
	r3 = true;
	r0->isKeyDown = r3;
	switch(r1) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
		case 15:
		case 19:
		case 20:
		case 21:
		case 22:
		case 23:
		case 24:
		case 25:
		case 26:
		case 28:
		case 29:
		case 30:
		case 31:
		case 33:
		case 34:
		case 35:
		case 36:
		case 37:
		case 38:
		case 39:
		case 40:
		case 41:
		case 42:
		case 43:
		case 44:
		case 45:
			goto label$1577ae0_48_28;
		case 8:
			r3 = true;
			r0->isBackspaceDown = r3;
			goto label$1577ae0_48_28;
		case 16:
			r3 = true;
			r0->isShiftDown = r3;
			goto label$1577ae0_48_28;
		case 17:
			r3 = true;
			r0->isCtrlDown = r3;
			goto label$1577ae0_48_28;
		case 18:
			r3 = true;
			r0->isAltDown = r3;
			goto label$1577ae0_48_28;
		case 27:
			r3 = true;
			r0->isEscapeDown = r3;
			goto label$1577ae0_48_28;
		case 32:
			r5 = (String)$s_7215ee9;
			r0->_char = r5;
			goto label$1577ae0_48_28;
		case 46:
			r3 = true;
			r0->isDeleteDown = r3;
	}
	label$1577ae0_48_28:
	return;
}

void zui_Zui_onKeyUp(zui__Zui r0,int r1) {
	bool r2;
	r2 = false;
	r0->isKeyDown = r2;
	switch(r1) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
		case 15:
		case 19:
		case 20:
		case 21:
		case 22:
		case 23:
		case 24:
		case 25:
		case 26:
		case 28:
		case 29:
		case 30:
		case 31:
		case 32:
		case 33:
		case 34:
		case 35:
		case 36:
		case 37:
		case 38:
		case 39:
		case 40:
		case 41:
		case 42:
		case 43:
		case 44:
		case 45:
			goto label$1577ae0_49_21;
		case 8:
			r2 = false;
			r0->isBackspaceDown = r2;
			goto label$1577ae0_49_21;
		case 16:
			r2 = false;
			r0->isShiftDown = r2;
			goto label$1577ae0_49_21;
		case 17:
			r2 = false;
			r0->isCtrlDown = r2;
			goto label$1577ae0_49_21;
		case 18:
			r2 = false;
			r0->isAltDown = r2;
			goto label$1577ae0_49_21;
		case 27:
			r2 = false;
			r0->isEscapeDown = r2;
			goto label$1577ae0_49_21;
		case 46:
			r2 = false;
			r0->isDeleteDown = r2;
	}
	label$1577ae0_49_21:
	return;
}

void zui_Zui_onKeyPress(zui__Zui r0,String r1) {
	bool r2;
	r0->_char = r1;
	r2 = true;
	r0->isKeyPressed = r2;
	return;
}

String zui_Zui_onCut(zui__Zui r0) {
	String r3;
	bool r1;
	zui__$Zui r2;
	r1 = true;
	r2 = (zui__$Zui)$g__zui_Zui;
	r2->isCut = r1;
	r3 = zui_Zui_onCopy(r0);
	return r3;
}

String zui_Zui_onCopy(zui__Zui r0) {
	String r3;
	bool r1;
	zui__$Zui r2;
	r1 = true;
	r2 = (zui__$Zui)$g__zui_Zui;
	r2->isCopy = r1;
	r2 = (zui__$Zui)$g__zui_Zui;
	r3 = r2->textToCopy;
	return r3;
}

void zui_Zui_onPaste(zui__Zui r0,String r1) {
	bool r2;
	zui__$Zui r3;
	r2 = true;
	r3 = (zui__$Zui)$g__zui_Zui;
	r3->isPaste = r2;
	r3 = (zui__$Zui)$g__zui_Zui;
	r3->textToPaste = r1;
	return;
}

void zui_Zui_new(zui__Zui r0,vvirtual* r1) {
	String r8;
	kha__graphics4__PipelineState r22;
	kha__Image r3;
	vvirtual *r11;
	hl__types__ArrayObj r6;
	bool r4;
	zui__$Themes r12;
	zui__Zui r15;
	zui__$Zui r16;
	vclosure *r17, *r18, *r19, *r20;
	double r2;
	vdynamic *r7, *r13, *r14;
	zui__Handle r5;
	kha__graphics4__VertexStructure r21;
	int r9;
	static vclosure cl$0 = { &$t_fun_715d8bf, zui_Zui_new__$1, 0 };
	r2 = -1.;
	r0->restoreY = r2;
	r2 = -1.;
	r0->restoreX = r2;
	r3 = NULL;
	r0->checkSelectImage = r3;
	r4 = false;
	r0->elementsBaked = r4;
	r2 = 0.;
	r0->tabScroll = r2;
	r5 = NULL;
	r0->tabHandle = r5;
	r6 = NULL;
	r0->tabNames = r6;
	r2 = 0.;
	r0->tooltipTime = r2;
	r4 = false;
	r0->tooltipWait = r4;
	r4 = false;
	r0->tooltipShown = r4;
	r2 = 0.;
	r0->tooltipY = r2;
	r2 = 0.;
	r0->tooltipX = r2;
	r4 = false;
	r0->tooltipInvertY = r4;
	r7 = NULL;
	r0->tooltipImgMaxWidth = r7;
	r3 = NULL;
	r0->tooltipImg = r3;
	r8 = (String)$s_;
	r0->tooltipText = r8;
	r9 = 0;
	r0->comboToSubmit = r9;
	r5 = NULL;
	r0->submitComboHandle = r5;
	r5 = NULL;
	r0->comboSelectedWindow = r5;
	r5 = NULL;
	r0->comboSelectedHandle = r5;
	r5 = NULL;
	r0->tabPressedHandle = r5;
	r4 = false;
	r0->tabPressed = r4;
	r8 = (String)$s_;
	r0->textToSubmit = r8;
	r5 = NULL;
	r0->submitTextHandle = r5;
	r5 = NULL;
	r0->textSelectedHandle = r5;
	r5 = NULL;
	r0->scrollingHandle = r5;
	r4 = true;
	r0->windowEnded = r4;
	r2 = 0.;
	r0->_windowY = r2;
	r2 = 0.;
	r0->_windowX = r2;
	r4 = true;
	r0->imageScrollAlign = r4;
	r2 = 0.;
	r0->scrollAlign = r2;
	r9 = -1;
	r0->curRatio = r9;
	r9 = 0;
	r0->highlightAnchor = r9;
	r9 = 0;
	r0->cursorY = r9;
	r9 = 0;
	r0->cursorX = r9;
	r7 = NULL;
	r0->key = r7;
	r4 = false;
	r0->isEscapeDown = r4;
	r4 = false;
	r0->isDeleteDown = r4;
	r4 = false;
	r0->isBackspaceDown = r4;
	r4 = false;
	r0->isAltDown = r4;
	r4 = false;
	r0->isCtrlDown = r4;
	r4 = false;
	r0->isShiftDown = r4;
	r4 = false;
	r0->isKeyDown = r4;
	r4 = false;
	r0->isKeyPressed = r4;
	r9 = 0;
	r0->inputWheelDelta = r9;
	r4 = true;
	r0->inputEnabled = r4;
	r4 = false;
	r0->inputRegistered = r4;
	r4 = true;
	r0->scrollEnabled = r4;
	r4 = false;
	r0->imageInvertY = r4;
	r4 = false;
	r0->changed = r4;
	r4 = false;
	r0->isReleased = r4;
	r4 = false;
	r0->isHovered = r4;
	r4 = false;
	r0->isPushed = r4;
	r4 = false;
	r0->isStarted = r4;
	r4 = true;
	r0->enabled = r4;
	r4 = false;
	r0->isTyping = r4;
	r4 = false;
	r0->isScrolling = r4;
	if( r1 == NULL ) hl_null_access();
	r11 = hl_vfields(r1)[6] ? (*(vvirtual**)(hl_vfields(r1)[6])) : (vvirtual*)hl_dyn_getp(r1->value,260472329/*theme*/,&$t_vrt_019b9f1);
	if( r11 ) goto label$1577ae0_54_120;
	r12 = (zui__$Themes)$g__zui_Themes;
	r11 = r12->dark;
	if( hl_vfields(r1)[6] ) *(vvirtual**)(hl_vfields(r1)[6]) = (vvirtual*)r11; else hl_dyn_setp(r1->value,260472329/*theme*/,&$t_vrt_019b9f1,r11);
	label$1577ae0_54_120:
	r11 = hl_vfields(r1)[6] ? (*(vvirtual**)(hl_vfields(r1)[6])) : (vvirtual*)hl_dyn_getp(r1->value,260472329/*theme*/,&$t_vrt_019b9f1);
	r0->_t = r11;
	r7 = hl_vfields(r1)[3] ? (*(vdynamic**)(hl_vfields(r1)[3])) : (vdynamic*)hl_dyn_getp(r1->value,3128633/*khaWindowId*/,&$t_nul_i32);
	if( r7 ) goto label$1577ae0_54_127;
	r9 = 0;
	r7 = hl_alloc_dynamic(&$t_i32);
	r7->v.i = r9;
	if( hl_vfields(r1)[3] ) *(vdynamic**)(hl_vfields(r1)[3]) = (vdynamic*)r7; else hl_dyn_setp(r1->value,3128633/*khaWindowId*/,&$t_nul_i32,r7);
	label$1577ae0_54_127:
	r13 = hl_vfields(r1)[4] ? (*(vdynamic**)(hl_vfields(r1)[4])) : (vdynamic*)hl_dyn_getp(r1->value,-267297164/*scaleFactor*/,&$t_nul_f64);
	if( r13 ) goto label$1577ae0_54_132;
	r2 = 1.;
	r13 = hl_alloc_dynamic(&$t_f64);
	r13->v.d = r2;
	if( hl_vfields(r1)[4] ) *(vdynamic**)(hl_vfields(r1)[4]) = (vdynamic*)r13; else hl_dyn_setp(r1->value,-267297164/*scaleFactor*/,&$t_nul_f64,r13);
	label$1577ae0_54_132:
	r13 = hl_vfields(r1)[5] ? (*(vdynamic**)(hl_vfields(r1)[5])) : (vdynamic*)hl_dyn_getp(r1->value,371877878/*scaleTexture*/,&$t_nul_f64);
	if( r13 ) goto label$1577ae0_54_137;
	r2 = 1.;
	r13 = hl_alloc_dynamic(&$t_f64);
	r13->v.d = r2;
	if( hl_vfields(r1)[5] ) *(vdynamic**)(hl_vfields(r1)[5]) = (vdynamic*)r13; else hl_dyn_setp(r1->value,371877878/*scaleTexture*/,&$t_nul_f64,r13);
	label$1577ae0_54_137:
	r14 = hl_vfields(r1)[0] ? (*(vdynamic**)(hl_vfields(r1)[0])) : (vdynamic*)hl_dyn_getp(r1->value,485638881/*autoNotifyInput*/,&$t_nul_bool);
	if( r14 ) goto label$1577ae0_54_142;
	r4 = true;
	r14 = hl_alloc_dynbool(r4);
	if( hl_vfields(r1)[0] ) *(vdynamic**)(hl_vfields(r1)[0]) = (vdynamic*)r14; else hl_dyn_setp(r1->value,485638881/*autoNotifyInput*/,&$t_nul_bool,r14);
	label$1577ae0_54_142:
	r0->ops = r1;
	r13 = hl_vfields(r1)[4] ? (*(vdynamic**)(hl_vfields(r1)[4])) : (vdynamic*)hl_dyn_getp(r1->value,-267297164/*scaleFactor*/,&$t_nul_f64);
	r2 = r13 ? r13->v.d : 0;
	zui_Zui_setScale(r0,r2);
	r14 = hl_vfields(r1)[0] ? (*(vdynamic**)(hl_vfields(r1)[0])) : (vdynamic*)hl_dyn_getp(r1->value,485638881/*autoNotifyInput*/,&$t_nul_bool);
	r4 = r14 ? r14->v.b : 0;
	if( !r4 ) goto label$1577ae0_54_150;
	zui_Zui_registerInput(r0);
	label$1577ae0_54_150:
	r16 = (zui__$Zui)$g__zui_Zui;
	r15 = r16->copyReceiver;
	if( r15 ) goto label$1577ae0_54_161;
	r16 = (zui__$Zui)$g__zui_Zui;
	r16->copyReceiver = r0;
	r17 = hl_alloc_closure_ptr(&$t_fun_00f1036,zui_Zui_onCut,r0);
	r18 = hl_alloc_closure_ptr(&$t_fun_00f1036,zui_Zui_onCopy,r0);
	r19 = hl_alloc_closure_ptr(&$t_fun_161bd10,zui_Zui_onPaste,r0);
	kha_System_notifyOnCutCopyPaste(r17,r18,r19);
	r20 = &cl$0;
	kha_System_notifyOnFrames(r20);
	label$1577ae0_54_161:
	r21 = kha_graphics4_Graphics2_createTextVertexStructure();
	r22 = kha_graphics4_Graphics2_createTextPipeline(r21);
	r0->rtTextPipeline = r22;
	r22 = r0->rtTextPipeline;
	if( r22 == NULL ) hl_null_access();
	r9 = 1;
	r22->alphaBlendSource = r9;
	r22 = r0->rtTextPipeline;
	if( r22 == NULL ) hl_null_access();
	kha_graphics4_PipelineState_compile(r22);
	return;
}

